<!DOCTYPE html>
<html manifest="cache.manifest" xmlns="http://www.w3.org/1999/html">
<head>

    <!-- vis Version 1.4.15 -->

    <!--
		Use FireFox or Chrome with --allow-file-access-from-files flag to test DashUI local.
		Before you start Chrome anew all other instances should be closed.
		For local start lib directory from ccu.io is required and datastore in ../ directory.
	-->
    <link rel="stylesheet" type="text/css" href="../../lib/css/themes/jquery-ui/custom-light/jquery-ui.min.css" id="commonTheme">

    <meta charset="utf-8"/>

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes"/>

    <link href="img/faviconEdit.png" rel="shortcut icon" type="image/x-icon"/>
    <link href="img/faviconEdit.png" rel="apple-touch-icon" />

    <title>Edit vis</title>

    <link rel="stylesheet" type="text/css" href="lib/css/fancytree/ui.fancytree.min.css" />
    <link rel="stylesheet" type="text/css" href="lib/css/superfish/superfish.css" />
    <link rel="stylesheet" type="text/css" href="lib/css/jquery.multiselect-1.13.css" />
    <link rel="stylesheet" type="text/css" href="lib/css/jquery.jgrowl.min.css" />
    <link rel="stylesheet" type="text/css" href="lib/css/farbtastic.css" />
    <link rel="stylesheet" type="text/css" href="js/fm/fileManager.css" />

    <link rel="stylesheet" type="text/css" href="css/backgrounds.css" />
    <link rel="stylesheet" type="text/css" href="css/vis.css" />
    <link rel="stylesheet" type="text/css" href="css/styles.css" />
    <link rel="stylesheet" type="text/css" href="css/vis-editor.css" />
    <link rel="stylesheet" type="text/css" href="../../lib/css/iob/selectID.css" />

    <script type="text/javascript" src="../../lib/js/jquery-1.11.2.min.js"></script>
    <script type="text/javascript" src="../../lib/js/jquery-ui-1.11.4.full.min.js"></script>
    <script type="text/javascript" src="lib/js/jquery.fancytree-all.min.js"></script>
    <script type="text/javascript" src="lib/js/colResizable-1.5.min.js"></script>
    <script type="text/javascript" src="../../lib/js/selectID.js"></script>
    <script type="text/javascript" src="../../lib/js/socket.io.js"></script>
    <script type="text/javascript" src="lib/js/translate.js"></script>
    <script type="text/javascript" src="lib/js/jquery.multiselect-1.13.min.js"></script>
    <script type="text/javascript" src="lib/js/loStorage.js"></script>
    <script type="text/javascript" src="lib/js/jquery.ui.touch-punch.min.js"></script>
    <script type="text/javascript" src="lib/js/dropzone.js"></script>
    <script type="text/javascript" src="lib/js/can.custom.min.js"></script>
    <script type="text/javascript" src="lib/js/html2canvas.min.js"></script>
    <script type="text/javascript" src="lib/js/jquery.jgrowl.min.js"></script>
    <script type="text/javascript" src="lib/js/superclick.js"></script>
    <script type="text/javascript" src="lib/ace/ace.js"></script>
    <script type="text/javascript" src="lib/ace/ext-language_tools.js"></script>
    <script type="text/javascript" src="lib/js/farbtastic.js"></script>
    <script type="text/javascript" src="lib/js/moment-with-locales.min.js"></script>
    <script type="text/javascript" src="js/fm/fileManager.js"></script>
    <script type="text/javascript" src="js/config.js"></script> <!-- this file must be before vis.js -->
    <script type="text/javascript" src="js/words.js"></script>
    <script type="text/javascript" src="js/visAbout.js"></script>
    <script type="text/javascript" src="_socket/info.js"></script>
    <script type="text/javascript" src="js/conn.js"></script>
    <script type="text/javascript" src="js/visUtils.js"></script>
    <script type="text/javascript" src="js/vis.js"></script>
    <script type="text/javascript" src="js/visEditWelcome.js"></script>
    <script type="text/javascript" src="js/visEdit.js"></script>
    <script type="text/javascript" src="js/visEditExt.js"></script>
    <script type="text/javascript" src="js/visEditInspect.js"></script>
    <script type="text/javascript" src="js/visEditTemplates.js"></script>
</head>
<body >

<!-- ---------------------------------------  DO NOT EDIT INSIDE THIS LINE - BEGIN ------------------------------------------- -->
<!-- --------------basic.html--- START -->
<link rel="stylesheet" type="text/css" href="widgets/basic/css/table.css" />
<script type="text/javascript" src="widgets/basic/js/table.js"></script>

<script type="text/javascript">
    'use strict';

    if (vis.editMode) {
        // Add words for basic widgets
        $.extend(true, systemDictionary, {
            // Bars
            "src":              {"en": "Source",                    "de": "Quelle",                 "ru": "Адрес"},
            "refreshInterval":  {"en": "Refresh interval(ms)",      "de": "Updatezeit(ms)",         "ru": "Интервал обновления(ms)"},
            "is_comma":         {"en": "Divider comma",             "de": "Komme als Trennung",     "ru": "Запятая-разделитель"},
            "is_tdp":           {"en": "Use thousands separator",  "de": "Tausender Trennzeichen",  "ru": "Use thousands separator"},
            "digits":           {"en": "Digits after comma",        "de": "Zeichen nach Komma",     "ru": "Знаков после запятой"},
            "oid":              {"en": "Object ID",                 "de": "Object ID",              "ru": "ID Объекта"},
            "html_prepend":     {"en": "Prepend value",             "de": "Voranstellen HTML",      "ru": "Префикс значения"},
            "html_append":      {"en": "Append to value",           "de": "HTML anhängen",          "ru": "Суффикс значения"},
            "html_append_singular": {
                "en": "Append to value (Singular)",
                "de": "HTML anhängen (Singulär)",
                "ru": "Суффикс значения(един.ч.)"
            },
            "html_append_plural": {
                "en": "Append to value (Plural)",
                "de": "HTML anhängen(Plüral)",
                "ru": "Суффикс значения(множ.ч.)"
            },
            "html_prepend_tooltip":    {
                "en": "Write HTML code here that will be placed before,\x0Ae.g. <b> ",
                "de": "HTML Kod, der wird vom dem Wert platziert,\x0Az.B. <b>",
                "ru": "HTML код будет помещён перед значением,\x0Aнапример <b>"
            },
            "html_append_tooltip":     {
                "en": "Write HTML code here that will be placed before,\x0Ae.g. </b>",
                "de": "HTML Kod, der wird vom dem Wert platziert,\x0Az.B. </b>",
                "ru": "HTML код будет помещён после значения,\x0Aнапример </b>"
            },
            "stretch":          {"en": "Stretch",                   "de": "Strecken",               "ru": "Растянуть"},
            "factor":           {"en": "Multiplex factor",          "de": "Multiplikation",         "ru": "Множитеть"},
            "class_true":       {"en": "Class if quality 'true'",   "de": "Klasse bei Qualität 'true'", "ru": "Класс, если качество 'true'"},
            "class_false":      {"en": "Class if quality 'false'",  "de": "Klasse bei Qualität 'false'", "ru": "Класс, если качество 'false'"},
            "test_html":        {"en": "Text for test",             "de": "Testtext",               "ru": "Тестовый текст"},
            "test_html_tooltip": {
                "en": "You can specify the test text if value is now empty to visualise settings.\x0AIt is valid only during edit.",
                "de": "Man kann noch Testtext setzen um die Einstellungen visuell zu sehen.\x0ADas ist nur während Edit gültig.",
                "ru": "Можно задать тестовый текст, что бы видеть настройки визуально.\x0AОн действителен только во время редактирования."
            },
            "html":             {"en": "HTML",                      "de": "HTML",                   "ru": "HTML"},
            "oid-quality":      {"en": "Quality ID",                "de": "Qualität ID",            "ru": "ID-Качество"},
            "oid-quality_tooltip":     {
                "en": "You can set additionally Quality ID to indicate if the value valid or not.",
                "de": "Man kann noch zusätzlich Qualität ID setzetn um zu zeigen ob das Wert aktuell ist.",
                "ru": "Можно дополнительно установить ID-Качества, что бы показать актуальное значение или нет."},
            "title":            {"en": "Title",                     "de": "Titel",                  "ru": "Заголовок"},
            "title_font":       {"en": "Title font name",           "de": "Titelschriftname",       "ru": "Шрифт заголовка"},
            "title_color":      {"en": "Title color",               "de": "Titelfarbe",             "ru": "Цвет заголовка"},
            "title_back":       {"en": "Title backg. color",        "de": "Titelhintergrund",       "ru": "Цвет фона текста"},
            "title_top":        {"en": "Title top padding",         "de": "Titel-Oben-Abstand",     "ru": "Отступ заголовка сверху"},
            "title_left":       {"en": "Title left padding",        "de": "Titel-Links-Abstand",    "ru": "Отступ заголовка слева"},
            "header_height":    {"en": "Header height",             "de": "Kopfhöhe",               "ru": "Высота заголовока"},
            "header_color":     {"en": "Header color",              "de": "Kopffarbe",              "ru": "Цвет фона заголовка"},
            "refreshOnWakeUp":  {"en": "Refresh on wake up",        "de": "Update bei Aufwachen",   "ru": "Обновлять при выходе из сна"},
            "refreshOnViewChange": {"en": "Refresh on view change", "de": "Update bei Viewwechsel", "ru": "Обновлять при смене страницы"},
            "refreshWithNoQuery": {"en": "Do not add anything to URL", "de": "Addiere nichst zu URL", "ru": "Ничего не добавлять к URL"},
            "src_":             {"en": "URL, by value=",            "de": "URL falls Wert=",        "ru": "Адрес при значении "},
            "nav_view":         {"en": "View to navigate",          "de": "View zum Navigieren",    "ru": "Перейти на страницу"},
            "group_effects":    {"en": "Show/Hide Effects",         "de": "Anzeige Effekte",        "ru": "Эффекты появления/исчезновения"},
            "group_extended":   {"en": "Extended settings",         "de": "Erweiterte Eistellungen", "ru": "Расширенные настройки"},
            "body-background":  {"en": "Background color by changing", "de": "Hintegrund by Wechsel", "ru": "Фон при смене страниц"},
            "sync":             {"en": "Hide and show together:",   "de": "Anzeigen und verbergen gleichzeitig", "ru": "Появления и исчезновение вместе"},
            // Effects
            "show":             {"en": "show",                      "de": "show",                   "ru": "show"},
            "blind":            {"en": "blind",                     "de": "blind",                  "ru": "blind"},
            "bounce":           {"en": "bounce",                    "de": "bounce",                 "ru": "bounce"},
            "clip":             {"en": "clip",                      "de": "clip",                   "ru": "clip"},
            "drop":             {"en": "drop",                      "de": "drop",                   "ru": "drop"},
            "explode":          {"en": "explode",                   "de": "explode",                "ru": "explode"},
            "fade":             {"en": "fade",                      "de": "fade",                   "ru": "fade"},
            "fold":             {"en": "fold",                      "de": "fold",                   "ru": "fold"},
            "highlight":        {"en": "highlight",                 "de": "highlight",              "ru": "highlight"},
            "puff":             {"en": "puff",                      "de": "puff",                   "ru": "puff"},
            "pulsate":          {"en": "pulsate",                   "de": "pulsate",                "ru": "pulsate"},
            "scale":            {"en": "scale",                     "de": "scale",                  "ru": "scale"},
            "shake":            {"en": "shake",                     "de": "shake",                  "ru": "shake"},
            "size":             {"en": "size",                      "de": "size",                   "ru": "size"},
            "slide":            {"en": "slide",                     "de": "slide",                  "ru": "slide"},
            "is_milliseconds":  {"en": "Milliseconds",              "de": "Millisekunden",          "ru": "Миллисекунды"},
            "is_milliseconds_tooltip": {
                "en": "Is object is milliseconds from 1970.01.01 00:00:00. Normally no.",
                "de": "Ob das Wert die Milleskunden seit 1970.01.01 00:00:00 ist. Normalerweise nicht.",
                "ru": "Является ли значение объекта миллисекундами с 1970.01.01 00:00:00. Обычно нет."
            },
            "format_date":      {"en": "Dateformat",                "de": "Datumformat",            "ru": "Формат даты"},
            "format_date_tooltip": {
                "en": "Dateformat",
                "de": "Datumformat",
                "ru": "Формат даты"
            },
            "show_interval":    {"en": "As interval",               "de": "Als Intervall",          "ru": "Как интервал"},
            "hide_effect":      {"en": "Hide effect",               "de": "Verbergeneffekt",        "ru": "Эффект скрытия"},
            "hide_duration":    {"en": "Hide duration(ms)",         "de": "Verbergendauer",         "ru": "Длительность скрытия(мс)"},
            "hide_options":     {"en": "Hide options",              "de": "Verbergenoptionen",      "ru": "Опции скрытия"},
            "show_effect":      {"en": "Show effect",               "de": "Anzeigeeffekt",          "ru": "Эффект появления"},
            "show_duration":    {"en": "Show duration(ms)",         "de": "Anzeigedauer",           "ru": "Длительность появления(мс)"},
            "show_options":     {"en": "Show options",              "de": "Anzeigeoptionen",        "ru": "Опции появления"},
            "left":             {"en": "left",                      "de": "links",                  "ru": "лево"},
            "right":            {"en": "right",                     "de": "rechts",                 "ru": "право"},
            "top":              {"en": "top",                       "de": "oben",                   "ru": "верх"},
            "bottom":           {"en": "bottom",                    "de": "unten",                  "ru": "низ"},

            "contains_view":    {"en": "Contains view",             "de": "Viewname",               "ru": "Имя страницы"},
            "persistent":       {"en": "Persistent",                "de": "Bleibend",               "ru": "Постоянно"},
            "persistent_tooltip": {
                "en": "If persistent the view will not be destroyed when inactive, just hide.\nElsewise the view will be destroyed, if inactive.",
                "de": "Falls 'Bleibend', dann wird die View nicht zerstört, sondern nur versteckt wenn inaktive. Sonst wird die View immer wieder kreiert und zerstört.",
                "ru": "Если выбранно 'Постоянно', то страница не будет уничтожаться, если она не активна. В противном случае страница будет создаваться и разрушаться."},
            "notIfInvisible":       {"en": "Only if visible",                "de": "Nur falls sichtbar",               "ru": "Только если видимо"},
            "notIfInvisible_tooltip": {
                "en": "View will be used only if this widget is visible",
                "de": "Die View wird nur benutzt, wenn dieses Widget sichtbar ist",
                "ru": "Страница будет использоваться только в том случае, если виден этот виджет"
            },
            "valuelist":        {"en": "Values list",               "de": "Wertenliste",            "ru": "Список значений"},
            "valuelist_tooltip": {
                "en": "Divide values with semicolon, like 'ok;warning;alram'. Every text accordingly for value 0,1,2 and so on\nTo have ';' in text use §§ instead.",
                "de": "Die Werte mit Semikolon trennen, wie 'ok;Warnung;Alarm'. Jeder Text ist entsprechend für das Wert 0,1,2 usw.\nUm ';' im Text zu haben, schrein '§§'.",
                "ru": "Разделять значения точкой запятой, например 'ok;Внимание;Тревога'. Каждый текст соответственно для значения 0,1,2 итд.\nДля написания ';' в тексте используй '§§'."
            },
            "html_false":       {"en": "HTML by 'false'",           "de": "HTML bei 'false'",       "ru": "HTML если 0"},
            "html_true":        {"en": "HTML by 'true'",            "de": "HTML bei 'true'",        "ru": "HTML если 1"},
            "text_false":       {"en": "Text by 'false'",           "de": "Text bei 'false'",       "ru": "Текст если 0"},
            "text_true":        {"en": "Text by 'true'",            "de": "Text bei 'true'",        "ru": "Текст если 1"},
            "svg_false":        {"en": "SVG by 'false'",            "de": "SVG bei 'false'",        "ru": "SVG если 0"},
            "svg_true":         {"en": "SVG by 'true'",             "de": "SVG bei 'true'",         "ru": "SVG если 1"},
            "svg_opacity":      {"en": "Opacity",                   "de": "Durchsichtigkeit",       "ru": "Прозрачность"},
            "html_closed":      {"en": "HTML by 'closed'",          "de": "HTML bei 'zu'",          "ru": "HTML если закрыто"},
            "html_open":        {"en": "HTML by 'open'",            "de": "HTML bei 'auf'",         "ru": "HTML если открыто"},
            "html_tilt":        {"en": "HTML by 'tilted'",          "de": "HTML bei 'gekippt'",     "ru": "HTML если наклоненно"},
            "html_tilt_tooltip": {
                "en": "0 - Closed, 1 - tilt, 2 - open",
                "de": "0- Zu, 1 - gekippt, 2 - auf",
                "ru": "0 - закрыто, 1 - откинуто, 2 - открыто"
            },
            "color":            {"en": "Color",                     "de": "Farbe",                  "ru": "Цвет"},
            "shadow":           {"en": "Opacity",                   "de": "Durchsichtigkeit",       "ru": "Тень"},
            "shadow_tooltip":   {
                "en": "CSS Shadow, like '10px 10px 5px #888888'",
                "de": "CSS Shatten, wie '10px 10px 5px #888888'",
                "ru": "CSS Тень, как '10px 10px 5px #888888'"
            },
            "reverse":          {"en": "Revers value",              "de": "Wert umkehren",          "ru": "Перевернуть значение"},
            "border":           {"en": "Border",                    "de": "Rand",                   "ru": "Окантовка"},
            "border_tooltip":   {
                "en": "CSS border, like 'green 5px solid'",
                "de": "CSS Rand, wie 'green 5px solid'",
                "ru": "CSS бордюр, как 'green 5px solid'"
            },
            "test_text":        {"en": "Test text",                 "de": "Testtext",               "ru": "Тестовый текст"},
            "max_width":        {"en": "Max. width",                "de": "Maximale Breite",        "ru": "Максимальная ширина"},
            "style":            {"en": "Style for ",                "de": "Stil für ",              "ru": "Стиль для "},
            "style_tooltip":    {
                "en": "Write here css style, like: 'color:red;background:white'",
                "de": "Hier muss CSS Stil stehen, wie 'color:red;background:white'",
                "ru": "CSS Стиль, например: 'color:red;background:white'"},
            "count":            {"en": "Values number to",          "de": "Wertsanzahl bis",        "ru": "Количество значений до"},
            "test_list":        {"en": "Test value",                "de": "Testwert",               "ru": "Тестовое значение"},
            "urlValue":         {"en": "Call URL on click",         "de": "Rufe URL bei click",     "ru": "Вызвать URL при нажатии"},
            "group_ccontrol":   {"en": "Advanced control",          "de": "Extrasteuerung",         "ru": "Продвинутое управление"},
            "urlFalse":         {"en": "URL on false",              "de": "URL bei false",          "ru": "URL при false"},
            "urlTrue":          {"en": "URL on true",               "de": "URL bei true",           "ru": "URL при true"},
            "oidFalse":         {"en": "Object ID on false",        "de": "Objekt ID bei false",    "ru": "ID объекта при false"},
            "oidTrue":          {"en": "Object ID on true",         "de": "Objekt ID bei true",     "ru": "ID объекта при true"},
            "oidTrueValue":     {"en": "Value for OÍD on true",     "de": "Wert für ID bei false",  "ru": "Значение для ID при false"},
            "oidFalseValue":    {"en": "Value for OÍD on false",    "de": "Wert für ID bei true",   "ru": "Значение для ID при true"},
            "square":           {"en": "square",                    "de": "square",                 "ru": "квадрат"},
            "pentagone":        {"en": "pentagone",                 "de": "pentagone",              "ru": "Пятиуголник"},
            "hexagone":         {"en": "hexagone",                  "de": "hexagone",               "ru": "Шестиугольник"},
            "octagone":         {"en": "octagone",                  "de": "octagone",               "ru": "Восьмиугольник"},
            "circle":           {"en": "circle",                    "de": "Kreis",                  "ru": "Круг"},
            "svgType":          {"en": "Type",                      "de": "Typ",                    "ru": "Тип"},
            "strokeColor":      {"en": "Stroke color",              "de": "Liniefarbe",             "ru": "Цвет линии"},
            "fill":             {"en": "Fill color",                "de": "Füllfarbe",              "ru": "Цвет заливки"},
            "strokeWidth":      {"en": "Stroke width",              "de": "Liniebreite",            "ru": "Ширина линии"},
            "rotate":           {"en": "Rotate",                    "de": "Drehen",                 "ru": "Повернуть на"},
            "no_control":       {"en": "Read only",                 "de": "Nur Anzeige",            "ru": "Только показывать"},
            "numeric":          {"en": "Number",                    "de": "Nummer",                 "ru": "Число"},
            "autoSet":          {"en": "Auto set",                  "de": "Auto-setzen",            "ru": "Авто запись"},
            "autoSet_tooltip":  {
                "en": "Without 'Auto set' you must press ENTER,\x0ato write the value.",
                "de": "Ohne 'Auto-setzen' man muss danach ENTER drucken,\x0A um das Wert zu schreiben.",
                "ru": "Без 'Авто записи' нужно нажать ENTER,\x0Aчто бы записать значение."
            },
            "group_views":      {"en": "Views",                     "de": "Views",                  "ru": "Страницы"},
            "group_frames":     {"en": "iFrames",                   "de": "iFrames",                "ru": "iFrames"},
            "horizontal":       {"en": "horizontal",                "de": "horizontal",             "ru": "горизонтально"},
            "vertical":         {"en": "vertical",                  "de": "senkrecht",              "ru": "вертикально"},
            "orientation":      {"en": "Orientation",               "de": "Ausrichtung ",           "ru": "Направление"},
            "noSandbox":        {"en": "No sandbox",                "de": "Kein Sandkasten",        "ru": "Не запускать в песочнице"},
            "scrollX":          {"en": "Scroll X",                  "de": "Scroll X",               "ru": "Scroll X"},
            "scrollY":          {"en": "Scroll Y",                  "de": "Scroll Y",               "ru": "Scroll Y"},
            "seamless":         {"en": "Seamless",                  "de": "Kein Rahmen",            "ru": "Без рамки"},
            "filters":          {"en": "Filters",                   "de": "Filter",                 "ru": "Фильтры"},
            "filters_Tooltip":  {
                "en": "Divided by semicolon,\x0Ae.g: light;control",
                "de": "Geteilt mir Semikolon\x0Az.B.: Licht;Steuerung",
                "ru": "Разделять точкой запятой\x0Aнапример: Свет;Управление"
            },
            "Select ID":        {"en": "Select ID",                 "de": "ID auswählen",           "ru": "Выбрать ID"},
            "redirect_url":     {"en": "Redirect URL",              "de": "Weiterleiten nach Logout", "ru": "Перейти на URL после выхода"},
            "in_app_close":     {"en": "Close mobile APP",          "de": "Mobiles APP schliessen", "ru": "Закрыть мобильное приложение"},
            "en-US":            {"en": "english",                   "de": "Englisch",               "ru": "английский"},
            "ru-RU":            {"en": "russian",                   "de": "Russisch",               "ru": "русский"},
            "continuous":       {"en": "Continuous",                "de": "Immer zuhören",          "ru": "Непрерывно"},
            "keywords":         {"en": "Keywords",                  "de": "Schlüsselworte",         "ru": "Ключевые слова"},
            "noImage":          {"en": "No image",                  "de": "Kein Bild",              "ru": "Без картинки"},
            "imageInactive":    {"en": "Inactive",                  "de": "Inaktiv",                "ru": "Не активно"},
            "imageActive":      {"en": "Active",                    "de": "Aktiv",                  "ru": "Активно"},
            "imageStarted":     {"en": "Started",                   "de": "Gestartet",              "ru": "Запущено"},
            "imageDetected":    {"en": "Detected",                  "de": "Gefunden",               "ru": "Обнаружено"},
            "imageSent":        {"en": "Sent",                      "de": "Gesedet",                "ru": "Отослано"},
            "imageHeightPx":    {"en": "Height (px)",               "de": "Höhe (px)",              "ru": "Высота (px)"},
            "imageWidthPx":     {"en": "Width (px)",                "de": "Breite (px)",            "ru": "Ширина (px)"},
            "noText":           {"en": "No help text",              "de": "Keine Hilfetext",        "ru": "Без текста помощи"},
            "noResults":        {"en": "No results",                "de": "Keine Ergebnise",        "ru": "Без результатов"},
            "keyWordColor":     {"en": "Key word color",            "de": "Schlüsselworte-Farbe",   "ru": "Цвет ключевых слов"},
            "keyWordColor_tooltip": {
                "en": "Text color, if key word found",
                "de": "Textfarbe, wenn im Text Schlüsselwort gefunden ist.",
                "ru": "Цвет текста, когда обнаружено ключевое слово"
            },
            "textSentColor":    {"en": "Text sent color",           "de": "Gesendet-Farbe",         "ru": "Цвет отосланного текста"},
            "textSentColor_tooltip": {
                "en": "Text color, when text sent to processing it",
                "de": "Textfarbe, wenn Text ist für Abarbeitung gesendet.",
                "ru": "Цвет текста, когда текст отослан на обработку"
            },
            "speechMode":       {"en": "Speech mode",               "de": "Sprachmodus",            "ru": "Режим речи"},
            "single":           {"en": "single",                    "de": "Ein mal",                "ru": "Одиночный"},
            "startstop":        {"en": "start/stop",                "de": "Start/Stop",             "ru": "Старт/стоп"},
            "line":             {"en": "line",                      "de": "Linie",                  "ru": "линия"},
            "triangle":         {"en": "triangle",                  "de": "Dreieck",                "ru": "треугольник"},
            "star":             {"en": "star",                      "de": "Stern",                  "ru": "звезда"},
            "arrow":            {"en": "arrow",                     "de": "Pfeil",                  "ru": "стрела"},
            "scaleWidth":       {"en": "Scale width",               "de": "breiten Skala",          "ru": "Масштаб по ширине"},
            "scaleHeight":      {"en": "Scale height",              "de": "höhen Skala",            "ru": "Масштаб по высоте"},
            "autoFocus": {
                "en": "Auto focus",
                "de": "Autofokus",
                "ru": "Автофокус",
                "pt": "Auto-foco",
                "nl": "Autofocus",
                "fr": "Mise au point automatique",
                "it": "Messa a fuoco automatica",
                "es": "Enfoque automático",
                "pl": "Automatyczne ustawianie ostrości",
                "zh-cn": "自动对焦"
            }
        });
    }

    $.extend(true, systemDictionary, {
        "Edit note":    {"en": "Edit note",     "de": "Meldung eingeben",   "ru": "Сообщение"},
        "Clear":        {"en": "Clear",         "de": "Löschen",            "ru": "Очистить"},
        "Ok":           {"en": "Ok",            "de": "Ok",                 "ru": "Ok"},
        "Cancel":       {"en": "Cancel",        "de": "Abbrechen",          "ru": "Отмена"},
        "all":          {"en": "all",           "de": "Alle",               "ru": "Все"},
        "just&nbsp;now":  {"en": "just&nbsp;now", "de": "gerade&nbsp;jetzt", "ru": "только&nbsp;что"},
        "for&nbsp;%s&nbsp;min.":  {"en": "for&nbsp;%s&nbsp;min.", "de": "vor&nbsp;%s&nbsp;Min.", "ru": "%s&nbsp;мин. назад"},
        "for&nbsp;%s&nbsp;hr.&nbsp;and&nbsp;%s&nbsp;min.": {
            "en": "for&nbsp;%s&nbsp;hr.&nbsp;and&nbsp;%s&nbsp;min.",
            "de": "vor&nbsp;%s&nbsp;St.&nbsp;und&nbsp;%s&nbsp;Min.",
            "ru": "%s&nbsp;часов&nbsp;и&nbsp;%s&nbsp;мин. назад"
        },
        "yesterday":              {"en": "yesterday", "de": "gestern", "ru": "вчера"},
        "for&nbsp;%s&nbsp;hours": {"en": "for&nbsp;%s&nbsp;hours", "de": "vor&nbsp;%s&nbsp;Stunden", "ru": "%s&nbsp;часов назад"},
        "click to create":        {"en": "click to create", "de": "klicken um zu erzeugen", "ru": "нажать что бы создать"},
        "This option works only in APP": {
            "en": "This option works only in APP",
            "de": "Funktioniert nur im APP",
            "ru": "Работает только в мобильном приложении"
        },
        "info_start": {
            "en": "Click on the microphone icon and begin speaking.",
            "de": "Klicken Sie das Mikrophon an und sagen Sie etwas.",
            "ru": "Нажмите на микрофон и начинайте говорить."
        },
        "info_speak_now": {
            "en": "Speak now.",
            "de": "Sage etwas.",
            "ru": "Говорите."
        },
        "info_no_speech": {
            "en": "No speech was detected. You may need to adjust your <a href=\"//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892\">microphone settings</a>.",
            "de": "No speech was detected. You may need to adjust your <a href=\"//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892\">microphone settings</a>.",
            "ru": "Речи не обнаружено. Может надо настроить микрофон <a href=\"//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892\">Настройки микрофона</a>."
        },
        "info_no_microphone": {
            "en": "No microphone was found. Ensure that a microphone is installed and that <a href=\"//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892\"> microphone settings</a> are configured correctly.",
            "de": "No microphone was found. Ensure that a microphone is installed and that <a href=\"//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892\"> microphone settings</a> are configured correctly.",
            "ru": "No microphone was found. Ensure that a microphone is installed and that <a href=\"//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892\"> microphone settings</a> are configured correctly."
        },
        "info_allow": {
            "en": "Click the \"Allow\" button above to enable your microphone.",
            "de": "Click the \"Allow\" button above to enable your microphone.",
            "ru": "Нажмите на кнопку \"разрешить\" сверху, что бы активировать микрофон."
        },
        "info_denied": {
            "en": "Permission to use microphone was denied.",
            "de": "Permission to use microphone was denied.",
            "ru": "Доступ к микрофону был запрещён."
        },
        "info_blocked": {
            "en": "Permission to use microphone is blocked. To change, go to chrome://settings/contentExceptions#media-stream",
            "de": "Permission to use microphone is blocked. To change, go to chrome://settings/contentExceptions#media-stream",
            "ru": "Доступ к микрофону блокирован. Что бы изменить настройки идите <a href=\"chrome://settings/contentExceptions#media-stream\">сюда</a>"
        },
        "info_upgrade": {
            "en": "Web Speech API is not supported by this browser. Upgrade to<a href=\"//www.google.com/chrome\">Chrome</a> version 25 or later.",
            "de": "Web Speech API is not supported by this browser. Upgrade to<a href=\"//www.google.com/chrome\">Chrome</a> version 25 or later.",
            "ru": "Web Speech API не поддерживается этим браузером. Обновите до <a href=\"//www.google.com/chrome\">Chrome</a> версии 25 или новее."
        }
    });

    vis.binds.stateful = {
        view: function (el, viewArr, persistent, notIfInvisible) {
            var $this = $(el);
            var oid   = $this.attr('data-oid');
            var timer = null;

            function draw(val) {
                timer = null;
                var view = viewArr[val];
                if (!persistent) {
                    $this.parent().find('div.vis-view').remove();
                } else {
                    $this.parent().find('div.vis-view').hide().appendTo($('#vis_container'));
                }
                if (vis.views[view]) {
                    vis.renderView(view, view, true, function (_view) {
                        var $view = $('#visview_' + _view);
                        $view.show().data('persistent', persistent);
                        if (!$this.find('#visview_' + _view).length) {
                            $view.appendTo($this);
                        }
                    });
                }
                vis.destroyUnusedViews();
            }

            function onChange(e, newVal) {
                if (newVal === 'true'  || newVal === true)  newVal = 1;
                if (newVal === 'false' || newVal === false) newVal = 0;
                if (notIfInvisible && !$this.is(':visible')) {
                    return;
                }

                if (timer) {
                    clearTimeout(timer)
                }
                timer = setTimeout(function () {
                    draw(newVal);
                }, 50);
            }

            if (oid) {
                vis.states.bind(oid + '.val', onChange);

                // remember all ids, that bound
                $this.parent().parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);
            }
        },
        iframe: function (el, srcArr, refreshInterval) {
            var $this = $(el).parent().find('iframe');
            var oid   = $this.attr('data-oid');
            refreshInterval = parseInt(refreshInterval, 10) || 0;

            function onChange (e, newVal) {
                if (newVal === 'true'  || newVal === true)  newVal = 1;
                if (newVal === 'false' || newVal === false) newVal = 0;
                $this.attr('src', srcArr[newVal]);
            }

            if (oid) {
                vis.states.bind(oid + '.val', onChange);

                // remember all ids, that bound
                $this.parent().parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);

                if (vis.states[oid + '.val'] !== undefined) {
                    var val = vis.states[oid + '.val'];
                    if (val === 'true'  || val === true)  val = 1;
                    if (val === 'false' || val === false) val = 0;
                    $this.attr('src', srcArr[val]);
                }

                if (refreshInterval > 0) {
                    setInterval(function () {
                        var val = vis.states[oid + '.val'] || 0;
                        if (val === 'true'  || val === true)  val = 1;
                        if (val === 'false' || val === false) val = 0;
                        var src = srcArr[val];
                        $this.attr('src', src + (src.match(/\?/) ? '&' : '?') + '_vis_refts=' + ((new Date()).getTime()));
                    }, refreshInterval);
                }
            }
        },
        image: function (el, srcArr, refreshInterval) {
            var $this = $(el).parent().find('img');
            var oid = $this.attr('data-oid');
            refreshInterval = parseInt(refreshInterval, 10) || 0;

            function onChange (e, newVal) {
                if (newVal === 'true'  || newVal === true)  newVal = 1;
                if (newVal === 'false' || newVal === false) newVal = 0;
                $this.attr('src', srcArr[newVal]);
            }

            if (oid) {
                vis.states.bind(oid + '.val', onChange);

                // remember all ids, that bound
                $this.parent().parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);

                if (vis.states[oid + '.val'] !== undefined) {
                    var val = vis.states[oid + '.val'];
                    if (val === 'true'  || val === true)  val = 1;
                    if (val === 'false' || val === false) val = 0;
                    $this.attr('src', srcArr[val]);
                }

                if (refreshInterval > 0) {
                    setInterval(function () {
                        var val = vis.states[oid + '.val'] || 0;
                        if (val === 'true'  || val === true)  val = 1;
                        if (val === 'false' || val === false) val = 0;

                        var src = srcArr[val];
                        if (src) $this.attr('src', src + ((src.indexOf('?') !== -1) ? '&' : '?') + '_vis_refts=' + ((new Date()).getTime()));
                    }, refreshInterval);
                }
            }

        },
        value: function (values, oid) {
            if (oid !== 'nothing_selected' && vis.states.attr(oid + '.val') !== undefined) {
                var val = vis.states.attr(oid + '.val');
                if (val === 'true'  || val === true)  val = 1;
                if (val === 'false' || val === false) val = 0;
                return values[val];
            } else {
                return values[0];
            }
        }
    };
    vis.binds.container = function (el, view) {
        var $this = $(el);
        if (vis.views[view]) {
            vis.renderView(view, view, true, function (_view) {
                $('#visview_' + _view).appendTo($this).show();
            });
        }
    };
    vis.binds.basic = {
        isFullScreen: false,
        filterDropdown: function (el, filters, hideEffect, hideDuration, showEffect, showDuration) {
            var $this = $(el);
            if (filters) {
                filters = filters.split(';');
                for (var i = 0; i < filters.length; i++) {
                    $this.find('select').append('<option value="' + filters[i] + '">' + filters[i] + '</option>');
                }
            }

            if (vis.viewsActiveFilter[vis.activeView]) {
                $this.find('select option[value="' + vis.viewsActiveFilter[vis.activeView] + '"]').attr('selected', true);
            }

            $this.find('select').change(function () {
                vis.changeFilter(null, $this.find('select option:selected').val(), hideEffect, hideDuration, showEffect, showDuration);
            });
        },
        state: function (el, oid) {
            var $this = $(el);
            oid = oid ? oid : $this.attr('data-oid');
            var val = $this.attr('data-val');

            if (oid) {
                $this.attr('data-ctrl-oid', oid);
            }

            if (val === 'true')  val = true;
            if (val === 'false') val = false;

            if (!vis.editMode) {
                var moved = false;
                $this.on('click touchend', function (e) {
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    if (moved) return;

                    var oid = $(this).attr('data-ctrl-oid');

                    if ($(this).attr('url-value')) {
                        vis.conn.httpGet($(this).attr('url-value'));
                    }

                    if (oid) {
                        var val = $(this).attr('data-val');
                        if (val === undefined || val === null) val = false;
                        if (val === 'true')  val = true;
                        if (val === 'false') val = false;
                        if (parseFloat(val).toString() == val) val = parseFloat(val);

                        if (oid) vis.setValue(oid, val);
                    }
                }).on('touchmove', function () {
                    moved = true;
                }).on('touchstart', function () {
                    moved = false;
                });
            }
        },
        pressed: null,
        pressedNext: null,
        increment: function (el, minmax, delay, interval) {

            function fInterval($that) {
                vis.binds.basic.pressedNext = true;
                vis.binds.basic.pressed = null;
                var oid = $that.attr('data-oid');
                if (!vis.editMode) {
                    var step = parseFloat($that.attr('data-vis-step'));
                    var tmp  = parseFloat(vis.states[oid + '.val']) + step;
                    if (step < 0) {
                        if (tmp >= minmax) {
                            vis.setValue($that.attr('data-oid'), tmp);
                            vis.binds.basic.pressed = _setTimeout(fInterval, interval, $that);
                        }
                    } else {
                        if (tmp <= minmax) {
                            vis.setValue($that.attr('data-oid'), tmp);
                            vis.binds.basic.pressed = _setTimeout(fInterval, interval, $that);
                        }
                    }
                }
            }

            function intervalStart(e) {
                vis.binds.basic.pressedNext = false;
                var $this = $(this);
                var oid = $this.attr('data-oid');

                if (vis.binds.basic.pressed) {
                    clearInterval(vis.binds.basic.pressed);
                    vis.binds.basic.pressed = null;
                }

                vis.binds.basic.pressed = setTimeout(fInterval, delay, $this);
            }

            if (!vis.editMode) {
                var moved = false;
                $(el).on('click touchend', function (e) {
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    if (moved) return;

                    if (vis.binds.basic.pressed) {
                        clearInterval(vis.binds.basic.pressed);
                        vis.binds.basic.pressed = null;
                    }

                    if (vis.binds.basic.pressedNext) {
                        vis.binds.basic.pressedNext = false;
                        return;
                    }
                    var $this = $(this);
                    var oid = $this.attr('data-oid');
                    var step = parseFloat($this.attr('data-vis-step'));
                    var tmp  = parseFloat(vis.states[oid + '.val']) + step;
                    if (step < 0) {
                        if (minmax === undefined || tmp >= minmax) {
                            vis.setValue($this.attr('data-oid'), tmp);
                        }
                    } else {
                        if (minmax === undefined || tmp <= minmax) {
                            vis.setValue($this.attr('data-oid'), tmp);
                        }
                    }
                }).on('touchmove', function () {
                    moved = true;
                }).on('touchstart', function () {
                    moved = false;
                });
            }

            if (interval) {
                $(el).on('mousedown', intervalStart)
                    .on('touchstart', intervalStart)
                    .on('touchend', function () {
                        if (vis.binds.basic.pressed) {
                            clearInterval(vis.binds.basic.pressed);
                            vis.binds.basic.pressed = null;
                        }
                    })
                    .on('mouseup', function () {
                        if (vis.binds.basic.pressed) {
                            clearInterval(vis.binds.basic.pressed);
                            vis.binds.basic.pressed = null;
                        }
                    }).data('destroy', function (id, $widget) {
                    $widget && $widget.off('mousedown').off('touchstart').off('touchend').off('mouseup');
                });
            }
        },
        navigation: function (el, options) {
            if (!vis.editMode && options.nav_view) {
                var $this = $(el);
                var moved = false;
                $this.on('click touchend', function (e) {
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    if (moved) return;

                    if (options.background) $('body').css({background: options.background});

                    vis.changeView(options.nav_view, options.nav_view, options.hideOptions, options.showOptions, options.sync);
                    //e.preventDefault();
                    //return false;
                }).on('touchmove', function () {
                    moved = true;
                }).on('touchstart', function () {
                    moved = false;
                });
            }
        },
        hideOnFalse: function (el) {
            var $this = $(el);
            var oid   = $this.attr('data-oid');

            function onChange (e, newVal) {
                if (newVal === null || newVal === false || newVal === 0 || newVal === 'false' || !parseInt(newVal, 10)) {
                    if (!vis.editMode) {
                        $this.hide();
                    }
                } else {
                    $this.show();
                }
            }

            if (oid) {
                vis.states.bind(oid + '.val', onChange);

                // remember all ids, that bound
                $this.data('bound', [oid + '.val'])
                // remember bind handler
                    .data('bindHandler', onChange);

                if (!vis.editMode) {
                    var newVal = vis.states.attr(oid + '.val');
                    if (newVal === null || newVal === false || newVal === 0 || newVal === 'false' || parseInt(newVal, 10) === 0) {
                        $this.hide();
                    }
                }
            }

        },
        /*hideOnTrue: function (el) {
            var $this = $(el);
            var oid = $this.attr('data-oid');
            vis.states.bind(oid + '.val', function (e, newVal, oldVal) {
                if (newVal === true || parseFloat(newVal) > 0) {
                    if (!vis.editMode) {
                        $this.hide();
                    }
                } else {
                    $this.show();
                }
            });
            if (!vis.editMode) {
                if (parseFloat(vis.states.attr(oid + '.val')) !== 0 && vis.states.attr(oid + '.val') !== false) {
                    $this.hide();
                }
            }
        },
        showOnValue: function (el, val) {
            var $this = $(el);
            var oid = $this.attr('data-oid');
            vis.states.bind(oid + '.val', function (e, newVal, oldVal) {
                if (newVal != val) {
                    if (!vis.editMode) {
                        $this.hide();
                    }
                } else {
                    $this.show();
                }
            });
            if (!vis.editMode) {
                if (vis.states.attr(oid + '.val') != val) {
                    $this.hide();
                }
            }
        },*/
        _onChange: function (el, oid, wid) {
            var $this = $(el);
            // If still working
            //console.log(oid + ' ' + vis.states.attr(oid + '.val') + ' (' + vis.states.attr(oid + '.ack') + ') - ' + wid + ' ' + vis.states.attr(wid + '.val') + ' (' + vis.states.attr(wid + '.ack') + ')');

            if (wid && (vis.states.attr(wid + '.val') === true)) return;

            var val = vis.states.attr(oid + '.val');

            if (val === 'false') {
                val = false;
            } else if (val === 'true') {
                val = true;
            } else if (typeof val === 'string') {
                var f = parseFloat(val);
                if (f == val) {
                    val = f;
                } else if (val !== '') {
                    val = true;
                } else {
                    val = false;
                }
            }

            if ($this.data('data-numeric')) {
                $this.prop('checked', (val > (($this.data('data-max') - $this.data('data-min')) / 2)));
            } else {
                $this.prop('checked', val);
            }
        },
        checkbox: function (el, numeric, min, max) {
            var $this = $(el);
            var oid   = $this.data('oid'); // Object ID
            var wid   = $this.data('oid-working'); // Work ID

            function onChange() {
                vis.binds.basic._onChange(el, oid, wid);
            }
            if (oid) {
                var bound = [];
                vis.states.bind(oid + '.val', onChange);
                bound.push(oid + '.val');
                if (wid) {
                    vis.states.bind(wid + '.val', onChange);
                    bound.push(wid + '.val');
                }

                // remember all ids, that bound
                $this.closest('.vis-widget')
                    .data('bound', bound)
                    // remember bind handler
                    .data('bindHandler', onChange);
            }

            if (numeric) {
                if (min !== undefined && min !== null && min !== '') {
                    min = parseFloat(min);
                } else {
                    min = 0;
                }

                if (max !== undefined && max !== null && max !== '') {
                    max = parseFloat(max);
                } else {
                    max = 1;
                }
            } else {
                min = false;
                max = true;
            }

            $this.data('min',     min);
            $this.data('max',     max);
            $this.data('numeric', numeric);

            vis.binds.basic._onChange(el, oid, wid);

            if (!vis.editMode) {
                $this.change(function () {
                    var $this_ = $(this);
                    if ($this_.prop('checked')) {
                        vis.setValue($this_.data('oid'), $this_.data('max'));
                    } else {
                        vis.setValue($this_.data('oid'), $this_.data('min'));
                    }
                });
            }
        },
        input: function (el, data) {
            var $this = $(el);
            var oid   = $this.data('oid'); // Object ID
            var wid   = $this.data('oid-working'); // Work ID

            function onChange(e, val) {
                $this.val(val);
            }

            if (oid) {
                var bound = [oid + '.val'];
                vis.states.bind(oid + '.val', onChange);
                if (wid) {
                    bound.push(wid + '.val');
                    vis.states.bind(wid + '.val', onChange);
                }
                // remember all ids, that bound
                $this.closest('.vis-widget')
                    .data('bound', bound)
                    // remember bind handler
                    .data('bindHandler', onChange);
            }

            if (data.numeric) {
                $this.attr('type', 'number');
                if (data.min !== undefined && data.min !== null && data.min !== '') {
                    data.min = parseFloat(data.min);
                } else {
                    data.min = null;
                }

                if (data.max !== undefined && data.max !== null && data.max !== '') {
                    data.max = parseFloat(data.max);
                } else {
                    data.max = null;
                }
            }

            $this.val(vis.states[oid + '.val'] === undefined ? '' : vis.states[oid + '.val']);

            setTimeout(function () {
                $this.css('text-align', $this.parent().parent().css('text-align'));
                $this.css('color', $this.parent().parent().css('color'));
                $this.css('background', $this.parent().parent().css('background'));
                $this.css('border', '0');
                $this.css('text-font', $this.parent().parent().css('text-font'));
            }, 0);

            if (!vis.editMode) {
                $this.change(function () {
                    var $this_ = $(this);
                    if (data.numeric) {
                        var value = parseFloat($this_.val());
                        if (data.min !== null && value < data.min) {
                            value = data.min;
                            $this_.val(value);
                        } else if (data.max !== null && value > data.max) {
                            value = data.max;
                            $this_.val(value);
                        }
                        vis.setValue($this_.data('oid'), value);
                    } else {
                        vis.setValue($this_.data('oid'), $this_.val());
                    }
                });
                if (data.autoSet) {
                    $this.keyup(function(e) {
                        var timer = $this.data('timer');
                        if (timer) clearTimeout(timer);
                        $this.data('timer', setTimeout(function () {
                            $this.trigger('change');
                        }), 1000);
                    });
                }
            }
        },
        select: function (el, invert) {
            var $this = $(el).prev();
            var oid   = $this.attr('data-oid');
            var val   = vis.states[oid + '.val'];

            if (val === 'false') {
                val = false;
            } else if (val === 'true') {
                val = true;
            } else if (typeof val === 'string') {
                var f = parseFloat(val);
                if (f == val) {
                    val = f;
                } else if (val !== '') {
                    val = true;
                } else {
                    val = false;
                }
            }

            if (invert) val = !val;

            $this.val(val ? 1 : 0);

            if (!vis.editMode) {
                if (oid !== 'nothing_selected') {
                    $this.change(function () {
                        var val = $this.find('option:selected').val();
                        if (invert) val = !val;
                        vis.setValue(oid, val);
                    });
                }
            }
            if (oid !== 'nothing_selected') {

            }
            function onChange(e, newVal, oldVal) {
                if (newVal === 'false') {
                    newVal = false;
                } else if (newVal === 'true') {
                    newVal = true;
                } else if (typeof newVal === 'string') {
                    var f = parseFloat(newVal);
                    if (f == newVal) {
                        newVal = f;
                    } else if (newVal !== '') {
                        newVal = true;
                    } else {
                        newVal = false;
                    }
                }
                if (oldVal === 'false') {
                    oldVal = false;
                } else if (oldVal === 'true') {
                    oldVal = true;
                } else if (typeof oldVal === 'string') {
                    var f = parseFloat(oldVal);
                    if (f == oldVal) {
                        oldVal = f;
                    } else if (oldVal !== '') {
                        oldVal = true;
                    } else {
                        oldVal = false;
                    }
                }

                if (newVal == oldVal) return;

                if (newVal === 'false' || newVal === false || parseFloat(newVal) === 0) {
                    if ($this.find('option[value="1"]').prop('selected')) {
                        $this.find('option[value="1"]').prop('selected', false);
                        $this.find('option[value="0"]').prop('selected', true);
                        $this.trigger('change');
                    }
                } else {
                    if ($this.find('option[value="0"]').prop('selected')) {
                        $this.find('option[value="0"]').prop('selected', false);
                        $this.find('option[value="1"]').prop('selected', true);
                        $this.trigger('change');
                    }
                }
            }

            if (oid) {
                vis.states.bind(oid + '.val', onChange);
                // remember all ids, that bound
                $this.closest('.vis-widget')
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);
            }
        },
        pushbutton: function(el, oid) {
            if (!vis.editMode) {
                var $this = $(el);
                oid = oid || $this.data('oid');

                $this.on('mousedown touchstart', function (e) {
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    vis.setValue(oid, true);
                });
                $this.on('mouseup touchend touchcancel', function (e) {
                    // Protect against two events
                    if (vis.detectBounce(this, true)) return;

                    vis.setValue(oid, false);
                });
            }
        },
        toggle: function (el, oid) {
            var $this = $(el);
            oid = oid || $this.data('oid');
            var min = $this.data('min');
            var max = $this.data('max');

            var urlTrue     = $this.data('url-true');
            var urlFalse    = $this.data('url-false');
            var oidTrue     = $this.data('oid-true');
            var oidFalse    = $this.data('oid-false');
            var oidTrueVal  = $this.data('oid-true-value');
            var oidFalseVal = $this.data('oid-false-value');
            var readOnly    = $this.data('read-only');

            if (min === '') min = undefined;
            if (max === '') max = undefined;

            if ((oid || oidTrue || urlTrue) && !vis.editMode && !readOnly) {
                var moved = false;
                $this.on('click touchend', function () {
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    if (moved) return;

                    var val;

                    if (oidTrue || urlTrue) {
                        if (!oidFalse && oidTrue) oidFalse = oidTrue;
                        if (!urlFalse && urlTrue) urlFalse = urlTrue;

                        if (!oid || oid === 'nothing_selected') {
                            val = !$(this).data('state');
                            // remember state
                            $(this).data('state', val);
                        } else {
                            val = vis.states[oid + '.val'];
                            if (max !== undefined) {
                                if (max === 'true')  max = true;
                                if (max === 'false') max = false;
                                if (val === 'true')  val = true;
                                if (val === 'false') val = false;
                                val = (val == max);
                            } else {
                                val = (val === 1 || val === '1' || val === true || val === 'true');
                            }
                            val = !val; // invert
                        }
                        if (min === undefined || min === 'false' || min === null) min = false;
                        if (max === undefined || max === 'true'  || max === null) max = true;

                        if (oidTrue) {
                            if (val) {
                                if (oidTrueVal === undefined || oidTrueVal === null) oidTrueVal = max;
                                if (oidTrueVal === 'false') oidTrueVal = false;
                                if (oidTrueVal === 'true')  oidTrueVal = true;
                                var f = parseFloat(oidTrueVal);
                                if (f.toString() == oidTrueVal) oidTrueVal = f;
                                vis.setValue(oidTrue,  oidTrueVal);
                            } else {
                                if (oidFalseVal === undefined || oidFalseVal === null) oidFalseVal = min;
                                if (oidFalseVal === 'false') oidFalseVal = false;
                                if (oidFalseVal === 'true')  oidFalseVal = true;
                                var f = parseFloat(oidFalseVal);
                                if (f.toString() == oidFalseVal) oidFalseVal = f;
                                vis.setValue(oidFalse, oidFalseVal);
                            }
                        }

                        if (urlTrue) {
                            if (val) {
                                vis.conn.httpGet(urlTrue)
                            } else {
                                vis.conn.httpGet(urlFalse);
                            }
                        }

                        // show new state
                        if (!oid || oid === 'nothing_selected') {
                            var img = $(this).data('img-class');
                            if (val) {
                                if ($(this).data('as-button')) $(this).addClass('ui-state-active');
                                val = $(this).data('img-true');
                            } else {
                                val = $(this).data('img-false');
                                if ($(this).data('as-button')) $(this).removeClass('ui-state-active');
                            }
                            $(this).find('.' + img).attr('src', val);
                        }
                    } else {
                        var val = vis.states[oid + '.val'];
                        if ((min === undefined && (val === null || val === '' || val === undefined || val === false || val === 'false')) ||
                            (min !== undefined && min == val)) {
                            vis.setValue(oid, max !== undefined ? max : true);
                        } else
                        if ((max === undefined && (val === true || val === 'true')) ||
                            (max !== undefined && val == max))
                        {
                            vis.setValue(oid, min !== undefined ? min : false);
                        } else {
                            val = parseFloat(val);
                            if (min !== undefined && max !== undefined) {
                                if (val >= (max - min) / 2) {
                                    val = min;
                                } else {
                                    val = max;
                                }
                            } else {
                                if (val >= 0.5) {
                                    val = 0;
                                } else {
                                    val = 1;
                                }
                            }
                            vis.setValue(oid, val);
                        }
                    }
                }).on('touchmove', function () {
                    moved = true;
                }).on('touchstart', function () {
                    moved = false;
                }).data('destroy', function (id, $widget) {
                    $widget.off('click touchend').off('touchmove').off('touchstart');
                });
            }
        },
        iframeRefresh: function (el, src, refreshInterval, refreshOnWakeUp, refreshOnViewChange, refreshWithNoQuery) {
            var widgetView;
            if (src && typeof src === 'object') {
                widgetView = refreshInterval;
                refreshInterval     = src.refreshInterval;
                refreshOnWakeUp     = src.refreshOnWakeUp;
                refreshOnViewChange = src.refreshOnViewChange;
                refreshWithNoQuery  = src.refreshWithNoQuery;
                src                 = src.src;
            } else if (refreshInterval && typeof refreshInterval === 'object') {
                widgetView = refreshOnWakeUp;
                refreshInterval     = refreshInterval.refreshInterval;
                refreshOnWakeUp     = refreshInterval.refreshOnWakeUp;
                refreshOnViewChange = refreshInterval.refreshOnViewChange;
                refreshWithNoQuery  = refreshInterval.refreshWithNoQuery;
            }
            refreshOnViewChange = refreshOnViewChange === true || refreshOnViewChange === 'true';
            refreshOnWakeUp     = refreshOnWakeUp     === true || refreshOnWakeUp     === 'true';
            refreshWithNoQuery  = refreshWithNoQuery  === true || refreshWithNoQuery  === 'true';

            if (!vis.editMode && src) {
                var $this = $(el).parent().find('iframe');
                refreshInterval = parseInt(refreshInterval, 10) || 0;

                if (refreshOnViewChange) {
                    widgetView = widgetView || vis.activeView;
                    vis.navChangeCallbacks.push(function (view) {
                        if (view === widgetView) {
                            $this.attr('src', src + (refreshWithNoQuery ? '' : ((src.indexOf('?') !== -1) ? '&' : '?') + '_refts=' + ((new Date()).getTime())));
                        }
                    });
                }
                if (refreshInterval > 0) {
                    setInterval(function () {
                        if ($this.is(':visible')) {
                            var p = $this.parents(':hidden');
                            if (!p.length || p[0].tagName === 'BODY' || p[0].id === 'materialdesign-vuetify-container') {
                                $this.attr('src', src + (refreshWithNoQuery ? '' : ((src.indexOf('?') !== -1) ? '&' : '?') + '_refts=' + ((new Date()).getTime())));
                            }
                        }
                    }, refreshInterval);
                }
                if (refreshOnWakeUp) {
                    vis.onWakeUp(function () {
                        // TODO this does not work. :(
                        $this.attr('src', src + (refreshWithNoQuery ? '' : ((src.indexOf('?') !== -1) ? '&' : '?') + '_refts=' + ((new Date()).getTime())));
                    });
                }
            }
        },
        htmlRefresh: function (el, html, refreshInterval) {
            refreshInterval = parseInt(refreshInterval, 10) || 0;
            if (html && !vis.editMode && refreshInterval > 0) {
                var $this = $(el);
                setInterval(function () {
                    if ($this.is(':visible')) {
                        var p = $this.parents(':hidden');
                        if (!p.length || p[0].tagName === 'BODY' || p[0].id === 'materialdesign-vuetify-container') {
                            $this.html(html);
                        }
                    }
                }, refreshInterval);
            }
        },
        imgRefresh: function (el, src, refreshInterval, refreshOnWakeUp, refreshOnViewChange, refreshWithNoQuery) {
            var widgetView;
            if (src && typeof src === 'object') {
                widgetView = refreshInterval;
                refreshInterval     = src.refreshInterval;
                refreshOnWakeUp     = src.refreshOnWakeUp;
                refreshOnViewChange = src.refreshOnViewChange;
                refreshWithNoQuery  = src.refreshWithNoQuery;
                src                 = src.src;
            } else if (refreshInterval && typeof refreshInterval === 'object') {
                widgetView = refreshOnWakeUp;
                refreshInterval     = refreshInterval.refreshInterval;
                refreshOnWakeUp     = refreshInterval.refreshOnWakeUp;
                refreshOnViewChange = refreshInterval.refreshOnViewChange;
                refreshWithNoQuery  = refreshInterval.refreshWithNoQuery;
            }
            refreshOnViewChange = refreshOnViewChange === true || refreshOnViewChange === 'true';
            refreshOnWakeUp     = refreshOnWakeUp     === true || refreshOnWakeUp     === 'true';
            refreshWithNoQuery  = refreshWithNoQuery  === true || refreshWithNoQuery  === 'true';

            if (!vis.editMode && src) {
                var $this = $(el).parent().find('img');
                refreshInterval = parseInt(refreshInterval, 10) || 0;

                if (refreshOnViewChange) {
                    widgetView = widgetView || vis.activeView;
                    vis.navChangeCallbacks.push(function (view) {
                        if (view === widgetView) {
                            $this.attr('src', src + (refreshWithNoQuery ? '' : ((src.indexOf('?') !== -1) ? '&' : '?') + '_refts=' + ((new Date()).getTime())));
                        }
                    });
                }
                if (refreshInterval > 0) {
                    setInterval(function () {
                        if ($this.is(':visible')) {
                            var p = $this.parents(':hidden');
                            if (!p.length || p[0].tagName === 'BODY' || p[0].id === 'materialdesign-vuetify-container') {
                                $this[0].src = src + (refreshWithNoQuery ? '' : ((src.indexOf('?') !== -1) ? '&' : '?') + '_refts=' + ((new Date()).getTime()));
                            }
                        }
                    }, refreshInterval);
                }
                if (refreshOnWakeUp) {
                    //console.log("refreshOnWakeUp!");
                    vis.onWakeUp(function () {
                        // TODO this does not work. :(
                        //console.log("wakeup refresh!");
                        $this[0].src = src + (refreshWithNoQuery ? '' : ((src.indexOf('?') !== -1) ? '&' : '?') + '_refts=' + ((new Date()).getTime()));
                        //console.log($this.attr('src'));
                    });
                }
            }
        },
        showSvg: function (myClass, view, wid, oid, opacity, svg_false, svg_true, style, no_control) {
            var $wid = $('#' + wid);

            var id = $wid.attr('id');
            if (id && id.match(/_removed$/)) return;

            if (!$wid.length) {
                return setTimeout(function () {
                    vis.binds.basic.showSvg(myClass, view, wid, oid, opacity, svg_false, svg_true, style, no_control);
                }, 100);
            }

            $wid.find('svg').remove();
            var str = vis.states.attr(oid + '.val');
            if (typeof str === 'string') str = str.toLowerCase();
            var val = parseFloat(str);
            var sText = '<svg version="1.1" style="width:100%;height:100%" xmlns="http://www.w3.org/2000/svg" data-oid="' + oid + '">';
            if (vis.editMode) {
                if (opacity === undefined || opacity === null || opacity === '') opacity = 1;

                if (parseFloat(opacity) < 0.2) opacity = 0.2;
            }
            if (val === 0 || str === 'false' || str === '0' || str === 'off' || str === false || str === null || str === undefined) {
                // try to analyse
                sText += svg_false;
            } else {
                sText += svg_true;
            }
            sText += '</svg>';
            $wid.find('.vis-widget-body').append(sText);

            if (style) $wid.css(style);

            var moved = false;

            function onSvgClick() {
                // Protect against two events
                if (vis.detectBounce(this)) return;

                if (moved) return;

                var val = vis.states[oid + '.val'];
                if (val === null || val === '' || val === undefined || val === false || val === "false") {
                    vis.setValue(oid, true);
                } else if (val === true || val === "true") {
                    vis.setValue(oid, false);
                } else {
                    val = parseFloat(val);
                    if (val >= 0.5) {
                        val = 1;
                    } else {
                        val = 0;
                    }
                    vis.setValue(oid, 1 - val);
                }
            }

            function onChange (e, newVal) {
                if (newVal === 'true'  || newVal === true)  newVal = 1;
                if (newVal === 'false' || newVal === false || newVal === '0') newVal = 0;
                var $svg = $('#' + wid).find('svg');

                $svg.html(newVal ? svg_true : svg_false);

                if (!vis.editMode && !no_control) {
                    $svg.children().unbind('click touchend touchmove touchstart').on('click touchend', onSvgClick)
                        .on('touchmove', function () {
                            moved = true;
                        }).on('touchstart', function () {
                        moved = false;
                    });
                } else if (vis.editMode){
                    $svg.children().unbind('click touchstart').on('click touchstart', function () {
                        vis.inspectWidgets([wid]);
                    });
                }
            }

            if (oid) {
                vis.states.bind(oid + '.val', onChange);
                // remember all ids, that bound
                $wid.data('bound', [oid + '.val'])
                // remember bind handler
                    .data('bindHandler', onChange);
            }
            var $svg = $wid.find('svg');
            if (!vis.editMode && !no_control) {
                $svg.children().off('click touchend').on('click touchend', onSvgClick).off('touchmove').on('touchmove', function () {
                    moved = true;
                }).on('touchstart', function () {
                    moved = false;
                });
            } else if (vis.editMode){
                $svg.children().off('click touchstart').on('click touchstart', function () {
                    vis.inspectWidgets([wid]);
                });
            }
            $wid.data('destroy', function (id, $widget) {
                $widget.find('svg').children().off('click touchend').off('touchmove').off('click touchstart');
            });
        },
        editNote: function (wid, max_width, min_width, min_height, oid) {
            if (vis.editMode) return;

            max_width  = max_width  ? parseInt(max_width,  10) : 400;
            min_width  = min_width  ? parseInt(min_width,  10) : 40;
            min_height = min_height ? parseInt(min_height, 10) : 15;

            var $this = $('#div_' + wid);
            $('body').append('<div id="dlg_' + wid + '" title="' + _('Edit note') + '">' +
                '<textarea style="resize: none; width:95%; height:92%" id="text_' + wid + '">' + $this.text().trim() + '</textarea></div>');

            var buttons = {};
            buttons[_('Clear')] = function () {
                $('#text_' + $(this).attr('data-wid')).val("");
            };

            buttons[_('Ok')] = function () {
                var dlg  = $(this);
                var oid  = dlg.attr('data-oid');
                var wid  = dlg.attr('data-wid');
                var text = $('#text_' + wid).val();
                text = text.replace('\n', '<br>\n');

                if (!oid) $('#div_' + wid).html(text);
                /*if (!text) {
                 $('#' + wid).css({width: min_width, height: min_height});
                 }
                 else {
                 $('#' + wid).css({width: max_width, height: 'auto'});
                 }*/

                if (oid) vis.setValue(oid, text);

                dlg.dialog('close');
                dlg.remove();
            };

            buttons[_('Cancel')] = function () {
                $(this).dialog('close');
                $(this).remove();
            };

            $('#dlg_' + wid).attr('data-oid', oid).attr('data-wid', wid).dialog({
                width:   500,
                height:  300,
                modal:   true,
                buttons: buttons
            });
        },
        formatFloat: function (data, val) {
            if (vis.editMode && data.attr('test_html') !== undefined && data.attr('test_html') !== '') {
                val = parseFloat(data.attr('test_html'));
            } else if(val === undefined || val === null){
                val = parseFloat(vis.states.attr(data.oid + '.val'));
            }else {
                val = parseFloat(val);
            }
            if (data.factor !== undefined && data.factor !== '') val = val * parseFloat(data.factor);
            if (data.digits !== undefined && data.digits !== '') val = val.toFixed(parseFloat(data.digits, 10));

            if (data.attr('is_tdp')) {
                val = this.formatValue(val, data.digits ? parseInt(data.digits) : 2, data.attr('is_comma') ? ".," : ",.");
            } else if (data.attr('is_comma')) {
                val = '' + val;
                val = val.replace('.', ',');
            }

            return val;
        },
        extractWidth: function (css, multiplier) {
            // extract from "2px solid #aabbcc" => 2px
            var m = css.match(/([0-9])+(px|em)?/);
            if (m) {
                if (m[1] && m[2]) {
                    return parseInt(m[1], 10) * (multiplier || 1) + m[2];
                } else {
                    return parseInt(m[1], 10) * (multiplier || 1);
                }
            }
        },
        getCalc: function (data, val) {
            var min = (data.min || data.min === 0) ? parseFloat(data.min) : 0;
            var max = (data.max || data.max === 0) ? parseFloat(data.max) : 100;
            val = parseFloat(vis.states.attr(data.oid + '.val')) || 0;
            val = (val - min) / (max - min);
            return (data.border) ? ('calc(' + Math.round(val * 100) + '% - ' + vis.binds.basic.extractWidth(data.border, 2) + ')') : (Math.round(val * 100) + '%');
        },

        formatValue: function formatValue(value, decimals, _format) {
            if (typeof decimals !== 'number') {
                decimals = 2;
                _format = decimals;
            }
            var format = (_format === undefined) ? '.,' : _format;
            if (typeof value !== 'number') value = parseFloat(value);
            return isNaN(value) ? '' : value.toFixed(decimals || 0).replace(format[0], format[1]).replace(/\B(?=(\d{3})+(?!\d))/g, format[0]);
        },

        formatIntervalHelper: function (value, type) {
            var singular;
            var plural;
            var special24;
            if (vis.language === 'de') {
                if (type === 'seconds') {
                    singular = 'Sekunde';
                    plural   = 'Sekunden';
                } else if (type === 'minutes') {
                    singular = 'Minute';
                    plural   = 'Minuten';
                } else if (type === 'hours') {
                    singular = 'Stunde';
                    plural   = 'Stunden';
                } else if (type === 'days') {
                    singular = 'Tag';
                    plural   = 'Tagen';
                }
            } else
            if (vis.language === 'ru') {
                if (type === 'seconds') {
                    singular  = 'секунду';
                    plural    = 'секунд';
                    special24 = 'секунды';
                } else if (type === 'minutes') {
                    singular  = 'минуту';
                    plural    = 'минут';
                    special24 = 'минуты';
                } else if (type === 'hours') {
                    singular  = 'час';
                    plural    = 'часов';
                    special24 = 'часа';
                } else if (type === 'days') {
                    singular  = 'день';
                    plural    = 'дней';
                    special24 = 'дня';
                }
            } else {
                if (type === 'seconds') {
                    singular = 'second';
                    plural   = 'seconds';
                } else if (type === 'minutes') {
                    singular = 'minute';
                    plural   = 'minutes';
                } else if (type === 'hours') {
                    singular = 'hour';
                    plural   = 'hours';
                } else if (type === 'days') {
                    singular = 'day';
                    plural   = 'days';
                }
            }

            if (value === 1) {
                if (vis.language === 'de') {
                    if (type === 'days') {
                        return 'einem ' + singular;
                    } else {
                        return 'einer ' + singular;
                    }
                } else if (vis.language === 'ru') {
                    if (type === 'days' || type === 'hours') {
                        return 'один ' + singular;
                    } else {
                        return 'одну ' + singular;
                    }
                } else {
                    return 'one ' + singular;
                }
            } else {
                if (vis.language === 'de') {
                    return value + ' ' + plural;
                } else if (vis.language === 'ru') {
                    var d = value % 10;
                    if (d === 1 && value !== 11) {
                        return value + ' ' + singular;
                    } else
                    if (d >= 2 && d <= 4 && (value > 20 || value < 10)) {
                        return value + ' ' + special24;
                    } else {
                        return value + ' ' + plural;
                    }
                } else {
                    return value + ' ' + plural;
                }
            }
        },
        formatInterval: function (timestamp, isMomentJs) {
            if (isMomentJs && typeof moment !== 'undefined') {
                return moment(new Date(timestamp)).fromNow();
            }
            var diff = new Date().getTime() - timestamp;
            diff = Math.round(diff / 1000);
            var text;
            if (diff <= 60) {
                if (vis.language === 'de') {
                    text = 'vor ' + vis.binds.basic.formatIntervalHelper(diff, 'seconds');
                } else if (vis.language === 'ru') {
                    text = vis.binds.basic.formatIntervalHelper(diff, 'seconds') + ' назад';
                } else {
                    text = vis.binds.basic.formatIntervalHelper(diff, 'seconds') + ' ago';
                }
            } else if (diff < 3600) {
                var m = Math.floor(diff / 60);
                var s = diff - m * 60;
                text = '';
                if (vis.language === 'de') {
                    text = 'vor ' + vis.binds.basic.formatIntervalHelper(m, 'minutes');
                } else if (vis.language === 'ru') {
                    text = vis.binds.basic.formatIntervalHelper(m, 'minutes');
                } else {
                    text = vis.binds.basic.formatIntervalHelper(m, 'minutes');
                }

                if (m < 5) {
                    // add seconds
                    if (vis.language === 'de') {
                        text += ' und ' + vis.binds.basic.formatIntervalHelper(s, 'seconds');
                    } else if (vis.language === 'ru') {
                        text += ' и ' + vis.binds.basic.formatIntervalHelper(s, 'seconds');
                    } else {
                        text += ' and ' + vis.binds.basic.formatIntervalHelper(s, 'seconds');
                    }
                }

                if (vis.language === 'de') {
                    // nothing
                } else if (vis.language === 'ru') {
                    text += ' назад';
                } else {
                    text += ' ago';
                }
            } else if (diff < 3600 * 24) {
                var h = Math.floor(diff / 3600);
                var m = Math.floor((diff - h * 3600) / 60);
                text = '';
                if (vis.language === 'de') {
                    text = 'vor ' + vis.binds.basic.formatIntervalHelper(h, 'hours');
                } else if (vis.language === 'ru') {
                    text = vis.binds.basic.formatIntervalHelper(h, 'hours');
                } else {
                    text = vis.binds.basic.formatIntervalHelper(h, 'hours');
                }

                if (h < 10) {
                    // add seconds
                    if (vis.language === 'de') {
                        text += ' und ' + vis.binds.basic.formatIntervalHelper(m, 'minutes');
                    } else if (vis.language === 'ru') {
                        text += ' и ' + vis.binds.basic.formatIntervalHelper(m, 'minutes');
                    } else {
                        text += ' and ' + vis.binds.basic.formatIntervalHelper(m, 'minutes');
                    }
                }

                if (vis.language === 'de') {
                    // nothing
                } else if (vis.language === 'ru') {
                    text += ' назад';
                } else {
                    text += ' ago';
                }
            } else {
                var d = Math.floor(diff / (3600 * 24));
                var h = Math.floor((diff - d * (3600 * 24)) / 3600);
                text = '';
                if (vis.language === 'de') {
                    text = 'vor ' + vis.binds.basic.formatIntervalHelper(d, 'days');
                } else if (vis.language === 'ru') {
                    text = vis.binds.basic.formatIntervalHelper(d, 'days');
                } else {
                    text = vis.binds.basic.formatIntervalHelper(d, 'days');
                }

                if (d < 3) {
                    // add seconds
                    if (vis.language === 'de') {
                        text += ' und ' + vis.binds.basic.formatIntervalHelper(h, 'hours');
                    } else if (vis.language === 'ru') {
                        text += ' и ' + vis.binds.basic.formatIntervalHelper(h, 'hours');
                    } else {
                        text += ' and ' + vis.binds.basic.formatIntervalHelper(h, 'hours');
                    }
                }

                if (vis.language === 'de') {
                    // nothing
                } else if (vis.language === 'ru') {
                    text += ' назад';
                } else {
                    text += ' ago';
                }
            }
            return text;
        },
        startUpdateInterval: function () {
            if (vis.binds.basic.updateInterval) return;
            vis.binds.basic.updateInterval = setInterval(function () {
                $('.time-interval').each(function () {
                    $(this).html(vis.binds.basic.formatInterval($(this).data('time'), $(this).data('moment')))
                });
            }, 15000);
        },
        formatDate: function (dateObj, format, interval, isMomentJs) {
            if (typeof format === 'boolean') {
                interval = format;
                format = 'auto';
            }

            if (format === 'auto') format = (vis.dateFormat || 'DD.MM.YYYY') + ' hh:mm:ss';

            format = format || vis.dateFormat || 'DD.MM.YYYY';

            if (!dateObj) return '';
            var text = typeof dateObj;
            if (text === 'string') {
		dateObj = new Date(dateObj);
            }
            if (text !== 'object') {
                var i = parseInt(dateObj, 10);
                if (i == dateObj) {
                    i = dateObj;
                    // if greater than 2000.01.01 00:00:00
                    if (i > 946681200000) {
                        dateObj = new Date(dateObj);
                    } else {
                        dateObj = new Date(dateObj * 1000);
                    }
                } else {
                    dateObj = new Date(dateObj);
                }
            }
            if (interval) {
                vis.binds.basic.startUpdateInterval();
                return '<span class="time-interval" data-time="' + dateObj.getTime() + '" data-moment="' + (isMomentJs || false) + '">' + vis.binds.basic.formatInterval(dateObj.getTime(), isMomentJs) + '</span>';
            }

            var v;

            // Year
            if (format.indexOf('YYYY') !== -1 || format.indexOf('JJJJ') !== -1 || format.indexOf('ГГГГ') !== -1) {
                v = dateObj.getFullYear();
                format = format.replace('YYYY', v);
                format = format.replace('JJJJ', v);
                format = format.replace('ГГГГ', v);
            } else if (format.indexOf('YY') !== -1 || format.indexOf('JJ') !== -1 || format.indexOf('ГГ') !== -1) {
                v = dateObj.getFullYear() % 100;
                format = format.replace('YY', v);
                format = format.replace('JJ', v);
                format = format.replace('ГГ', v);
            }
            // Month
            if (format.indexOf('MM') !== -1 || format.indexOf('ММ') !== -1) {
                v =  dateObj.getMonth() + 1;
                if (v < 10) v = '0' + v;
                format = format.replace('MM', v);
                format = format.replace('ММ', v);
            } else if (format.indexOf('M') !== -1 || format.indexOf('М') !== -1) {
                v =  dateObj.getMonth() + 1;
                format = format.replace('M', v);
                format = format.replace('М', v);
            }

            // Day
            if (format.indexOf('DD') !== -1 || format.indexOf('TT') !== -1 || format.indexOf('ДД') !== -1) {
                v =  dateObj.getDate();
                if (v < 10) v = '0' + v;
                format = format.replace('DD', v);
                format = format.replace('TT', v);
                format = format.replace('ДД', v);
            } else if (format.indexOf('D') !== -1 || format.indexOf('TT') !== -1 || format.indexOf('Д') !== -1) {
                v =  dateObj.getDate();
                format = format.replace('D', v);
                format = format.replace('T', v);
                format = format.replace('Д', v);
            }

            // hours
            if (format.indexOf('hh') !== -1 || format.indexOf('SS') !== -1 || format.indexOf('чч') !== -1) {
                v =  dateObj.getHours();
                if (v < 10) v = '0' + v;
                format = format.replace('hh', v);
                format = format.replace('SS', v);
                format = format.replace('чч', v);
            } else if (format.indexOf('h') !== -1 || format.indexOf('S') !== -1 || format.indexOf('ч') !== -1) {
                v =  dateObj.getHours();
                format = format.replace('h', v);
                format = format.replace('S', v);
                format = format.replace('ч', v);
            }

            // minutes
            if (format.indexOf('mm') !== -1 || format.indexOf('мм') !== -1) {
                v =  dateObj.getMinutes();
                if (v < 10) v = '0' + v;
                format = format.replace('mm', v);
                format = format.replace('мм', v);
            } else if (format.indexOf('m') !== -1 ||  format.indexOf('м') !== -1) {
                v =  dateObj.getMinutes();
                format = format.replace('m', v);
                format = format.replace('v', v);
            }

            // milliseconds
            if (format.indexOf('sss') !== -1 || format.indexOf('ссс') !== -1) {
                v =  dateObj.getMilliseconds();
                if (v < 10) {
                    v = '00' + v;
                } else if (v < 100) {
                    v = '0' + v;
                }
                format = format.replace('sss', v);
                format = format.replace('ссс', v);
            }

            // seconds
            if (format.indexOf('ss') !== -1 || format.indexOf('сс') !== -1) {
                v =  dateObj.getSeconds();
                if (v < 10) v = '0' + v;
                format = format.replace('ss', v);
                format = format.replace('cc', v);
            } else if (format.indexOf('s') !== -1 || format.indexOf('с') !== -1) {
                v =  dateObj.getHours();
                format = format.replace('s', v);
                format = format.replace('с', v);
            }

            return format;
        },
        detectScreen: function (wid) {
            if (vis.navChangeCallbacks.indexOf(vis.binds.basic.detectScreen) === -1) {
                vis.navChangeCallbacks.push(vis.binds.basic.detectScreen);
            }

            function onResize () {
                if (vis.editMode) {
                    $('.vis-resolution-width').html(vis.views[vis.activeView].settings.sizex  || $(window).width());
                    $('.vis-resolution-height').html(vis.views[vis.activeView].settings.sizey || $(window).height());
                    $('.vis-resolution-default-view').html(vis.findNearestResolution(vis.views[vis.activeView].settings.sizex || $(window).width(), vis.views[vis.activeView].settings.sizey || $(window).height()));
                } else {
                    $('.vis-resolution-width').html($(window).width());
                    $('.vis-resolution-height').html($(window).height());
                    $('.vis-resolution-default-view').html(vis.findNearestResolution());
                }
            }

            setTimeout(function () {
                $(window).bind('resize', onResize);
                if (vis.editMode) {
                    $('.vis-resolution-width').html(vis.views[vis.activeView].settings.sizex  || $(window).width());
                    $('.vis-resolution-height').html(vis.views[vis.activeView].settings.sizey || $(window).height());
                    $('.vis-resolution-default-view').html(vis.findNearestResolution(vis.views[vis.activeView].settings.sizex || $(window).width(), vis.views[vis.activeView].settings.sizey || $(window).height()));
                } else {
                    $('.vis-resolution-width').html($(window).width());
                    $('.vis-resolution-height').html($(window).height());
                    $('.vis-resolution-default-view').html(vis.findNearestResolution());
                }
            }, 100);

            if (vis.editMode) {
                $('#' + wid).data('destroy', function () {
                    $(window).unbind('resize', onResize);
                });
            }
        },
        createScreenText: function () {
            setTimeout(function () {
                $('.basic-click-create-instance').unbind('click').click(function () {
                    if (!vis.instance) {
                        vis.generateInstance();
                        if (vis.instance) {
                            $(this).html(vis.instance).removeClass('basic-click-create-instance').css({
                                'font-weight': 'inherit',
                                cursor: 'inherit'
                            });
                        } else {
                            window.alert('Cannot generate!');
                        }
                    }
                });
            }, 500);
            return '<span class="basic-click-create-instance" style="font-weight: bold; cursor: pointer">' + _('click to create') + '</span>';
        },
        isFalse: function (val, min, max) {
            if (min !== undefined && min !== null && min !== '') {
                if (val === 'true') {
                    val = true;
                }
                if (val === 'false') {
                    val = false;
                }
                if (max !== undefined && max !== null && max !== '') {
                    if (max === 'false') {
                        max = false;
                    }
                    if (max === 'true') {
                        max = true;
                    }
                    return val != max;
                } else {
                    if (min === 'false') {
                        min = false;
                    }
                    if (min === 'true') {
                        min = true;
                    }
                    return val == min;
                }
            }
            if (val === undefined || val === null || val === false || val === 'false' || val === 'FALSE' || val === 'False' || val === 'OFF' || val === 'Off' || val === 'off' || val === '') return true;
            if (val === '0' || val === 0) return true;
            var f = parseFloat(val);
            if (f.toString() !== 'NaN') return !f;
            return false;
        },
        circlePoints: function (radius, num, step) {
            var isArray = false;
            if (step === true) {
                isArray = true;
                step = 0;
            }
            step = step || 360 / num;
            var points = [];
            var text = '';
            for (var i = 0; i < num; i++) {
                var point = {x:Math.sin(Math.PI / 180 * (i * step - 180)) * radius, y:Math.cos(Math.PI / 180 * (i * step - 180)) * radius};
                points.push(point);
                text += point.x + ', ' + point.y + ' ';
            }
            if (isArray) return points;
            return text;
        },
        createValueGesture: function (widgetID, view, data, style) {
            var $div = $('#' + widgetID);
            // if nothing found => wait
            if (!$div.length) {
                return setTimeout(function () {
                    vis.binds.basic.createValueGesture(widgetID, view, data, style);
                }, 100);
            }
            var $content = $('#' + widgetID + ' .vis-widget-body');
            function refresh(val, x, y) {
                var text;
                if (val === null){
                    $div.hide();
                    return;
                }
                text = data.html_prepend || '';
                text += vis.binds.basic.formatFloat(data,val);
                text += parseFloat(vis.binds.basic.formatFloat(data,val)) === 1 ? data.html_append_singular || '' : data.html_append_plural || '';
                $content.html(text);
                $div.css({left: parseInt(x)  -$div.width() / 2 + 'px', top: parseInt(y) - $div.height() / 2 + 'px'}).show();
            }
            if (vis.editMode){
                refresh(data.test_html || 0, $div.position().left + $div.width() / 2, $div.position().top + $div.height() / 2);
            } else {
                refresh(null, 0, 0);
            }

            // subscribe top value updates
            $div.on('gestureUpdate', function(event, evData){
                refresh(evData.val, evData.x, evData.y);
            });
        },
        speech2text: function (wid, view, data, style) {
            var $div = $('#' + wid);
            // if nothing found => wait
            if (!$div.length) {
                return setTimeout(function () {
                    vis.binds.basic.speech2text(wid, view, data, style);
                }, 100);
            }

            if (typeof webkitSpeechRecognition === 'undefined') {
                console.error('Browser does not support speech 2 text');
                $div.find('.mic-info-text').html(_('info_upgrade'));
                return;
            }

            var _data ={
                continuous:     data.speechMode === 'continuous' || data.speechMode === 'startstop',
                speechMode:     data.speechMode,
                oid:            data.oid,
                language:       data.language,
                finalTranscript: '',
                lastText:       '',
                recognition:    null,
                ignoreOnEnd:    false,
                timer:          null,
                words:          data.keywords ? data.keywords.toLowerCase().split(/[\s,;]+/g) : null,
                textSentColor:  data.textSentColor,
                keyWordColor:   data.keyWordColor,
                imageInactive:  data.imageInactive,
                imageActive:    data.imageActive    || data.imageInactive,
                imageStarted:   data.imageStarted   || data.imageInactive,
                imageDetected:  data.imageDetected  || data.imageInactive,
                imageSent:      data.imageSent      || data.imageInactive,
                $text:          $div.find('.mic-info-text'),
                $result:        $div.find('.mic-results'),
                $image:         $div.find('.mic-image')
            };
            data = null;

            function findKeyWord(text) {
                var found = false;
                if (_data.words) {
                    found = false;
                    var wwords = text.toLowerCase().split(' ');
                    for (var w = 0; w < _data.words.length; w++) {
                        var pos = wwords.indexOf(_data.words[w]);
                        if (pos !== -1) {
                            var offset = 0;
                            for (var p = 0; p < pos; p++) {
                                offset += wwords[p].length + 1;
                            }
                            text = text.substring(0, offset) + '<b>' + text.substring(offset, offset + wwords[pos].length) + '</b>' + text.substring(offset + wwords[pos].length);
                            found = true;
                            break;
                        }
                    }
                } else {
                    return true;
                }
                return found ? text : false;
            }

            function startRecognition() {
                if (_data.recognition) {
                    if (_data.speechMode === 'startstop') {
                        _data.recognition.onend = null;
                        _data.recognition.stop();
                        _data.recognition = null;
                        _data.$text.html(_('info_start')).show();
                        _data.$image.attr('src', _data.imageInactive);
                        _data.$result.hide();
                    }
                    return;
                }

                _data.recognition                 = new webkitSpeechRecognition();
                _data.recognition.continuous      = _data.continuous;
                _data.recognition.interimResults  = true;
                _data.recognition.maxAlternatives = 1;
                var startTimestamp = new Date();


                _data.recognition.onstart = function() {
                    _data.$text.html(_('info_speak_now')).show();
                    _data.$image.attr('src', _data.imageActive);
                    _data.$result.hide();
                };

                _data.recognition.onerror  = function(event) {
                    _data.$result.hide();
                    _data.$text.show();
                    _data.$image.attr('src', _data.imageInactive);
                    if (event.error === 'no-speech') {
                        _data.$text.html(_('info_no_speech'));
                        //_data.ignoreOnEnd = true;
                    }
                    if (event.error === 'audio-capture') {
                        _data.$text.html(_('info_no_microphone'));
                        _data.ignoreOnEnd = true;
                    }
                    if (event.error === 'not-allowed') {
                        if (event.timeStamp - startTimestamp < 100) {
                            _data.$text.html(_('info_blocked'));
                        } else {
                            _data.$text.html(_('info_denied'));
                        }
                        _data.ignoreOnEnd = true;
                    }
                };

                _data.recognition.onend    = function() {
                    // console.log('onend');
                    _data.recognition.stop();
                    _data.recognition = null;
                    if (!_data.ignoreOnEnd) {
                        setTimeout(function () {
                            _data.$image.attr('src', _data.imageInactive);
                            if (_data.continuous) {
                                _data.$result.hide();
                                _data.$text.html(_('info_speak_now')).show();
                                startRecognition();
                            } else {
                                _data.$result.hide();
                                _data.$text.html(_('info_start')).show();
                            }
                        }, 1000);
                    }
                };

                _data.recognition.onresult = function(event) {
                    var interimTranscript = '';

                    if (typeof event.results === 'undefined') {
                        _data.recognition.onend = null;
                        _data.recognition.stop();
                        return;
                    }

                    for (var i = event.resultIndex; i < event.results.length; ++i) {
                        if (event.results[i].isFinal) {
                            _data.finalTranscript += event.results[i][0].transcript;
                        } else {
                            interimTranscript += event.results[i][0].transcript;
                        }
                    }

                    if (_data.$image.attr('src') === _data.imageActive) _data.$image.attr('src', _data.imageStarted);

                    //final_transcript = capitalize(final_transcript);
                    _data.$text.hide();
                    var text = _data.finalTranscript || interimTranscript;
                    var found = findKeyWord(text);

                    if (!_data.originalColor) _data.originalColor = _data.$result.css('color');

                    if (found) {
                        text = found;
                        if (_data.$image.attr('src') === _data.imageStarted) _data.$image.attr('src', _data.imageDetected);
                        _data.$result.addClass('mic-keyword-found');
                        if (_data.keyWordColor) _data.$result.css({color: _data.keyWordColor});
                    }

                    _data.$result.html(text).show();

                    if (_data.finalTranscript) {
                        if (_data.timer) clearTimeout(_data.timer);

                        if (found) {
                            _data.$image.attr('src', _data.imageSent);
                            if (_data.textSentColor) _data.$result.css({color: _data.textSentColor});
                            _data.$result.addClass('mic-text-sent');
                            vis.setValue(_data.oid, _data.finalTranscript);
                        }

                        _data.finalTranscript = '';
                        _data.lastText = '';

                        setTimeout(function () {
                            _data.$image.attr('src', _data.imageActive);
                            _data.$result.css({color: _data.originalColor});
                            _data.$result.hide().removeClass('mic-keyword-found mic-text-sent');
                            _data.$text.html(_('info_speak_now')).show();
                        }, 1000);
                    } else {
                        _data.lastText = interimTranscript;

                        if (_data.timer) clearTimeout(_data.timer);
                        _data.timer = setTimeout(function () {
                            _data.timer = null;
                            _data.recognition.onend = null;
                            _data.recognition.stop();
                            _data.recognition = null;

                            var found = findKeyWord(_data.lastText);
                            if (found) {
                                _data.$image.attr('src', _data.imageSent);
                                if (_data.textSentColor) _data.$result.css({color: _data.textSentColor});
                                _data.$result.addClass('mic-text-sent');
                                vis.setValue(_data.oid, _data.finalTranscript);
                            }

                            _data.finalTranscript = '';
                            _data.lastText = '';

                            setTimeout(function () {
                                _data.$image.attr('src', _data.imageActive);
                                _data.$result.css({color: _data.originalColor});
                                _data.$result.hide().removeClass('mic-keyword-found mic-text-sent');
                                _data.$text.html(_('info_speak_now')).show();
                                startRecognition();
                            }, 1000);
                        }, 3000);
                    }
                };

                _data.recognition.lang     = _data.language;

                _data.recognition.start();
            }

            if (_data.speechMode === 'continuous') {
                if (!vis.editMode) {
                    startRecognition();
                } else {
                    $div.find('.mic-info-text').html(_('info_start'));
                }
            } else {
                $div.find('.mic-info-text').html(_('info_start'));
                if (!vis.editMode) {
                    $div.click(function () {
                        startRecognition();
                    });
                }
            }
        },
        getTimeInterval: function (oldTime, hoursToShow) {
            var result = '';

            var newTime = new Date ();

            if (!oldTime) return '';
            if (typeof oldTime === 'string') {
                oldTime = new Date(oldTime);
            } else {// 2000.01.01 00:00:00 = 946681200000
                if (typeof oldTime === 'number') oldTime = oldTime > 946681200000 ? new Date(oldTime) : new Date(oldTime * 1000);
            }

            var seconds = (newTime.getTime() - oldTime.getTime()) / 1000;

            if (hoursToShow && (seconds / 3600) > hoursToShow) return '';

            if (seconds < 60) {
                result = _('just&nbsp;now');
            } else
            if (seconds <= 3600)
                result = _('for&nbsp;%s&nbsp;min.', Math.floor (seconds / 60));
            else
            if (seconds <= 3600 * 24)
                result = _('for&nbsp;%s&nbsp;hr.&nbsp;and&nbsp;%s&nbsp;min.', Math.floor (seconds / 3600), (Math.floor (seconds / 60) % 60));
            else
            if (seconds > 3600 * 24 && seconds <= 3600 * 48)
                result = _('yesterday');
            else
            if (seconds > 3600*48) {
                result = _('for&nbsp;%s&nbsp;hours', Math.floor (seconds / 3600));
            }

            return result;
        },
        logout: function (el, data) {
            if (vis.editMode) return;
            var $el = $(el);
            $el.data('redirect', data.redirect_url);
            $el.data('app', data.in_app_close);

            $el.click(function () {
                if ($(this).data('app')) {
                    if (typeof logout === 'function') {
                        logout();
                    } else {
                        vis.showMessage(_('This option works only in APP'));
                    }
                } else if ($(this).data('redirect')) {
                    var redirect = $(this).data('redirect');
                    vis.conn.logout(function() {
                        window.location = redirect;
                    });
                } else {
                    vis.conn.logout(function(){
                        window.location.reload();
                    });
                }
            });
        },
        toggleFullScreen: function (wid, view, data, style) {
            var $div = $('#' + wid);

            var id = $div.attr('id');
            if (id && id.match(/_removed$/)) return;

            // if nothing found => wait
            if (!$div.length) {
                setTimeout(function () {
                    vis.binds.basic.toggleFullScreen(wid, view, data, style);
                }, 100);
                return;
            }

            var svgOn  = '<svg viewBox="0 0 24 24" style="display: inline-block; color: rgba(0, 0, 0, 0.87); fill: currentcolor; height: 24px; width: 24px; user-select: none; transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"></path></svg>';
            var svgOff = '<svg viewBox="0 0 24 24" style="display: inline-block; color: rgba(0, 0, 0, 0.87); fill: currentcolor; height: 24px; width: 24px; user-select: none; transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"></path></svg>';

            if (!vis.editMode) {
                $div.unbind('click').click(function () {
                    if (vis.binds.basic.isFullScreen) {
                        vis.binds.basic.isFullScreen = false;
                        if (document.exitFullscreen) {
                            document.exitFullscreen();
                        } else if (document.mozCancelFullScreen) {
                            document.mozCancelFullScreen();
                        } else if (document.webkitExitFullscreen) {
                            document.webkitExitFullscreen();
                        }
                        $('#' + wid).find('.vis-fullscreen-icon').html(svgOn);
                    } else {
                        vis.binds.basic.isFullScreen = true;
                        var element = $('#vis_container')[0];
                        if (element.requestFullscreen) {
                            element.requestFullscreen();
                        } else if (element.mozRequestFullScreen) {
                            element.mozRequestFullScreen();
                        } else if (element.webkitRequestFullscreen) {
                            element.webkitRequestFullscreen();
                        } else if (element.msRequestFullscreen) {
                            element.msRequestFullscreen();
                        }
                        $('#' + wid).find('.vis-fullscreen-icon').html(svgOff);
                    }
                });
            }

            $div.find('.vis-fullscreen-icon').html(svgOn);
        }
    };

    $(document).mouseup(function () {
        if (vis.binds.basic.pressed) {
            clearInterval(vis.binds.basic.pressed);
            vis.binds.basic.pressed = null;
        }
    });

    if (vis.editMode) {
        vis.binds.basic.onOrientation = function (widgetID, view, newId, attr, isCss) {
            var data  = vis.views[view].widgets[widgetID].data;
            var style = vis.views[view].widgets[widgetID].style;
            var h = parseInt(style.height, 10);
            var w = parseInt(style.width, 10);

            if (data[attr] === 'vertical') {
                if (h < w) {
                    var t = style.height;
                    style.height = style.width;
                    style.width = t;
                    setTimeout(function () {
                        vis.showWidgetHelper(widgetID, true);
                    }, 0);
                    return ['width', 'height'];
                }
            } else {
                if (w < h) {
                    var t = style.height;
                    style.height = style.width;
                    style.width = t;
                    setTimeout(function () {
                        vis.showWidgetHelper(widgetID, true);
                    }, 0);
                    return ['width', 'height'];
                }
            }
        };
        vis.binds.basic.onAttrChanged = function (widgetID, view, newId, attr, isCss) {
            if (vis.binds.basic.groupTimer) clearTimeout(vis.binds.basic.groupTimer);
            vis.binds.basic.groupTimer = setTimeout(function () {
                vis.inspectWidgets(vis.activeViewDiv, vis.activeView, this.activeWidgets);
            }, 2000);
        };
    }
</script>

<!-- Basic Widgets -->


<script id="tplHtml"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-type="static"
        data-vis-prev='<img src="widgets/basic/img/Prev_HTML.png"></img>'
        data-vis-prev1='<div id="prev_tplFrame" style=" position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev vis-widget-lock" style="width: 80px; height: 80px; border: 3px solid rgb(73, 185, 255); border-radius: 20px;"><div style="top: 30px; color: rgb(73, 185, 255); font-size: 20px; text-align: center; padding-top: 32px;">HTML</div></div>'
        data-vis-name="HTML"
        data-vis-attrs="html/text;refreshInterval[0]/slider,0,180000,100">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 200px; height: 130px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.basic.htmlRefresh(el, this.data.attr('html'), data.attr("refreshInterval")) %>>
            <%== this.data.attr('html') %>
        </div>
    </div>
</script>

<script id="tplShapes"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-type="static"
        data-vis-name="Svg shape"
        data-vis-prev='<div id="prev_tplShapes" style="position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev " style="width: 90px; height: 90px; left: 502px; top: 174px; position: absolute;"> <div class="vis-widget-prev-body"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" style="display: block;width: 100%;height: 100%;fill: rgb(255, 255, 255);stroke: rgb(60, 152, 211); stroke-width: 4px;"> <circle cx="50" cy="50" r="47"></circle></svg></div> </div></div>'
        data-vis-attrs="svgType[circle]/select,line,triangle,square,pentagone,hexagone,octagone,circle,star,arrow;strokeColor[#009cb3]/color;fill[#00b3ac]/color;strokeWidth[5]/slider,0,100,1;rotate/slider,0,360,1;scaleWidth[1]/slider,0,1,0.1;scaleHeight[1]/slider,0,1,0.1">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 100px; height: 100px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="-50 -50 100 100" style="display: block;width:100%; height:100%;fill:<%== this.data.attr('fill') %>;stroke:<%== this.data.attr('strokeColor')%>;stroke-width: <%== this.data.attr('strokeWidth') %>">
                <%
                var svg = '';
                var rotate      = parseFloat(this.data.attr('rotate')) || 0;
                var scaleWidth  = parseFloat(this.data.attr('scaleWidth')) || 1;
                var scaleHeight = parseFloat(this.data.attr('scaleHeight')) || 1;
                var strokeWidth = parseInt(this.data.attr('strokeWidth'), 10) || 0;

                if (this.data.svgType === 'triangle') {
                    svg = '<polygon transform="rotate(' + rotate + ')  scale(' + scaleWidth + ', ' + scaleHeight + ') " ' +
                        'points="' + vis.binds.basic.circlePoints(50 - strokeWidth, 3) + '"/>';
                } else if (this.data.svgType === 'line') {
                    svg = '<line  vector-effect="non-scaling-stroke"  transform="rotate(' + rotate + ')" x1="-50" y1="0" x2="50" y2="0"/>';
                } else if (this.data.svgType === 'circle') {
                    svg = '<circle transform="scale(' + scaleWidth + ', ' + scaleHeight + ') rotate(' + rotate + ')" cx="0" cy="0" r="' + (50 - parseInt(strokeWidth, 10) / 2) + '" />';
                } else if (this.data.svgType === 'pentagone') {
                    svg = '<polygon transform="rotate(' + rotate + ')  scale(' + scaleWidth + ', ' + scaleHeight + ') " ' +
                        'points="' + vis.binds.basic.circlePoints(50 - strokeWidth, 5) + '"/>';
                } else if (this.data.svgType === 'square') {
                    svg = '<polygon transform="rotate(' + rotate + ')  scale(' + scaleWidth + ', ' + scaleHeight + ') " ' +
                        'points="' + vis.binds.basic.circlePoints(50 - strokeWidth, 4) + '"/>';
                } else if (this.data.svgType === 'hexagone') {
                    svg = '<polygon transform="rotate(' + rotate + ')  scale(' + scaleWidth + ', ' + scaleHeight + ') " ' +
                        'points="' + vis.binds.basic.circlePoints(50 - strokeWidth, 6) + '"/>';
                } else if (this.data.svgType === 'octagone') {
                    svg = '<polygon transform="rotate(' + rotate + ')  scale(' + scaleWidth + ', ' + scaleHeight + ') " ' +
                        'points="' + vis.binds.basic.circlePoints(50 - strokeWidth, 8) + '"/>';
                } else if (this.data.svgType === 'star') {
                    svg = '<polygon transform="rotate(' + rotate + ')  scale(' + scaleWidth + ', ' + scaleHeight + ') " ' +
                        'points="' + vis.binds.basic.circlePoints(50 - strokeWidth, 5, 144) + '"/>';
                } else if (this.data.svgType === 'arrow') {
                    var points = vis.binds.basic.circlePoints(50 - strokeWidth * 4, 3, true);
                    var text = '';
                    for (var p = 0; p < points.length; p++) {
                        text += points.x + ',' + points.y;
                        if (points.length === p - 2) {
                            text += '0,0';
                        }
                    }
                    svg = '<polygon transform="rotate(' + rotate + ') translate(0,10)  scale(' + scaleWidth + ', ' + scaleHeight + ') " ' +
                        'points="0, -50 -43.3, 25 0,0 43.3, 25"/>';
                }
                %>
                <%== svg %>
                </g>
            </svg>
        </div>
    </div>
</script>

<script id="tplIFrame"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-type="static"
        data-vis-prev='<img src="widgets/basic/img/Prev_iFrame.png"></img>'
        data-vis-name="iFrame"
        data-vis-attrs="src;refreshInterval[0]/slider,0,180000,100;noSandbox/checkbox;refreshOnWakeUp/checkbox;refreshOnViewChange/checkbox;refreshWithNoQuery/checkbox;scrollX/checkbox;scrollY/checkbox;seamless[true]/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top: 0px; left: 0px; width: 600px; height: 320px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <% if (vis.editMode) { %>
            <div class="editmode-helper" />
            <% } %>
            <iframe src="<%= this.data.attr('src') %>" <%= this.data.attr('noSandbox') ? '' : 'sandbox="allow-modals allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts"' %> style="position: absolute; border: 0; padding: 0; margin: 0; width: 100%; height: 100%;<%= this.data.attr('scrollX') == true ? 'overflow-x: scroll;' : 'overflow-x: hidden;' %><%= this.data.attr('scrollY') == true ? 'overflow-y: scroll;' : 'overflow-y: hidden;' %>" <%= this.data.attr('seamless') == true ? 'seamless' : '' %>></iframe>
            <div <%= (el) -> vis.binds.basic.iframeRefresh(el, data, this.view) %>></div>
        </div>
    </div>
</script>

<script id="tplImage"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-type="static"
        data-vis-prev='<img src="widgets/basic/img/Prev_Image.png"></img>'
        data-vis-name="Image"
        data-vis-attrs="src/image;stretch/checkbox;refreshInterval[0]/slider,0,180000,100;"
        data-vis-attrs0="refreshOnWakeUp/checkbox;refreshOnViewChange/checkbox;refreshWithNoQuery/checkbox;allowUserInteractions/checkbox;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 200px; height: 130px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <% if (vis.editMode) { %>
                <div class="editmode-helper" />
            <% } %>
            <img class="<%= this.data.attr('stretch') ? 'vis-image' : '' %> <%= this.data.attr('allowUserInteractions') ? '' : 'vis-no-user-select vis-no-pointer-events' %>" style="top:0; left: 0; position: absolute; width: 100%; <%= this.data.attr('stretch') ? 'height: 100%;' : '' %>" <%= this.data.attr('src') ? 'src="' + this.data.attr('src') + '"' : '' %> />
            <div <%= (el) -> vis.binds.basic.imgRefresh(el, data, this.view) %> />
        </div>
    </div>
</script>

<script id="tplLink"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/basic/img/Prev_tplLink.png"></img>'
        data-vis-set="basic"
        data-vis-type="static"
        data-vis-name="link"
        data-vis-attrs="html;href;target/auto,,_blank,_self,_parent,_top;alt">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 200px; height: 130px; " id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <a href="<%== this.data.attr('href') %>" target="<%== this.data.attr("target") %>" alt="<%== this.data.attr("alt") %>" style="text-decoration:none;width:100%;height:100%"><div style="width:100%;height:100%"><%== this.data.attr("html") %></div></a>
        </div>
    </div>
</script>

<script id="tplFrame"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplFrame" style=" position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev vis-widget-lock" style="width: 80px; height: 80px; border: 3px dashed rgb(60, 152, 211); border-radius: 20px;"><div style="top: 30px; color: rgb(60, 152, 211); font-size: 16px; text-align: center; padding-top: 31px;">BORDER</div></div>'
        data-vis-set="basic"
        data-vis-type="static"
        data-vis-name="Border"
        data-vis-attrs="title['Title'];title_font;title_color[black]/color;title_back/color;title_top[-10]/slider,-20,20,1;title_left[15]/slider,-20,30,1;header_height[0]/slider,0,100,1;header_color[black]/color">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow:visible;width:50px;height:50px;border:1px solid #888" id="<%= this.data.attr('wid') %>" >
        <% if (this.data.attr('header_height')) { %>
	    <div style="width:100%;height:<%= this.data.attr('header_height') %>px;background-color:<%= this.data.attr('header_color') %>">
		<% } %>
        <div style="position: absolute;top:<%= this.data.attr('title_top') %>px;left:<%= this.data.attr('title_left') %>px;color:<%== this.data.attr('title_color') %>;background:<%== this.data.attr('title_back') %>;font:<%== this.data.attr('title_font') %>"><%== this.data.attr('title') %></div>
        <% if (this.data.attr('header_height')) { %>
        </div>
		<% } %>
    </div>
</script>

<script id="tplStatefulIFrame8"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-prev='<img src="widgets/basic/img/Prev_StatefulIFrame8.png"></img>'
        data-vis-type="stateful"
        data-vis-name="iFrame 8"
        data-vis-attrs="oid;refreshInterval[0]/slider,0,180000,100;count[1]/number;group.frames;src_(0-count);noSandbox/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px; left: 0px; width: 600px; height: 320px;" id="<%= this.data.attr('wid') %>">
        <% if (vis.editMode) { %>
            <div class="editmode-helper"/>
        <% } %>
        <div class="vis-widget-body">
            <% if (vis.editMode) { %>
                <div class="editmode-helper"/>
            <% } %>
            <%
                var srcArr = [];
                var i = 0;
                while(data.attr('src_' + i) !== undefined) {
                    srcArr.push(data.attr('src_' + i));
                    i++;
                }
            %>
            <iframe class="vis-widget-element" <%= this.data.attr('noSandbox') ? '' : 'sandbox="allow-modals allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts"' %> data-oid="<%= this.data.attr('oid') %>" src="<%== vis.binds.stateful.value(srcArr, data.attr('oid')) %>" style="position: absolute; border: 0; padding: 0; margin: 0; width: 100%; height: 100%;"></iframe>
            <div <%= (el) -> vis.binds.stateful.iframe(el, srcArr, data.attr('refreshInterval')) %> />
        </div>
    </div>
</script>

<!-- basic Container -->
<script id="tplContainerView"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-prev='<img src="widgets/basic/img/Prev_ContainerView.png"></img>'
        data-vis-type="container"
        data-vis-name="view in widget"
        data-vis-attrs="contains_view/views">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:400px; height: 270px;" id="<%= this.data.attr('wid') %>">
        <% if (vis.editMode) { %>
            <div class="editmode-helper"></div>
        <% } %>
        <div data-vis-contains="<%= this.data.attr('contains_view') %>" class="vis-widget-body vis-view-container">
        </div>
    </div>
</script>

<!-- Stateful Widgets -->
<script id="tplStatefulContainerView8"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-prev='<img src="widgets/basic/img/Prev_StatefulContainerView8.png"></img>'
        data-vis-type="stateful,container"
        data-vis-name="view in widget 8"
        data-vis-attrs="oid;persistent/checkbox;notIfInvisible/checkbox;count[1]/number;group.views;contains_view_(0-count)/views">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:400px; height: 270px;" id="<%= this.data.attr('wid') %>">
        <% if (vis.editMode) { %>
            <div class="editmode-helper" />
        <% } %>
        <%
            var viewArr = [];
            var i = 0;
            while (data.attr('contains_view_' + i) !== undefined) {
                viewArr.push(data.attr('contains_view_' + i));
                i++;
            }
        %>
        <div class="vis-widget-body">
            <div class="vis-view-container" data-oid="<%= data.attr('oid') %>" data-vis-contains="<%= vis.binds.stateful.value(viewArr, data.attr('oid')) %>" <%= (el) -> vis.binds.stateful.view(el, viewArr, data.attr('persistent'), data.attr('notIfInvisible')) %> />
        </div>
    </div>
</script>

<!-- TODO
<script type="text/ejs" id="tplStatefulIFrame8Persistent" class="vis-tpl" data-vis-set="basic" data-vis-name="stateful - iFrame 8 (persistent)" data-vis-attrs="oid;refreshInterval;src_(0-1)">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px; left: 0px; width: 600px; height: 320px;" id="<%= this.data.attr('wid') %>">
            <% if (vis.editMode) { %>
                <div class="editmode-helper" />
            <% } %>
          <div class="vis-widget-body">
            <% if (vis.editMode) { %>
                <div class="editmode-helper" />
            <% } %>
            <iframe class="vis-widget-element" src="<%= this.data.attr('src_0') %>" style="position: absolute; border:0; padding:0; margin:0; width: 100%; height:100%;"></iframe>
            <iframe class="vis-widget-element" src="<%= this.data.attr('src_1') %>" style="position: absolute; border:0; padding:0; margin:0; width: 100%; height:100%;"></iframe>
            <iframe class="vis-widget-element" src="<%= this.data.attr('src_2') %>" style="position: absolute; border:0; padding:0; margin:0; width: 100%; height:100%;"></iframe>
            <iframe class="vis-widget-element" src="<%= this.data.attr('src_3') %>" style="position: absolute; border:0; padding:0; margin:0; width: 100%; height:100%;"></iframe>
            <iframe class="vis-widget-element" src="<%= this.data.attr('src_4') %>" style="position: absolute; border:0; padding:0; margin:0; width: 100%; height:100%;"></iframe>
            <iframe class="vis-widget-element" src="<%= this.data.attr('src_5') %>" style="position: absolute; border:0; padding:0; margin:0; width: 100%; height:100%;"></iframe>
            <iframe class="vis-widget-element" src="<%= this.data.attr('src_6') %>" style="position: absolute; border:0; padding:0; margin:0; width: 100%; height:100%;"></iframe>
            <iframe class="vis-widget-element" src="<%= this.data.attr('src_7') %>" style="position: absolute; border:0; padding:0; margin:0; width: 100%; height:100%;"></iframe>
            <div <%= (el) -> vis.binds.stateful.iframe(el, [data.attr("src_0"), data.attr("src_1"), data.attr("src_2"), data.attr("src_3"), data.attr("src_4"), data.attr("src_5"), data.attr("src_6"), data.attr("src_7"]), data.attr("refreshInterval")) %> />
        </div>
    </div>
</script>
-->

<script id="tplStatefulImage8"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-prev='<img src="widgets/basic/img/Prev_StatefulImage.png"></img>'
        data-vis-type="stateful"
        data-vis-name="Image 8"
        data-vis-attrs="oid;refreshInterval[0]/slider,0,180000,100;count[1]/number;group.images;src_(0-count)/image">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 200px; height: 130px;" id="<%= this.data.attr('wid') %>">
        <% if (vis.editMode) { %>
            <div class="editmode-helper" />
        <% } %>
        <div class="vis-widget-body">
            <% if (vis.editMode) { %>
                <div class="editmode-helper" />
            <% } %>
            <%
                var srcArr = [];
                var i = 0;
                while(data.attr("src_" + i) !== undefined) {
                    srcArr.push(this.data.attr("src_" + i));
                    i++;
                }
            %>
            <img class="vis-widget-element" data-oid="<%= this.data.attr('oid') %>" style="position:absolute; width:100%;" src="<%== vis.binds.stateful.value(srcArr, this.data.attr('oid')) %>" />
            <div <%= (el) -> vis.binds.stateful.image(el, srcArr, data.attr('refreshInterval')) %> />
        </div>
    </div>
</script>

<script id="tplHtmlNav"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-type="static,navigation"
        data-vis-prev='<img src="widgets/basic/img/Prev_HTMLnavigation.png"></img>'
        data-vis-name="HTML navigation"
        data-vis-attrs="html;nav_view;sync/checkbox;body-background/color;group.effects;hide_effect/effect;hide_duration/slider,0,10000,100;hide_options/effect-options;show_effect/effect;show_duration/slider,0,10000,100;show_options/effect-options">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 200px; height: 130px; " id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.basic.navigation(el, {nav_view: data.attr('nav_view'), hideOptions: {effect: data.attr('hide_effect'), options: (data.attr('hide_options') ? data.attr('hide_options') : {}),duration:data.attr('hide_duration')}, showOptions: {effect:data.attr('show_effect'), options: (data.attr('show_options') ? data.attr('show_options') : {}), duration: data.attr('show_duration')}, sync: data.attr('sync'), background: data.attr('body-background')}) %>>
        <div class="vis-widget-body">
            <%== this.data.attr('html') %>
        </div>
    </div>
</script>

<script id="tplFilterDropdown"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/basic/img/Prev_FilterDropdown.png"></img>'
        data-vis-set="basic"
        data-vis-type="filter"
        data-vis-name="filter - dropdown"
        data-vis-attrs="filters;group.effects;hide_effect/effect;hide_duration/slider,0,10000,100;show_effect/effect;show_duration/slider,0,10000,100;"
        data-vis-attrs0="autoFocus/checkbox;"
>
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px; left:0px; width: 200px; height: 40px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.basic.filterDropdown(el, data.attr('filters'), data.attr('hide_effect'), data.attr('hide_duration'), data.attr('show_effect'), data.attr('show_duration')) %>>
        <div class="vis-widget-body">
            <select id="" name="" <%= this.data.attr('autoFocus') === true || this.data.attr('autoFocus') === 'true' ? 'autofocus' : '' %> >
                <option value=""><%= _('all') %></option>
            </select>
        </div>
    </div>
</script>

<script id="tplValueFloat"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-type="val"
        data-vis-prev='<img src="widgets/basic/img/Prev_ValueFloat.png"></img>'
        data-vis-name="Number"
        data-vis-attrs="oid;html_prepend;html_append_singular;html_append_plural;group.extended;digits;is_comma[true]/checkbox;is_tdp/checkbox;factor[1];oid-quality;class_true;class_false;test_html">
    <div class="vis-widget <%== (vis.states.attr(this.data['oid-quality'] + '.val') === 'true' ||  vis.states.attr(this.data['oid-quality'] + '.val') === true) ? this.data.attr('class_true') : this.data.attr('class_false') %> <%== this.data.attr('class') %>" style="top: 0; left: 0; width: 60px; height: 18px" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div data-oid="<%= this.data.attr('oid') %>">
                <%== this.data.attr('html_prepend') %><%= vis.binds.basic.formatFloat(this.data) %><%== (parseFloat(vis.binds.basic.formatFloat(this.data)) === 1 ? this.data.attr('html_append_singular') : this.data.attr('html_append_plural')) %>
            </div>
        </div>
    </div>
</script>

<script id="tplValueString"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-type="val"
        data-vis-name="String"
        data-vis-prev='<img src="widgets/basic/img/Prev_ValueString.png"></img>'
        data-vis-attrs="oid;html_prepend;html_append;test_html">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px; left: 0px; width: 50px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div data-oid="<%= this.data.attr('oid') ? ((this.data.attr('oid').indexOf('"') !== -1) ? '' : this.data.attr('oid')) : this.data.attr('oid') %>">
                <%== this.data.attr("html_prepend") %><%= (vis.editMode && this.data.attr('test_html')) ? this.data.attr('test_html') : this.data.attr('oid') ? ((this.data.attr('oid').indexOf('"') !== -1) ? this.data.oid.substring(1, this.data.oid.length - 1) : (vis.states.attr(this.data.oid + '.val'))) : (vis.states.attr(this.data.oid + '.val')) %><%== this.data.attr('html_append') %>
            </div>
        </div>
    </div>
</script>

<script id="tplValueStringRaw"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-type="val"
        data-vis-prev='<img src="widgets/basic/img/Prev_ValueStringRaw.png"></img>'
        data-vis-name="String (unescaped)"
        data-vis-attrs="oid;html_prepend;html_append;test_html">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px; left: 0px; width: 50px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div data-oid="<%= this.data.attr('oid') %>">
                <%== this.data.attr('html_prepend') %><%== (vis.editMode && this.data.attr('test_html')) ? this.data.attr('test_html') : (typeof app !== 'undefined' ? app.replaceFilePathSrc(vis.states.attr(this.data.oid + '.val')) : vis.states.attr(this.data.oid + '.val')) %><%== this.data.attr('html_append') %>
            </div>
        </div>
    </div>
</script>

<script id="tplValueStringImg"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-prev='<img src="widgets/basic/img/Prev_ValueStringImg.png"></img>'
        data-vis-type="val"
        data-vis-name="String img src"
        data-vis-attrs="oid;html_prepend;html_append;refreshInterval[0]/slider,0,180000,100">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px; left:0px; width:60px; height: 40px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div data-oid="<%= this.data.attr('oid') %>">
                <%== this.data.attr('html_prepend') %>
                <img src="<%= (typeof app !== 'undefined' ? app.replaceFilePathImg(vis.states.attr(this.data.oid + '.val')) : vis.states.attr(this.data.oid + '.val')) || '' %>" width="100%" />
                 <div <%= (el) -> vis.binds.basic.imgRefresh(el, vis.states.attr(data.oid + '.val' ), data, this.view) %> />
                <%== this.data.attr('html_append') %>
            </div>
        </div>
    </div>
</script>

<script id="tplTimeValue"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-type="val,timestamp"
        data-vis-name="TimesValue"
        data-vis-prev='<img src="widgets/basic/img/Prev_TimeValue.png"></img>'
        data-vis-attrs="oid;show_interval/checkbox;format_date/auto,YYYY.MM.DD hh:mm:ss,DD.MM.YYYY hh:mm:ss,YYYY.MM.DD,DD.MM.YYYY,YYYY/MM/DD hh:mm:ss,YYYY/MM/DD,hh:mm:ss;html_prepend;html_append;test_html">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top: 0px; left: 0px; width: 50px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div data-oid="<%= this.data.attr('oid') %>">
                <%== this.data.attr('html_prepend') %><%== (vis.editMode && this.data.attr('test_html')) ? this.data.attr('test_html') : vis.binds.basic.formatDate(vis.states.attr(this.data.oid + '.val'), this.data.attr('format_date'), this.data.attr('show_interval')) %><%== this.data.attr('html_append') %>
            </div>
        </div>
    </div>
</script>

<script id="tplValueTimestampValue"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-type="val,timestamp"
        data-vis-name="Timestamp Value"
        data-vis-prev='<img src="widgets/basic/img/Prev_ValueTimestamp.png"></img>'
        data-vis-attrs="oid;show_interval/checkbox;format_date/auto,YYYY.MM.DD hh:mm:ss,DD.MM.YYYY hh:mm:ss,YYYY.MM.DD,DD.MM.YYYY,YYYY/MM/DD hh:mm:ss,YYYY/MM/DD,hh:mm:ss;html_prepend;html_append;test_html">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top: 0px; left: 0px; width: 50px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div data-oid="<%= this.data.attr('oid') %>">
                <%== this.data.attr('html_prepend') %><%== (vis.editMode && this.data.attr('test_html')) ? this.data.attr('test_html') : vis.binds.basic.formatDate(vis.states.attr(this.data.oid + '.val'), this.data.attr('format_date'), this.data.attr('show_interval')) %><%== this.data.attr('html_append') %>
            </div>
        </div>
    </div>
</script>

<script id="tplValueTimestamp"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-type="val,timestamp"
        data-vis-name="Timestamp"
        data-vis-prev='<img src="widgets/basic/img/Prev_ValueTimestamp.png"></img>'
        data-vis-attrs="oid;show_interval/checkbox;format_date/auto,YYYY.MM.DD hh:mm:ss,DD.MM.YYYY hh:mm:ss,YYYY.MM.DD,DD.MM.YYYY,YYYY/MM/DD hh:mm:ss,YYYY/MM/DD,hh:mm:ss;html_prepend;html_append;test_html">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top: 0px; left: 0px; width: 50px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div data-oid="<%= this.data.attr('oid') %>">
                <%== this.data.attr('html_prepend') %><%== (vis.editMode && this.data.attr('test_html')) ? this.data.attr('test_html') : vis.binds.basic.formatDate(vis.states.attr(this.data.oid + '.ts'), this.data.attr('format_date'), this.data.attr('show_interval')) %><%== this.data.attr('html_append') %>
            </div>
        </div>
    </div>
</script>

<script id="tplValueLastchange"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-type="val,timestamp"
        data-vis-prev='<img src="widgets/basic/img/Prev_ValueLastchange.png"></img>'
        data-vis-name="Last change Timestamp"
        data-vis-attrs="oid;show_interval/checkbox;format_date/auto,YYYY.MM.DD hh:mm:ss,DD.MM.YYYY hh:mm:ss,YYYY.MM.DD,DD.MM.YYYY,YYYY/MM/DD hh:mm:ss,YYYY/MM/DD,hh:mm:ss;html_prepend;html_append;test_html">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px; left: 0px; width: 50px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div data-oid="<%= this.data.attr('oid') %>">
                <%== this.data.attr('html_prepend') %><%== (vis.editMode && this.data.attr('test_html')) ? this.data.attr('test_html') : vis.binds.basic.formatDate(vis.states.attr(this.data.oid + '.lc'), this.data.attr('format_date'), this.data.attr('show_interval')) %><%== this.data.attr('html_append') %>
            </div>
        </div>
    </div>
</script>

<script id="tplValueList"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-prev='<img src="widgets/basic/img/Prev_ValueList.png"></img>'
        data-vis-type="val"
        data-vis-name="ValueList Text"
        data-vis-attrs="oid;html_prepend;html_append;valuelist/text;test_list/nselect,,0,1,2,3,4,5,6,7,8,9,10,11,12">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px;left:0px;width:60px;height:20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div data-oid="<%= this.data.attr('oid') %>">
                <%== this.data.attr('html_prepend') %><%= (function (that){var list = (that.data.valuelist ? that.data.valuelist.split(';') : []); var val = list[(vis.editMode && (that.data.attr('test_list') || that.data.attr('test_list') == '0')) ? parseInt(that.data.attr('test_list')) : parseInt(vis.states.attr(that.data.oid + '.val'), 10)]; if (val) val = val.replace('§§', ';'); return val;})(this) %><%== this.data.attr('html_append') %>
            </div>
        </div>
    </div>
</script>

<script id="tplValueListHtml"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-prev='<img src="widgets/basic/img/Prev_ValueListHtml.png"></img>'
        data-vis-type="val"
        data-vis-name="ValueList HTML"
        data-vis-attrs="oid;html_prepend;html_append;valuelist/text;test_list/nselect,,0,1,2,3,4,5,6,7,8,9,10,11,12">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px;left:0px;width:60px;height:20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div data-oid="<%= this.data.attr('oid') %>">
                <%== this.data.attr('html_prepend') %><%== (function (that){var list = (that.data.valuelist ? that.data.valuelist.split(';') : []); var val = list[(vis.editMode && (that.data.attr('test_list') || that.data.attr('test_list') == '0')) ? parseInt(that.data.attr('test_list')) : parseInt(vis.states.attr(that.data.oid + '.val'), 10)]; if (val) val = val.replace('§§', ';'); return val;})(this) %><%== this.data.attr('html_append') %>
            </div>
        </div>
    </div>
</script>

<script id="tplValueListHtml8"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-prev='<img src="widgets/basic/img/Prev_ValueListHtml8.png"></img>'
        data-vis-type="val"
        data-vis-name="ValueList HTML Style"
        data-vis-attrs="oid;html_prepend;html_append;count[2]/number,0,10,1;value(0-count);style(0-count);test_list/nselect,,0,1,2,3,4,5,6,7,8,9,10,11,12">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 100px; height: 30px;" id="<%= this.data.attr('wid') %>">
        <%
            var slist = [];
            var i = 0;
            while (data['style' + i] !== undefined) {
                slist[i] = data['style' + i]; i++;
            }
        %>
        <div class="vis-widget-body" style="<%== slist[(vis.editMode && (this.data.attr('test_list') || this.data.attr('test_list') == '0')) ? parseInt(this.data.attr('test_list')) : (parseInt((vis.states.attr(this.data.oid + '.val') == true ? 1 : (vis.states.attr(this.data.oid + '.val') == false ? 0 : vis.states.attr(this.data.oid + '.val'))), 10))] %>">
            <div data-oid="<%= this.data.attr('oid') %>">
               <%== this.data.attr('html_prepend') %><%
                   var list = [];
                   var j = 0;
                   while (data['value' + j] !== undefined) {
                        list[j] = data['value' + j];
                        if (list[j]) list[j] = list[j].replace('§§', ';');
                        j++;
                   }
                   %><%== list[(vis.editMode && (this.data.attr('test_list') || this.data.attr('test_list') == '0')) ? parseInt(this.data.attr('test_list')) : (parseInt((vis.states.attr(this.data.oid + '.val') == true ? 1 : (vis.states.attr(this.data.oid + '.val') == false ? 0 : vis.states.attr(this.data.oid + '.val'))), 10))] %><%== this.data.attr('html_append') %>
            </div>
        </div>
    </div>
</script>

<script id="tplValueBool"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-prev='<img src="widgets/basic/img/Prev_ValueBool.png"></img>'
        data-vis-type="val"
        data-vis-name="Bool HTML"
        data-vis-attrs="oid;html_prepend;html_append;html_false;html_true">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:76px; height:76px;" id="<%= this.data.attr('wid') %>"  data-oid="<%= this.data.attr('oid') %>" >
        <div class="vis-widget-body">
            <%== this.data.attr('html_prepend') %>
            <% if (vis.binds.basic.isFalse(vis.states.attr(this.data.oid + '.val'), this.data.attr('min'), this.data.attr('max'))) { %>
                <%== this.data.attr("html_false") %>
            <% } else { %>
                <%== this.data.attr('html_true') %>
            <% } %>
            <%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplAckBool"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-prev='<img src="widgets/basic/img/Prev_AckBool.png"></img>'
        data-vis-type="val"
        data-vis-name="AckFlag HTML"
        data-vis-attrs="oid;html_prepend;html_append;html_false;html_true">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:76px; height:76px;" id="<%= this.data.attr('wid') %>"  data-oid="<%= this.data.attr('oid') %>" >
        <div class="vis-widget-body">
            <%== this.data.attr('html_prepend') %>
            <%
            var str = vis.states.attr(this.data.oid + ".ack");
            var val = parseFloat(str);
            var state;
            if (str === false || str === "false" || val == 0) {
            %>
            <%== this.data.attr('html_false') %>
            <% } else { %>
            <%== this.data.attr('html_true') %>
            <% } %>
            <%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplValueBoolCheckbox"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/basic/img/Prev_ValueBoolCheckbox.png"></img>'
        data-vis-set="basic"
        data-vis-type="ctrl"
        data-vis-name="Bool Checkbox"
        data-vis-attrs="oid;html_prepend;html_append;"
        data-vis-attrs0="autoFocus/checkbox;"
>
    <div class="vis-widget <%== this.data.attr('class') %>" style="" id="<%= this.data.attr('wid') %>" >
        <div class="vis-widget-body">
			<%== this.data.attr('html_prepend') %>
			<input
			    type="checkbox"
			    name="<%= this.data.attr('wid') %>_checkbox"
			    <%= this.data.attr('autoFocus') === true || this.data.attr('autoFocus') === 'true' ? 'autofocus' : '' %>
			    id="<%= this.data.attr('wid') %>_checkbox"
			    data-oid="<%= this.data.attr('oid') %>"
			    <%= (el) -> vis.binds.basic.checkbox(el) %>
            />
			<%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplValueInput"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/basic/img/Prev_ValueInput.png"></img>'
        data-vis-type="ctrl"
        data-vis-update-style="true"
        data-vis-name="Input val"
        data-vis-attrs="oid;html_prepend;html_append;numeric/checkbox;min;max;autoSet/checkbox;readOnly/checkbox;"
        data-vis-attrs0="autoFocus/checkbox;"
>
    <div class="vis-widget <%== this.data.attr('class') %>" style="background: white; color: black; border: 2px inset" id="<%= this.data.attr('wid') %>" >
        <div class="vis-widget-body">
			<%== this.data.attr('html_prepend') %>
			<input type="text"
			    <%= (this.data.attr('readOnly') === true || this.data.attr('readOnly') === 'true') ? 'readonly ' : '' %>
			    <%= this.data.attr('autoFocus') === true || this.data.attr('autoFocus') === 'true' ? 'autofocus ' : '' %>
			    data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.basic.input(el, this.data) %> style="width: calc(100% - 5px);"
            />
			<%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplValueBoolSelect"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-prev='<img src="widgets/basic/img/Prev_ValueBoolSelect.png"></img>'
        data-vis-type="ctrl"
        data-vis-name="Bool Select"
        data-vis-attrs="oid;html_prepend;html_append;text_true;text_false;"
        data-vis-attrs0="autoFocus/checkbox;"
>
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow:false" id="<%= this.data.attr('wid') %>" >
        <div class="vis-widget-body"  style="overflow:false">
			<%== this.data.attr('html_prepend') %>
			<select id="<%= this.data.attr('wid') %>_select" data-oid="<%= this.data.attr('oid') %>" <%= this.data.attr('autoFocus') === true || this.data.attr('autoFocus') === 'true' ? 'autofocus' : '' %> >
				<option value="0" selected='selected'><%= this.data.attr('text_false') %></option>
				<option value="1"><%= this.data.attr('text_true') %></option>
			</select>
			<div <%= (el) -> vis.binds.basic.select(el) %>></div>
			<%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplValueBoolCtrl"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-prev='<img src="widgets/basic/img/Prev_ValueBoolCtrl.png"></img>'
        data-vis-type="ctrl"
        data-vis-name="Bool HTML"
        data-vis-attrs="oid;min;max;html_prepend;html_append;html_false;html_true;"
        data-vis-attrs1="group.ccontrol;urlTrue;urlFalse;oidTrue/id;oidFalse/id;">
    <div
        class="vis-widget <%== this.data.attr('class') %>"
        style="width:76px; height:76px;"
        id="<%= this.data.attr('wid') %>"
        data-oid="<%= this.data.attr('oid') %>"
        data-min="<%= this.data.attr('min') %>"
        data-max="<%= this.data.attr('max') %>"
        data-as-button="<%= this.data.attr('asButton') %>"
        data-url-true="<%=  this.data.attr('urlTrue') %>"
        data-url-false="<%= this.data.attr('urlFalse') %>"
        data-oid-true="<%=  this.data.attr('oidTrue') %>"
        data-oid-false="<%= this.data.attr('oidFalse') %>"
        <%= (el) -> vis.binds.basic.toggle(el) %>>
        <div class="vis-widget-body">
			<%== this.data.attr('html_prepend') %>
			<% if (vis.binds.basic.isFalse(vis.states.attr(this.data.oid + '.val'), this.data.attr('min'), this.data.attr('max'))) { %>
			    <%== this.data.attr('html_false') %>
			<% } else { %>
			    <%== this.data.attr('html_true') %>
			<% } %>
			<%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplValueBoolCtrlSvg"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-prev='<img src="widgets/basic/img/Prev_ValueBoolCtrlSvg.png"></img>'
        data-vis-type="ctrl,state"
        data-vis-name="Bool SVG"
        data-vis-attrs="oid;no_control/checkbox;"
        data-vis-attrs0="svg_false[<polygon points='100,10 40,198 190,78 10,78 160,198' style='fill:lime§ stroke:purple§ stroke-width:5§ fill-rule:nonzero' transform='scale(0.4)'/>]/text;"
        data-vis-attrs1="svg_true[<polygon points='100,10 40,198 190,78 10,78 160,198' style='fill:yellow§ stroke:red§ stroke-width:5§ fill-rule:nonzero' transform='scale(0.4)'/>]/text;"
        data-vis-attrs2="svg_opacity/slider,0,1,0.05">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:76px; height:76px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>">
        <div class="vis-widget-body">
            <% vis.binds.basic.showSvg(this.data.attr('class'), this.view, this.data.attr('wid'), this.data.attr('oid'), this.data.attr('svg_opacity'), this.data.attr('svg_false'), this.data.attr('svg_true'), null, this.data.attr('no_control')) %>
        </div>
    </div>
</script>

<script id="tplBasicState"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/basic/img/Prev_BasicState.png"></img>'
        data-vis-set="basic"
        data-vis-type="ctrl"
        data-vis-name="HTML State"
        data-vis-attrs="oid;html;value;urlValue">
    <div
        class="vis-widget <%== this.data.attr('class') %>"
        style="width:76px; height:76px;"
        id="<%= this.data.attr('wid') %>"
        data-oid="<%= this.data.attr('oid') %>"
        data-url-value="<%= this.data.attr('urlValue') %>"
        data-val="<%= this.data.attr('value') %>"
        <%= (el) -> vis.binds.basic.state(el) %>
        >
        <div class="vis-widget-body">
			<%== this.data.attr("html") %>
        </div>
    </div>
</script>

<script id="tplRedNumber"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-type="val"
        data-vis-name="Red Number"
        data-vis-prev='<img src="widgets/basic/img/Prev_RedNumber.png"></img>'
        data-vis-attrs="oid;type[circle]/select,circle,pin;html_prepend;html_append_singular;html_append_plural">
    <% if (this.data.attr('type') === 'pin') { %>
        <div class="vis-widget <%== this.data.attr('class') %>" style="width: 33px; height: 61px; padding-left: 4px" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.basic.hideOnFalse(el) %>>
            <div class="vis-widget-body" >
                <img src="widgets/basic/img/pin_red5.svg" style="width: 100%; height: 100%">
                <div style="position:absolute; top: 22%; width: 95%; text-align: center">
                    <%== this.data.attr('html_prepend') %><%= parseInt(vis.states.attr(this.data.oid + '.val'), 10) %><%== (parseInt(vis.states.attr(this.data.oid + '.val'), 10) === 1 ? this.data.attr("html_append_singular") : this.data.attr("html_append_plural")) %>
                </div>
            </div>
        </div>
    <% } else { %>
        <div class="vis-widget <%== this.data.attr('class') %>" style="padding: 3px; width: auto; min-width: 21px; height: 21px; border-radius:16px; border: 3px solid white; background-color: rgb(214, 69, 69); color:white; font:normal normal normal 20px/normal Helvetica; text-align: center;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.basic.hideOnFalse(el) %>>
            <div class="vis-widget-body" >
                <%== this.data.attr('html_prepend') %><%= parseInt(vis.states.attr(this.data.oid + '.val'), 10) %><%== (parseInt(vis.states.attr(this.data.oid + '.val'), 10) === 1 ? this.data.attr("html_append_singular") : this.data.attr("html_append_plural")) %>
            </div>
        </div>
    <% } %>
</script>

<script id="tplBulbOnOffCtrl"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/basic/img/Prev_BulbOnOffCtrl.png"></img>'
        data-vis-set="basic"
        data-vis-type="ctrl"
        data-vis-name="Bulb on/off"
        data-vis-attrs="oid;min;max;icon_off[img~bulb_off.png]/image;icon_on[img~bulb_on.png]/image;readOnly/checkbox;"
        data-vis-attrs0="group.ccontrol;urlTrue;urlFalse;oidTrue/id;oidFalse/id;oidTrueValue;oidFalseValue;"
>
    <div
        data-oid="<%= this.data.attr('oid') %>"
        class="vis-widget <%== this.data.attr('class') %>"
        id="<%= this.data.attr('wid') %>"
        style="width: 44px; height: 59px"
        data-read-only="<%=  this.data.attr('readOnly') %>"
        data-min="<%= this.data.attr('min') %>"
        data-max="<%= this.data.attr('max') %>"
        data-url-true="<%=  this.data.attr('urlTrue') %>"
        data-url-false="<%= this.data.attr('urlFalse') %>"
        data-oid-true="<%=  this.data.attr('oidTrue') %>"
        data-oid-false="<%= this.data.attr('oidFalse') %>"
        data-oid-true-value="<%=  this.data.attr('oidTrueValue') %>"
        data-oid-false-value="<%= this.data.attr('oidFalseValue') %>"
        <%= (el) -> vis.binds.basic.toggle(el) %>
        >
        <div class="vis-widget-body">
            <% if (vis.binds.basic.isFalse(vis.states.attr(this.data.oid + '.val'), this.data.attr('min'), this.data.attr('max'))) { %>
                <img src="<%== this.data.attr('icon_off') ? this.data.attr('icon_off') : 'img/bulb_off.png' %>" width="100%"/>
            <% } else { %>
                <img src="<%== this.data.attr('icon_on') ? this.data.attr('icon_on') : 'img/icon_on.png' %>" width="100%"/>
            <% } %>
        </div>
    </div>
</script>

<script id="tplValueFloatBar"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-type="val,bar"
        data-vis-name="Bar"
        data-vis-prev='<img src="widgets/basic/img/Prev_ValueFloatBar.png"></img>'
        data-vis-attrs="oid;min[0];max[100];orientation[horizontal]/select,horizontal,vertical/onOrientation;color[blue]/color;border;shadow;reverse/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 240px; height: 20px; border: 1px solid #888" id="<%= this.data.attr('wid') %>">
        <div data-oid="<%= this.data.attr('oid') %>" class="vis-widget-body"
        style="<%= (this.data.attr('orientation') === 'vertical') ? ('height: ' + vis.binds.basic.getCalc(this.data) + ';' + ((this.data.border) ? ' width:  calc(100% - ' + vis.binds.basic.extractWidth(this.data.border, 2) + ');' : '') + (this.data.reverse === 'true' || this.data.reverse === true ? 'left: 0px; position: absolute; bottom: 0%;' : '')) : (((this.data.border) ? " height: calc(100% - " + vis.binds.basic.extractWidth(this.data.border, 2) + ');' : '') + 'width: ' + vis.binds.basic.getCalc(this.data) + ';' + (this.data.reverse === 'true' || this.data.reverse === true ? 'float: right; ' : '')) %>background-color:<%= this.data.color %>; border: <%= this.data.border %>; box-shadow: <%= this.data.shadow %>"></div>
    </div>
</script>

<script id="tplNote"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-type="val"
        data-vis-name="Note"
        data-vis-prev='<img src="widgets/basic/img/Prev_Note.png"></img>'
        data-vis-attrs="oid;max_width[300];html_prepend;html_append;test_text">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:50px; height:50px; border:1px solid #888; background: rgba(255,255,105,0.8)" id="<%= this.data.attr('wid') %>" onclick="vis.binds.basic.editNote('<%= this.data.attr('wid') %>', '<%= this.data.attr('max_width') %>', '<%= this.data.attr('min_width') %>', '<%= this.data.attr('min_height') %>', '<%= this.data.attr('oid') %>')">
		<div data-oid="<%= this.data.attr('oid') %>" id="div_<%= this.data.attr('wid') %>" style="padding: 10px">
			<%== this.data.attr('html_prepend') %><%= (this.data.test_text && vis.editMode) ? this.data.test_text : (vis.states.attr(this.data.oid + '.val') == null ? "" : vis.states.attr(this.data.oid + '.val')) %><%== this.data.attr('html_append') %>
		</div>
    </div>
</script>

<script id="tplTableBody"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-type="json,table"
        data-vis-name="Table"
        data-vis-prev='<img src="widgets/basic/img/Prev_TableBody.png"></img>'
        data-vis-attrs="table_oid/id;"
        data-vis-attrs0="static_value[[{^Title^: ^first^, ^Value^: 1, ^_Description^: ^Value1^}, {^Title^: ^second^, ^Value^: 2, ^_Description^: ^Value2^}]]/text;"
        data-vis-attrs1="event_oid/id;new_on_top/checkbox;ack_oid/id;selected_oid/id;hide_header/checkbox;show_scroll/checkbox;detailed_wid/widget;max_rows/number;"
        data-vis-attrs2="colCount/number;group.header/byindex;colName(1-colCount);colWidth(1-colCount);colAttr(1-colCount);"
        data-vis-attrs-not-used="btn_print;view_for_print/views"
>
    <div class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="width: 300px; height: 150px; background: #d3d3d3">
       <% vis.binds.table.showTable(this.view, this.data.attr('wid'), this.data); %>
    </div>
</script>

<script id="tplHtmlLogout"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-type="tools"
        data-vis-prev='<img src="widgets/basic/img/Prev_HtmlLogout.png"></img>'
        data-vis-name="HTML logout"
        data-vis-attrs="html[<button style=^cursor: pointer^>Logout</button>]/text;redirect_url;in_app_close/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 70px; height: 30px; cursor: pointer" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.basic.logout(el, this.data) %> >
        <div class="vis-widget-body">
            <%== this.data.attr('html') %>
        </div>
    </div>
</script>

<!--script id="tplDialog"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="table"
        data-vis-name="Dialog"
        data-vis-attrs="show/checkbox;trigger_id/id;button(1-3);title;text;image/image;width[400]/slider,50,1000,10;height[200]/slider,50,1000,10;modal/checkbox;_no_style[true]/hidden;_no_move[true]/hidden;_no_resize[true]/hidden;margin_left[0]/slider,0,200,1;margin_top[0]/slider,0,200,1"
        >
    <%
        var options =  {
            trigger_id:  this.data.attr('trigger_id'),
            buttons:     [this.data.attr('button1'), this.data.attr('button2'), this.data.attr('button3')],
            image:       this.data.attr('image'),
            title:       this.data.attr('title'),
            text:        this.data.attr('text'),
            width:       this.data.attr('width'),
            height:      this.data.attr('height'),
            show:        this.data.attr('show'),
            modal:       this.data.attr('modal'),
            margin_left: this.data.attr('margin_left'),
            margin_top:  this.data.attr('margin_top')
        };
        vis.binds.table.showDialog(this.view, this.data.attr('wid'), options);
    %>
</script-->

<script id="tplValueGesture"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-type="val,tools"
        data-vis-prev='<img src="widgets/basic/img/Prev_ValueGesture.png"></img>'
        data-vis-name="Gesture indicator"
        data-vis-no-gestures="true"
        data-vis-attrs="html_prepend;html_append_singular;html_append_plural;group.extended;digits[0];is_comma[true]/checkbox;is_tdp/checkbox;factor[1];test_html">
    <div class="vis-widget <%== this.data.attr('class') %>" style="height: 21px; border: 1px solid #c7c7c7; border-radius: 5px; text-align: center; padding-top: 6px; box-shadow: 2px 2px 5px 1px gray; padding-left: 2px; padding-right: 2px; background: lightgray;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <% vis.binds.basic.createValueGesture(this.data.wid, this.view, this.data, this.style); %>
        </div>
    </div>
</script>

<script id="tplSpeech2Text"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-type="val"
        data-vis-prev='<img src="widgets/basic/img/Prev_Speech2Text.png"></img>'
        data-vis-name="Speech to text"
        data-vis-no-gestures="true"
        data-vis-attrs="oid;speechMode[single]/select,single,startstop,continuous;language/select,,en-US,de,ru-RU;keywords;"
        data-vis-attrs0="group.image;noImage/checkbox;imageInactive[widgets~basic~img~micInactive.svg]/image;imageActive[widgets~basic~img~micActive.svg]/image;imageStarted[widgets~basic~img~micStarted.svg]/image;imageDetected[widgets~basic~img~micDetected.svg]/image;imageSent[widgets~basic~img~micSent.svg]/image;imageHeightPx[70]/slider,0,200,1;imageWidthPx[70]/slider,0,200,1;"
        data-vis-attrs1="group.text;noText/checkbox;noResults/checkbox;keyWordColor[#FFB051]/color;textSentColor[#7E88D3]/color;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="height: 77px; width: 500px" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <table style="height: 100%; width: 100%"><tr>
                <td style="<%= this.data.attr('noImage') ? 'display: none' : '' %>"><img class="mic-image" style="height: <%= this.data.attr('imageHeightPx') %>px; width: <%= this.data.attr('imageWidthPx') %>px" src="<%= this.data.attr('imageInactive') %>" /></td>
                <td class="mic-text" style="width: 100%">
                    <div class="mic-info-text" style="<%= this.data.attr('noText')    ? 'display: none' : '' %>"></div>
                    <div class="mic-results"   style="<%= this.data.attr('noResults') ? 'display: none' : '' %>"></div>
                </td>
            </tr></table>
        </div>
    </div>
    <% vis.binds.basic.speech2text(this.data.wid, this.view, this.data, this.style); %>
</script>

<script id="tplFullScreen"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/basic/img/Prev_FullScreen.png"></img>'
        data-vis-set="basic"
        data-vis-type="tools"
        data-vis-name="Full Screen"
        data-vis-attrs="">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:43px; height:43px; background: #AAAAAA; cursor: pointer; opacity: 0.9" id="<%= this.data.attr('wid') %>">
		<div class='vis-fullscreen-icon' style="padding: 10px"></div>
		<%= vis.binds.basic.toggleFullScreen(this.data.wid, this.view, this.data, this.style); %>
    </div>
</script>

<script id="tplScreenResolution"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/basic/img/Prev_ScreenResolution.png"></img>'
        data-vis-set="basic"
        data-vis-type="tools"
        data-vis-name="Screen Resolution"
        data-vis-attrs="">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:170px; height:75px; border: 1px solid #888; font-size: 12px; opacity: 0.8" id="<%= this.data.attr('wid') %>">
		<div id="div_<%= this.data.attr('wid') %>" style="padding: 10px">
			Default view: <span class='vis-resolution-default-view'></span><br>
			Width: <span class='vis-resolution-width'></span><br>
			Height: <span class='vis-resolution-height'></span><br>
			Instance: <span><%== vis.instance ? vis.instance : vis.binds.basic.createScreenText() %></span>
		</div>
		<%= vis.binds.basic.detectScreen(this.data.attr('wid')) %>
    </div>
</script>


<script id="_tplGroup"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="basic"
        data-vis-attrs="group.objects;attrCount[1]/slider,0,20,1;attrName(1-attrCount)//onAttrChanged;attrType(1-attrCount)/select,,id,checkbox,image,color,views,html,widget,history/onAttrChanged;"
>
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow: visible" id="<%= this.data.attr('wid') %>"></div>
</script>

<!-- --------------basic.html--- END -->
<!-- --------------echarts.html--- START -->
<!--
    ioBroker.echarts high quality Widget-Set

    version: "1.0.3"

    Copyright 2019-2020 bluefox <dogafox@gmail.com>

-->
<script type="text/javascript" >
    if (vis.editMode) {
        $.extend(true, systemDictionary, {
            "echart_oid": {
                "en": "EChart ID",
                "de": "EChart ID",
                "ru": "EChart ID",
                "pt": "EChart ID",
                "nl": "EChart ID",
                "fr": "ID de graphique",
                "it": "ID EChart",
                "es": "EChart ID",
                "pl": "Identyfikator EChart",
                "zh-cn": "图表ID"
            },
            "noChartBackground": {
                "en": "No background",
                "de": "Kein Hintergrund",
                "ru": "Без фона",
                "pt": "Sem fundo",
                "nl": "Geen achtergrond",
                "fr": "Pas de fond",
                "it": "Nessuno sfondo",
                "es": "Sin antecedentes",
                "pl": "Bez tła",
                "zh-cn": "没有背景"
            },
        });
    }
</script>

<script id="tplEchartsChart"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="echarts"
        data-vis-name="Chart"
        data-vis-type="chart"
        data-vis-prev='<img src="widgets/echarts/img/Prev_tplEchartsChart.png"/>'
        data-vis-attrs="echart_oid[nothing_selected]/id/filterTypeChart;noChartBackground/checkbox;"
        data-vis-filter="chart">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow:visible; width: 64px; height: 64px; border-radius: 64px" id="<%= this.data.attr('wid') %>">
         <iframe style="width: 100%; height: 100%; border: 0" src="../echarts/index.html?preset=<%== this.data.attr('echart_oid') %>&noBG=<%== this.data.attr('noChartBackground') %>"></iframe>
    </div>
</script>
<!-- --------------echarts.html--- END -->
<!-- --------------jqplot.html--- START -->
<link rel="stylesheet" type="text/css" href="widgets/jqplot/css/jquery.jqplot.min.css" />

<script type="text/javascript" src="widgets/jqplot/js/jquery.jqplot.min.js"></script>

<script type="text/javascript">

    if (vis.editMode) {
        // Add words for basic widgets
        $.extend(true, systemDictionary, {
            "background":           {"en": "Background",            "de": "Hintergrund",                    "ru": "Фон"},
            "group_ticks":          {"en": "Ticks",                 "de": "Tick",                           "ru": "Штрихи"},
            "ticks":                {"en": "Ticks-Namen",           "de": "Tick-Beschriftungen",            "ru": "Подписи штрихов"},
            "ticks_tooltip":        {"en": "Divide with semicolon, e.g '10;50;70'", "de": "Mit Semikolon trennen, z.B. '10;50;70'", "ru": "Разделять точкой запятой, например '10;50;70'"},
            "showTickLabels":       {"en": "Show tick labels",      "de": "Zeige Tick-Beschriftungen",      "ru": "Показать подписи"},
            "tickPadding":          {"en": "Tick padding",          "de": "Tick-Abstand",                   "ru": "Отступ штрихов"},
            "group_intervals":      {"en": "Intervals",             "de": "Intervalle",                     "ru": "Интервалы"},
            "intervals":            {"en": "Intervals",             "de": "Intervalle",                     "ru": "Отрезки"},
            "intervals_tooltip":    {"en": "Divide with semicolon, e.g '10;50;70'", "de": "Mit Semikolon trennen, z.B. ''10;50;70'", "ru": "Разделять точкой запятой, например '10;50;70'"},
            "intervalColors":       {"en": "Interval colors",       "de": "Intervallfarben",                "ru": "Цвета интервалов"},
            "intervalColors_tooltip": {"en": "Divide with semicolon, e.g 'green;#0000FF;red'", "de": "Mit Semikolon trennen, z.B. 'green;#0000FF;red'", "ru": "Разделять точкой запятой, например 'green;#0000FF;red'"},
            "intervalInnerRadius":  {"en": "Inner interval raduis", "de": "Intervall-Radius innen",         "ru": "Внутренний радиус интервалов"},
            "intervalOuterRadius":  {"en": "Outer interval radius", "de": "Intervall-Radius außen",         "ru": "Внешний радиус интервалов"},
            "diameter":             {"en": "Diameter",              "de": "Durchmesser",                    "ru": "Диаметер"},
            "padding":              {"en": "Padding",               "de": "Abstand",                        "ru": "Отступ"},
            "group_shadow":         {"en": "Shadow",                "de": "Schatten",                       "ru": "Тень"},
            "shadowOffset":         {"en": "shadowOffset",          "de": "Schatten offset",                "ru": "Сдвиг тени"},
            "shadowAlpha":          {"en": "Shadow transparence",   "de": "Schatten Alpha",                 "ru": "Прозрачость тени"},
            "shadowDepth":          {"en": "Shadow depth",          "de": "Schattentiefe",                  "ru": "Глубина тени"},
            "group_ring":           {"en": "Ring",                  "de": "Rand",                           "ru": "Кайма"},
            "ringColor":            {"en": "Ring color",            "de": "Randfarbe",                      "ru": "Цвет окантовки"},
            "ringWidth":            {"en": "Ring width",            "de": "Randbreite",                     "ru": "Ширина окантовки"},
            "group_needle":         {"en": "Needle",                "de": "Zeiger",                         "ru": "Стрелка"},
            "needleThickness":      {"en": "Needle thickness",      "de": "Zeigerdicke",                    "ru": "Ширина стрелки"},
            "needlePad":            {"en": "Needle pad",            "de": "Zeigeroffset",                   "ru": "Радиус основания"},
            "hubRadius":            {"en": "Hub radius",            "de": "Zeigerbasis-Radius",             "ru": "Основание стрелки"}
        });
    }

    vis.binds.jqplot = {
        gauge: function (el, data) {
            var $this = $(el).find('.jqplot-gauge');

            var id = $(el).attr('id');
            if (id && id.match(/_removed$/)) {
                return;
            }

            if (!$this.length || !$this.is(':visible')) {
                setTimeout(function () {
                    vis.binds.jqplot.gauge(el, data);
                }, 100);
                return;
            }

            if (!data) return;

            var options = {
                title: data.title,
                seriesDefaults: {
                    rendererOptions: {
                        min:            (data.min ? parseFloat(data.min) : undefined),
                        max:            (data.max ? parseFloat(data.max) : undefined),
                        ticks:          (data.ticks ? jQuery.map(data.ticks.split(';'), Number) : undefined),
                        intervals:      (data.intervals ? jQuery.map(data.intervals.split(';'), Number) : undefined),
                        intervalColors: (data.intervalColors ? data.intervalColors.split(';') : undefined),
                        label:          data.label,
                        showTickLabels: ((data.showTickLabels === 'false' || data.showTickLabels === false) ? false : undefined),
                        intervalInnerRadius: (!data.intervalInnerRadius ? undefined : parseInt(data.intervalInnerRadius, 10)),
                        intervalOuterRadius: (!data.intervalOuterRadius ? undefined : parseInt(data.intervalOuterRadius, 10)),
                        diameter:       (!data.diameter ? undefined : parseInt(data.diameter, 10)),
                        padding:        (!data.padding ? undefined : parseInt(data.padding, 10)),
                        shadowOffset:   (!data.shadowOffset ? undefined : parseInt(data.shadowOffset, 10)),
                        shadowAlpha:    (!data.shadowAlpha ? undefined : parseInt(data.shadowAlpha, 10)),
                        shadowDepth:    (!data.shadowDepth ? undefined : parseInt(data.shadowDepth, 10)),
                        background:     data.background, ringColor: data.ringColor,
                        tickColor:      data.tickColor,
                        ringWidth:      (!data.ringWidth ? undefined : parseInt(data.ringWidth, 10)),
                        hubRadius:      (!data.hubRadius ? undefined : parseInt(data.hubRadius, 10)),
                        tickPadding:    (!data.tickPadding ? undefined : parseInt(data.tickPadding, 10)),
                        needleThickness: (!data.needleThickness ? undefined : parseInt(data.needleThickness, 10)),
                        needlePad:      (!data.needlePad ? undefined : parseInt(data.needlePad, 10))
                    }
                }
            };
            if (options.seriesDefaults.rendererOptions.ticks && options.seriesDefaults.rendererOptions.ticks.length === 1) {
                options.seriesDefaults.rendererOptions.ticks[1] = options.seriesDefaults.rendererOptions.ticks[0];
            }

            $(el).data('options', data);
            $this.html('');

            try {
                var jqplotOptions = $.extend(true, {
                    title: {show: false},
                    grid: {
                        background: 'transparent'
                    },
                    seriesDefaults: {
                        renderer: $.jqplot.MeterGaugeRenderer,
                        rendererOptions: {
                            min: 0,
                            max: 100
                        }
                    }
                }, options);

                var oid = $this.attr('data-oid');
                var series;
                if (oid !== 'nothing_selected' && vis.states[oid + '.val'] !== undefined) {
                    series = [[vis.states[oid + '.val']]];
                } else {
                    series = [[1, 0]];
                }

                function onChange(e, newVal/* , oldVal */) {
                    plot.series[0].data = [[1, newVal]];
                    plot.redraw();
                }

                var bound = [];

                if (oid) {
                    vis.states.bind(oid + '.val', onChange);
                    bound.push(oid + '.val');
                }
                var plot = $.jqplot($this.attr('id'), series, jqplotOptions);

                if (bound.length) {
                    // remember all ids, that bound
                    $(el).data('bound', bound);
                    // remember bind handler
                    $(el).data('bindHandler', onChange);
                }
            } catch(e) {
                servConn.logError('Cannot render widget jqplot: ' + e);
            }

            if (vis.editMode) {
                $(el).resize(function () {
                    var timer = $(this).data('timer');
                    if (timer) {
                        clearTimeout(timer);
                    }
                    var that = this;
                    $(this).data('timer', setTimeout(function () {
                        $(that).data('timer', null);
                        $('#' + $(that).attr('id') + '_gauge').html('');
                        vis.binds.jqplot.gauge(that, $(that).data('options'));
                    }, 300));
                });

                $(el).data('destroy', function (id, $widget) {
                    $widget.off('resize');
                });
            }
        }
    };
</script>

<script type="text/ejs"
        id="tplJqplotGauge"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/jqplot/img/Prev_MeterGauge.png"></img>'
        data-vis-set="jqplot"
        data-vis-type="number"
        data-vis-name="MeterGauge"
        data-vis-attrs="oid;title;min/number;max/number;label;background/color;padding/slider,0,50,1;group.ticks;ticks;showTickLabels[true]/checkbox;tickPadding/slider,0,50,1;group.intervals;intervals;intervalColors;intervalInnerRadius/slider,0,550,1;intervalOuterRadius/slider,0,550,1;group.shadow;shadowOffset/slider,0,50,1;shadowAlpha/slider,0,1,0.05;shadowDepth/slider,0,50,1;group.ring;ringColor/color;ringWidth/slider,0,150,1;group.needle;needleThickness/slider,0,50,1;needlePad/slider,0,150,1;hubRadius/slider,0,150,1"
        >
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:460px; height:280px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.jqplot.gauge(el, data) %>>
        <div class="vis-widget-body" style="width: 100%; height: 100%">
            <div class="jqplot-gauge" id="_<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" style="width: 100%; height: 100%"/>
        </div>
    </div>
</script>

<!-- --------------jqplot.html--- END -->
<!-- --------------jqui.html--- START -->
<link rel="stylesheet" href="lib/css/jquery-ui-timepicker-addon-1.6.3.css" />
<script type="text/javascript" src="lib/js/jquery-ui-timepicker-addon-1.6.3.js"></script>
<style>
    #ui-datepicker-div {
        z-index: 999 !important;
    }
</style>
<script type="text/javascript">
    'use strict';

    if (vis.editMode) {
        $.extend(systemDictionary, {
            "group_dialog":     {"en": 'Dialog',            "de": "Dialog",                 "ru": "Диалог"},
            "buttontext":       {"en": "Button text",       "de": "Knopftext",              "ru": "Надпись на кнопке"},
            "href":             {"en": "Link",              "de": "Link",                   "ru": "Ссылка"},
            "href_tooltip":     {"en": "Like 'http://google.com'", "de": "Wie 'http://google.com'", "ru": "Например 'http://google.com'"},
            "target":           {"en": "target",            "de": "target",                 "ru": "target"},
            "dialog_height":    {"en": "Dialog height",     "de": "Dialoghöhe",             "ru": "Высота окна"},
            "dialog_width":     {"en": "Dialog width",      "de": "Dialogbreite",           "ru": "Ширина окна"},
            "alt":              {"en": "Tooltip (alt)",     "de": "Tooltip (alt)",          "ru": "Всплывающая подсказка (alt)"},
            "text":             {"en": "Text",              "de": "Text",                   "ru": "Текст"},
            "invert_icon":      {"en": "Invert image",      "de": "Invertiere das Bild",    "ru": "Инвертировать картинку"},
            "html_dialog":      {"en": "HTML in dialog",    "de": "HTML im Dialog",         "ru": "HTML в диалоговом окне"},
            "preload":          {"en": "Prerender dialog",  "de": "Prerender Dialog",       "ru": "Рендер содержания в начале"},
            "closeOnClick":     {"en": "Close by click on dialog",  "de": "Anklicken zum Schliessen",       "ru": "Закрыть по нажатию в любом месте"},
            "preload_tooltip":  {
                "en": "If true, the content of dialog will be created at start of view.\x0AIf false, the content will be created during opening of dialog.\x0AWebcams or dynamic content require 'prerender'=false",
                "de": "Falls true, wird Inhalt vom Dialog sofort am Anfang gerendert.\x0AFalls false, erst beim Anzeigen vom Dialog.\x0AWebcams oder dynamischer Inhalt müssen prerender auf false haben",
                "ru": "Если да, то рендер содержания будет в самом начале.\x0AЕсли нет, то при показе диалога.\x0AWebCams или динамическое содержание требуют значение false."
            },
            "persistent":       {"en": "Persistent",        "de": "Dauernd",                "ru": "Существует постоянно"},
            "persistent_tooltip":  {
                "en": "If true, the dialog will be created at start and can\x0Abe shown by external command 'dialogOpen'.",
                "de": "Falls true, wird der Dialog sofort am Anfang erzeugtx0Aund kann mit dem Befehl 'dialogOpen' angezeigt werden.",
                "ru": "Если да, то диалог будет создан в самом начале и\x0Aможет быть вызван внешней командой 'dialogOpen'."
            },
            "src_true":         {"en": "Icon by ON",         "de": "Icon bei AN",           "ru": "Иконка при ВКЛ"},
            "alt_true":         {"en": "Tooltip by ON",      "de": "Tooltip bei AN",        "ru": "Подсказка при ВКЛ"},
            "src_false":        {"en": "Icon by OFF",        "de": "Icon bei AUS",          "ru": "Иконка при ВЫКЛ"},
            "alt_false":        {"en": "Tooltip by OFF",     "de": "Tooltip bei AUS",       "ru": "Подсказка при ВЫКЛ"},
            "timeOnly":         {"en": "Time only",          "de": "Nur Zeit",              "ru": "Только время"},
            "hideSeconds":      {"en": "Hide seconds",       "de": "Keine Sekunden",        "ru": "спрятать секунды"},
            "stepMinute":       {"en": "Step size minutes",  "de": "Schrittweite Minuten",  "ru": "размер шага минуты"},
            "showGrid":         {"en": "Show grid",          "de": "Zeige Raster",          "ru": "показать сетку"},
            "inverted":         {"en": "Inverted value",     "de": "Wert invertiert",       "ru": "Иневртировать значение"},
            "submitmethod":     {"en": "Submit method",      "de": "Sendemethode",          "ru": "Метод"},
            "click_id":         {"en": "Control ID",         "de": "Steuer-ID",             "ru": "Контроль-ID"},
            "click_value":      {"en": "Control value",      "de": "Steuerwert",            "ru": "Контроль-значение"},
            "false_text":       {"en": "Text inactive",      "de": "Inaktiv-Text",          "ru": "Неактивный текст"},
            "true_text":        {"en": "Text active",        "de": "Aktiv-Text",            "ru": "Активный текст"},
            "false_src":        {"en": "Icon inactive",      "de": "Inaktiv-Bild",          "ru": "Неактивная картинка"},
            "true_src":         {"en": "Icon active",        "de": "Aktiv-Bild",            "ru": "Активная картинка"},
            "false_alt":        {"en": "Tooltip inactive",   "de": "Inaktiv-Tooltip",       "ru": "Неактивная подсказка"},
            "true_alt":         {"en": "Tooltip active",     "de": "Aktiv-Tooltip",         "ru": "Активная подсказка"},
            "dialog_top":       {"en": "Top",                "de": "Position oben",         "ru": "Позиция сверху"},
            "dialog_left":      {"en": "Left",               "de": "Position links",        "ru": "Позиция слева"},
            "overflowX":        {"en": "Overflow X",         "de": "Overflow X",            "ru": "Overflow X"},
            "overflowY":        {"en": "Overflow Y",         "de": "Overflow Y",            "ru": "Overflow Y"},
            "noHeader":         {"en": "Hide header",        "de": "Kopfzeile verbergen",   "ru": "Скрыть заголовок"},
            "setId":            {"en": "Set Object ID",      "de": "Setze Objekt-ID",       "ru": "Записать в Объект с ID"},
            "setId_tooltip":    {
                "en": "By opening of dialog the Object ID\x0Awill be set with given value.",
                "de": "Beim Öffnen des Dialogs wird die Object ID\x0Amit dem eingegebenen Wert gesetzt.",
                "ru": "При открытии диалога в объект с этим ID будет записано значение"
            },
            "setValue":         {"en": "Set value",          "de": "Setze Wert",            "ru": "Записываемое значение"},
            "oid-2":            {"en": "OID Range max.",     "de": "OID Bereich max.",      "ru": "ID Объекта макс"},
            "oid-2-working":    {"en": "OID Working max.",   "de": "OID Working max.",      "ru": "ID working макс"},
            "asString":         {"en": "As string",          "de": "Als String",            "ru": "Строковое значение"},
            "values":           {"en": "Values",             "de": "Werte",                 "ru": "Значения"},
            "values_tooltip":   {
                "en": "Values divided by semicolon:\x0A0;1;2",
                "de": "Werte sind mit Semikolon getrennt:\x0A0;1;2",
                "ru": "Значения разделены точкой с запятой:\x0A0;1;2"
            },
            "texts":            {"en": "Texts",             "de": "Texte",                  "ru": "Тексты"},
            "height":           {"en": "Height",            "de": "Höhe",                   "ru": "Высота"},
            "no_style":         {"en": "No jQuery style",   "de": "Ohne jQuery Stil",       "ru": "Без стиля jQuery"},
            "Password":         {"en": "Password",          "de": "Kennwort",               "ru": "Пароль"},
            "imageHeight":      {"en": "Image height %",    "de": "Bildhöhe in %",          "ru": "Высота иконки в %"},
            "autoclose":        {"en": "Auto close (ms)",   "de": "Auto-Zu (ms)",           "ru": "Автозакрытие (мс)"},
            "modal":            {"en": "Modal",             "de": "Modal",                  "ru": "Модальное"},
            "texts_tooltip":   {
                "en": "Texts divided by semicolon:\x0AOn;Off;Auto",
                "de": "Texte sind mit Semikolon getrennt:\x0AAn;Aus;Auto",
                "ru": "Тексты разделены точкой с запятой:\x0AВкл;Выкл;Авто"
            }
        });
    }
    $.extend(systemDictionary, {
        "Password": {"en": "Password", "de": "Kennwort", "ru": "Пароль"}
    });

    vis.navChangeCallbacks.push(function (view) {
        $('.jqui-nav-state').each(function () {
            var $this = $(this);
            if ($this.attr('data-vis-nav') === view) {
                $this.removeClass('ui-state-default');
                $this.addClass('ui-state-active');
            } else {
                $this.addClass('ui-state-default');
                $this.removeClass('ui-state-active');
            }
        });
    });

    vis.binds.jqueryui = {
        navigationActive: function (el, nav_view) {
            var $this = $(el);
            if (window.location.hash.slice(1) === nav_view) {
                $this.removeClass('ui-state-default').addClass('ui-state-active');
            }
        },
        months: {
            "en": ['January', 'February', 'March', 'April',  'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
            "de": ['Januar',  'Februar',  'März',  'April',  'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'],
            "ru": ['Январь',  'Февраль',  'Март',  'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь',  'Октябрь', 'Ноябрь',   'Декабрь']
        },
        shortMonths: {
            "en": ['Jan', 'Feb', 'Mar',  'Apr', 'May', 'Jun',  'Jul',  'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
            "de": ['Jan', 'Feb', 'Mär',  'Apr', 'Mai', 'Jun',  'Jul',  'Aug', 'Sep', 'Okt', 'Nov', 'Dez'],
            "ru": ['Янв', 'Фев', 'Март', 'Апр', 'Май', 'Июня', 'Июля', 'Авг', 'Сен', 'Окт', 'Ноя', 'Дек']
        },
        weekDays: {
            "en": ['Sunday',      'Monday',      'Tuesday',  'Wednesday', 'Thursday',   'Friday',  'Saturday'],
            "de": ['Sonntag',     'Montag',      'Dienstag', 'Mittwoch',  'Donnerstag', 'Freitag', 'Samstag'],
            "ru": ['Воскресение', 'Понедельник', 'Вторник',  'Среда',     'Четверг',    'Пятница', 'Суббота']
        },
        shortWeekDays: {
            "en": ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
            "de": ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
            "ru": ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб']
        },
        currentText: {
            "en": 'Now',
            "de": 'Jetzt',
            "ru": 'Сейчас'
        },
        closeText: {
            "en": 'Close',
            "de": 'Schließen',
            "ru": 'Закрыть'
        },
        timeText: {
            "en": 'Time',
            "de": 'Zeit',
            "ru": 'Время'
        },
        hourText: {
            "en": 'Hour',
            "de": 'Std',
            "ru": 'Час'
        },
        minuteText: {
            "en": 'Min',
            "de": 'Min',
            "ru": 'Мин'
        },
        secondText: {
            "en": 'Sec',
            "de": 'Sek',
            "ru": 'Сек'
        },
        timeOnlyTitle: {
            "en": 'Choose Time',
            "de": 'Zeit auswählen',
            "ru": 'Установите время'
        },
        activeHelper: function ($this, val, min, max, value, reverse) {
            if (val === true  || val === 'true')  val = max;
            if (val === false || val === 'false') val = min;

            if (max === undefined || max === '' || max === null) {
                max = 1;
                min = 0;
                val = (val === 'false' || val === false || val === 0 || val === '0' || val === '' || val === null || val === undefined) ? min : max;
            }

            if (reverse) {
                if (val == max) {
                    val = min;
                } else {
                    val = max;
                }
            }

            if (value === undefined && val > min && val !== true) {
                val = parseFloat(val) || 0;
            }

            if ((value === undefined && val > min) || (value !== undefined && val == value)) {
                $this.addClass('ui-state-active');
            } else {
                $this.removeClass('ui-state-active');
            }
        },
        active: function (el, reverse, _value) {
            var $this = $(el);
            var oid = $this.data('oid');
            var max = $this.data('max') || 1;
            var min = $this.data('min') || 0;

            function onChange(e, newVal) {
                vis.binds.jqueryui.activeHelper($this, newVal, min, max, _value, reverse);
            }

            if (oid) {
                // remember all ids, that bound
                $this.parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);

                vis.states.bind(oid + '.val', onChange);
                vis.binds.jqueryui.activeHelper($this, vis.states.attr(oid + '.val'), min, max, _value, reverse);
            }
        },
        classes: function (el, reverse, _value) {
            var $this = $(el);
            if (!$this.data('no-style')) {
                $this.hover(function () {
                    $this.addClass('ui-state-hover');
                }, function () {
                    $this.removeClass('ui-state-hover');
                });
            } else {
                $this.removeClass('ui-widget ui-corner-all ui-state-default');
            }

            $this.css({position: 'absolute'});
            vis.binds.jqueryui.active(el, reverse, _value);
        },
        dialog: function (el, options, persistent, preload, html, closeOnClick) {
            var $dlg = $(el).parent().find('div.vis-widget-dialog');
            $dlg.data('preload', (!preload || preload === 'false') && !$dlg.html().replace(/\s/g, ''));
            $('[aria-describedby="' + $dlg.attr('id') + '"]').remove();

            options.width     = options.width  || options.dialog_width;
            options.height    = options.height || options.dialog_height;
            options.top       = options.top    || options.dialog_top;
            options.left      = options.left   || options.dialog_left;
            options.minHeight = options.height;
            options.minWidth  = options.width;

            // Show dialog in edit mode too
            if (1 || !vis.editMode) {
                $(el).parent().find('div.vis-widget-body').on('click touchend', function (event) {
                    event.stopPropagation();
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    if ($dlg.data('preload')) $dlg.html(html);

                    if (persistent) {
                        if (options.setId) {
                            vis.setValue(options.setId, options.setValue);
                        }
                        $dlg.dialog('open');
                        $dlg.parent().css('z-index', 998);
                        $dlg.parent().find('.ui-widget-header button .ui-button-text').html('');
                        if (options.minHeight)   $dlg.css('min-height', options.minHeight);
                        if (options.minWidth)    $dlg.css('min-width', options.minWidth);
                        if (options.top  || options.top  === 0 || options.top  === '0') $dlg.parent().css('top',  options.top);
                        if (options.left || options.left === 0 || options.left === '0') $dlg.parent().css('left', options.left);
                        if (options.overflowX) $dlg.css('overflow-x', options.overflowX);
                        if (options.overflowY) $dlg.css('overflow-y', options.overflowY);
                        if (options.noHeader) {
                            $dlg.parent().find('.ui-dialog-titlebar').css({background: 'rgba(0,0,0,0)', border: 0, color: 'rgba(0,0,0,0)'});
                            $dlg.parent().find('.ui-dialog-title').html('&nbsp;');
                        }
                        $dlg.parent().find('.ui-state-focus').blur();
                    } else {
                        $dlg.dialog($.extend({
                            autoOpen: true,
                            open: function () {
                                $(this).parent().find('.ui-widget-header button .ui-button-text').html('');
                                if (options.setId) vis.setValue(options.setId, options.setValue);
                                $(this).parent().css('z-index', 998);
                                if (options.minHeight)   $(this).css('min-height', options.minHeight);
                                if (options.minWidth)    $(this).css('min-width', options.minWidth);
                                if (options.top  || options.top  === 0 || options.top  === '0') $(this).parent().css('top',  options.top);
                                if (options.left || options.left === 0 || options.left === '0') $(this).parent().css('left', options.left);
                                if (options.overflowX) $(this).css('overflow-x', options.overflowX);
                                if (options.overflowY) $(this).css('overflow-y', options.overflowY);
                                if (options.noHeader) {
                                    $dlg.parent().find('.ui-dialog-titlebar').css({background: 'rgba(0,0,0,0)', border: 0, color: 'rgba(0,0,0,0)'});
                                    $dlg.parent().find('.ui-dialog-title').html('&nbsp;');
                                }
                                $(this).parent().find('.ui-state-focus').blur();
                                //touchscreen fix
                                var $closeButton = $(this).parent().find('button.ui-dialog-titlebar-close');
                                $closeButton.off('touchend').on('touchend', function (event) {
                                    event.stopPropagation();
                                    $dlg.dialog('close');
                                    return false;
                                });
                            },
                            close: function () {
                                if ($dlg.data('timer')) { clearTimeout($dlg.data('timer')); $dlg.data('timer', null)};
                                $dlg.dialog('destroy');
                                // Destroy content if not preloaded
                                if ($dlg.data('preload')) $dlg.html('');
                            }
                        }, options));

                        $dlg.data('inited', true);

                        if (closeOnClick) {
                            $dlg.off('click touchstart touchend').on('click touchend', function (event) {
                                event.stopPropagation();
                                $dlg.dialog('close');
                                return false;
                            });
                        }
                    }
                    return false;
                });
            }
            if (persistent) {
                $dlg.dialog($.extend({
                    autoOpen: false,
                    open: function () {
                        $dlg.parent().css({'z-index': 1000});
                        if ($dlg.data('preload')) $dlg.html(html);
                        //touchscreen fix
                        var $closeButton = $(this).parent().find('button.ui-dialog-titlebar-close');
                        $closeButton.off('touchend').on('touchend', function (event) {
                            event.stopPropagation();
                            $dlg.dialog('close');
                            return false;
                        });
                    },
                    close: function () {
                        if ($dlg.data('timer')) {
                            clearTimeout($dlg.data('timer'));
                            $dlg.data('timer', null);
                        }
                        // Destroy content if not preloaded
                        if ($dlg.data('preload')) $dlg.html('');
                    }
                }, options));

                $dlg.data('inited', true);

                if (closeOnClick) {
                    $dlg.off('click touchstart touchend').on('click touchend', function (event) {
                        event.stopPropagation();
                        $dlg.dialog('close');
                        return false;
                    });
                }
            }
        },
        dialogContainer: function (el, options, persistent, preload) {
            var $dlg = $(el).parent().find('div.vis-widget-dialog');

            var id = $(el).parent().attr('id');
            if (id && id.match(/_removed$/)) {
                return;
            }

            if (!$dlg.length) {
                setTimeout(function () {
                    vis.binds.jqueryui.dialogContainer(el, options, persistent, preload);
                }, 200);
                return;
            }

            options.width     = options.dialog_width;
            options.height    = options.dialog_height;
            options.top       = options.dialog_top;
            options.left      = options.dialog_left;
            options.minHeight = options.height;
            options.minWidth  = options.width;

            $dlg.dialog($.extend({
                autoOpen: false,
                open: function () {
                    $(this).parent().find('.ui-widget-header button .ui-button-text').html('');
                    $(this).parent().css('z-index', 998);
                    //touchscreen fix
                    $dlg.find('.vis-view-container').each(function () {
                        var cview = $(this).attr('data-vis-contains');
                        if (!vis.views[cview]) {
                            $(this).append('error: view not found.');
                            return false;
                        } else if (cview === vis.activeView) {
                            $(this).append('error: view container recursion.');
                            return false;
                        }
                        var $this = this;
                        vis.renderView(cview, cview, false, function (_view) {
                            $('#visview_' + _view)
                                    .appendTo($this)
                                    .show();
                        });
                    });

                    if (options.setId) vis.setValue(options.setId, options.setValue);
                    var $id =  $(this);
                    if (options.minHeight)   $id.css('min-height', options.minHeight);
                    if (options.minWidth)    $id.css('min-width',  options.minWidth);
                    if (options.top  || options.top  === 0 || options.top  === '0') $id.parent().css('top',  options.top);
                    if (options.left || options.left === 0 || options.left === '0') $id.parent().css('left', options.left);
                    if (options.overflowX) $id.css('overflow-x', options.overflowX);
                    if (options.overflowY) $id.css('overflow-y', options.overflowY);
                    if (options.noHeader) {
                        $id.parent().find('.ui-dialog-titlebar').css({background: 'rgba(0,0,0,0)', border: 0, color: 'rgba(0,0,0,0)'});
                        $id.parent().find('.ui-dialog-title').html('&nbsp;');
                    }
                    $id.parent().find('.ui-state-focus').blur();

                    var $closeButton = $(this).parent().find('button.ui-dialog-titlebar-close');
                    $closeButton.off('touchend').on('touchend', function (event) {
                        event.stopPropagation();
                        $dlg.dialog('close');
                        var $view = $dlg.find('.vis-view');
                        if (!$view.data('persistent')) {
                            vis.destroyView($view.data('view'), $view.data('view'));
                        }
                        return false;
                    });
                },
                close: function () {
                    if ($dlg.data('timer')) {
                        clearTimeout($dlg.data('timer'));
                        $dlg.data('timer', null);
                    }
                    vis.destroyUnusedViews();
                }
            }, options));

            if (persistent) $dlg.find('.vis-view-container').data('persistent', persistent);

            if (!vis.editMode) {
                $(el).parent().find('div.vis-widget-body').on('click touchend', function (event) {
                    event.stopPropagation();
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    var $id =  $('#' + $(this).parent().attr('id') + '_dialog');
                    $id.dialog('open');
                    return false;
                });
            } else {
                $(el).parent().find('div.vis-widget-body').show();
            }
        },
        dialogAutoClose: function (el, timeout) {
            if (timeout === true || timeout === 'true') timeout = 10000;
            if (timeout === null || timeout === undefined || timeout === '') return;
            timeout = parseInt(timeout, 10);
            if (timeout < 60) {
                // may be this is seconds
                timeout *= 1000;
            }
            if (!timeout) timeout = 1000;

            var $dialog = $('#' + $(el).parent().attr('id') + '_dialog');

            var id = $(el).parent().attr('id');
            if (id && id.match(/_removed$/)) {
                return;
            }

            if (!$dialog.length) {
                setTimeout(function () {
                    vis.binds.jqueryui.dialogAutoClose(el, timeout);
                }, 200);
                return;
            }

            $dialog.on('dialogopen', function () {
                $dialog.find('input').on('click', function () {
                    var timer = $dialog.data('timer');
                    if (timer) clearTimeout(timer);
                    $dialog.data('timer', setTimeout(function () {
                        $dialog.data('timer', null);
                        $dialog.dialog('close');
                    }, timeout));
                });
                $dialog.data('timer', setTimeout(function () {
                    $dialog.data('timer', null);
                    $dialog.dialog('close');
                }, timeout));
            });
        },
        dialogClose: function (el, options) {
            if (!$(el).data('no-style')) {
                setTimeout(function () {
                    $(el).button({
                        icons: {
                            primary: options.iconClass ? 'ui-icon-' + options.iconClass : null
                        }
                    });
                }, 0);
            }
            $(el).click(function () {
                if (options.dlgName) {
                    $('#' + options.dlgName + '_dialog').dialog('close');
                } else {
                    var $parent = $(this).parent().parent().parent();
                    var $dlg = $parent.find('.vis-widget-dialog');
                    if ($dlg.length) {
                        $dlg.dialog('close');
                        return;
                    }
                    $parent = $parent.parent();
                    $dlg = $parent.find('.vis-widget-dialog');
                    if ($dlg.length) {
                        $dlg.dialog('close');
                        return;
                    }
                    $parent = $parent.parent();
                    $dlg = $parent.find('.vis-widget-dialog');
                    if ($dlg.length) {
                        $dlg.dialog('close');
                        return;
                    }
                    $parent = $parent.parent();
                    $dlg = $parent.find('.vis-widget-dialog');
                    if ($dlg.length) {
                        $dlg.dialog('close');
                        return;
                    }
                }
            });
        },
        input: function (el, options, asString) {
            var $this  = $(el);
            var oid    = $this.attr('data-oid');
            var digits = options;
            asString = asString === 'true' || asString === true;
            if (!$this.data('no-style')) {
                $this.button().addClass('ui-state-default');
            } else {
                $this.removeClass('ui-widget ui-corner-all ui-state-default');
            }
            $this.css({
                'font':       'inherit',
                //'color' :   'inherit',
                'text-align': 'left',
                'outline':    'none',
                'cursor':     'text',
                height:       '50%'
            }).change(function () {
                vis.setValue(oid, $(this).val());
            });

            function onChange(e, newVal) {
                if (!asString && digits && digits !== '') {
                    newVal = parseFloat(newVal).toFixed(digits);
                }

                $this.val(newVal);
            }
            var val = '';
            if (oid) {
                vis.states.bind(oid + '.val', onChange);
                // remember all ids, that bound
                $this.parent().parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);

                val = vis.states[oid + '.val'];
                if (!asString && digits && digits !== '') {
                    val = parseFloat(vis.states[oid + '.val']).toFixed(digits);
                }
            }
            $this.val(val);
        },
        inputDate: function (el, options) {
            var $this = $(el);
            var oid = $this.attr('data-oid');
            var datepickerOptions = $.extend(true, {
                dateFormat:      'yy-mm-dd',
                monthNamesShort: vis.binds.jqueryui.shortMonths[vis.language],
                monthNames:      vis.binds.jqueryui.months[vis.language],
                dayNamesMin:     vis.binds.jqueryui.shortWeekDays[vis.language],
                showAnim:        'fadeIn',
                firstDay: 1,
                currentText:     vis.binds.jqueryui.currentText[vis.language],
                closeText:       vis.binds.jqueryui.closeText[vis.language]

            }, options);

            $this.addClass('ui-widget ui-button ui-corner-all ui-state-default')
                    .css({
                        font:       'inherit',
                        //'color' :   'inherit',
                        'text-align': 'left',
                        outline:    'none',
                        cursor:     'text',
                        height:     '95%'
                    });

            if (!vis.editMode) $this.datepicker(datepickerOptions);

            function onChange(e, newVal) {
                $this.val(newVal);
            }

            if (oid) {
                $this.change(function () {
                    vis.setValue(oid, $(this).val());
                });

                vis.states.bind(oid + '.val', onChange);

                // remember all ids, that bound
                $this.parent().parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);

                $this.val(vis.states.attr(oid + '.val'));
            }
        },
        inputDatetime: function (el, options) {
            var $this = $(el);
            var oid = $this.attr('data-oid');
            var timeFormat = options.showSecond ? 'HH:mm:ss' : 'HH:mm';
            var hourGrid = options.showGrid ? 6 : 0;
            var minuteGrid = options.showGrid ? options.stepMinute : 0;
            if (minuteGrid < 10) {minuteGrid = 10;}
            var secondGrid = options.showGrid ? 15 : 0;
            var timepickerOptions = $.extend(true, {
                dateFormat:      'yy-mm-dd',
                monthNamesShort: vis.binds.jqueryui.shortMonths[vis.language],
                monthNames:      vis.binds.jqueryui.months[vis.language],
                dayNamesMin:     vis.binds.jqueryui.shortWeekDays[vis.language],
                showAnim:        'fadeIn',
                firstDay:        1,
                timeText:        vis.binds.jqueryui.timeText[vis.language],
                hourText:        vis.binds.jqueryui.hourText[vis.language],
                minuteText:      vis.binds.jqueryui.minuteText[vis.language],
                secondText:      vis.binds.jqueryui.secondText[vis.language],
                currentText:     vis.binds.jqueryui.currentText[vis.language],
                closeText:       vis.binds.jqueryui.closeText[vis.language],
                timeOnlyTitle:   vis.binds.jqueryui.timeOnlyTitle[vis.language],
                minuteGrid:      minuteGrid,
                hourGrid:        hourGrid,
                secondGrid:      secondGrid,
                timeOnly:        false,
                showSecond:      true,
                timeFormat:      timeFormat,
                pickerTimeFormat: timeFormat
            }, options);
            $this.addClass('ui-state-default')
                    .css({
                        font:       'inherit',
                        //color:    'inherit',
                        'text-align': 'left',
                        outline:    'none',
                        cursor:     'text',
                        height:     '95%'
                    });
            // Store options
            $this[0].__options = options;

            if (!vis.editMode) {
                $this.datetimepicker(timepickerOptions).button();
            } else {
                $this.addClass('ui-widget ui-button ui-corner-all');
            }


            function onChange(e, newVal) {
                $this.val(newVal);
            }

            if (oid) {
                $this.change(function () {
                    var $this = $(this);
                    var val = $this.val();
                    /*if ($this[0].__options && !$this[0].__options.showSecond) {
                     var vals = val.split(':');
                     if (vals.length === 3) {
                     val = vals[0] + ":" + vals[1];
                     }
                     }*/
                    vis.setValue(oid, val);
                });
                vis.states.bind(oid + '.val', onChange);
                // remember all ids, that bound
                $this.parent().parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);

                $this.val(vis.states.attr(oid + '.val'));
            }
        },
        inputset: function (el, options, asString) {
            var digits    = options;
            var $this     = $(el);
            var input     = '#' + $this.attr('id').slice(0, -3) + 'input';
            var noJsStyle = $(el).data('no-style');
            var oid = $this.attr('data-oid');
            asString = asString === 'true' || asString === true;
            if (!noJsStyle) $this.button();

            $this.css({'padding-left': 5, 'padding-right': 5});

            if (!vis.editMode) {
                $this.on('click touchstart', function () {
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    vis.setValue(oid, $(input).val());
                });

                // send text on enter
                setTimeout(function () {
                    $(input).keydown(function (e) {
                        if (e.keyCode === 13) vis.setValue(oid, $(this).val());
                    });
                }, 100);
            }

            if (!noJsStyle) $this.prev().button();

            $this.prev().addClass('ui-state-default')
                    .css({
                        font:            'inherit',
                        'padding-left':  5,
                        'padding-right': 5,
                        //'color' :   'inherit',
                        'text-align':   'left',
                        outline:        'none',
                        cursor:         'text',
                        height:         '95%'
                    });

            function onChange(e, newVal) {
                if (!asString && digits && digits !== '') {
                    newVal = parseFloat(newVal).toFixed(digits);
                }
                $(input).val(newVal);
            }

            if (oid) {
                vis.states.bind(oid + '.val', onChange);
                // remember all ids, that bound
                $this.parent().parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);

                var newVal = vis.states[oid + '.val'];
                if (!asString && digits && digits !== '') newVal = parseFloat(newVal).toFixed(digits);
                $(input).val(newVal);
            }
        },
        multiselect: function (el, options, isOpen) {
            var $this = $(el);
            var oid = $this.attr('data-oid');
            var noJsStyle = $this.attr('data-no-style');
            if (oid) $this.val(vis.states[oid + '.val']);

            if (noJsStyle !== true && noJsStyle !== 'true') {
                $this.multiselect($.extend({
                    minWidth:         $this.parent().parent().width() - 7,
                    multiple:         false,
                    header:           false,
                    noneSelectedText: false,
                    selectedList:     1
                }, options)).change(function () {
                    var val = $this.val();
                    if (parseFloat(val).toString() == val) val = parseFloat(val);
                    if (val === 'true')  val = true;
                    if (val === 'false') val = false;
                    if (!vis.editMode) vis.setValue(oid, val);
                });
            } else {
                $this.change(function () {
                    var val = $this.val();
                    if (parseFloat(val).toString() == val) val = parseFloat(val);
                    if (val === 'true') val = true;
                    if (val === 'false') val = false;
                    if (!vis.editMode) vis.setValue(oid, val);
                });
            }

            $this.val(vis.states[oid + '.val']);
            $this.prop('disabled', vis.editMode);
            if (noJsStyle !== true && noJsStyle !== 'true') {
                $this.multiselect('refresh');
            }
            var id =  $this.attr('id');

            function onChange(e, newVal) {
                var $select = $('#' + id);
                $select.val(newVal);
                if (noJsStyle !== true && noJsStyle !== 'true') {
                    $select.multiselect('refresh');
                }
            }

            if (oid) {
                vis.states.bind(oid + '.val', onChange);
                // remember all ids, that bound
                $this.parent().parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);
            }

            if (vis.editMode) {
                if (noJsStyle !== true && noJsStyle !== 'true' && isOpen) {
                    $this.multiselect('open');
                }

                vis.bindWidgetClick($this.attr('data-view'), $this.attr('id').replace('_multiselect', ''));
                $this.parent().parent().resize(function () {
                    if (noJsStyle !== true && noJsStyle !== 'true') {
                        $('#' + id).multiselect('option', 'minWidth', $(this).width() - 7);
                    }
                }).data('destroy', function (id, $widget) {
                    $widget.off('resize');
                });
            }
        },
        slider: function (el, options) {
            var $this       = $(el);
            var oid         = $this.attr('data-oid');
            var oid2        = $this.attr('data-oid2');
            var oid_val     = 0;
            var oid2_val    = 0;
            var wid         = $this.attr('data-oid-working');
            var wid2        = $this.attr('data-oid2-working');

            var settings    = $.extend({
                range:  !!oid2,
                min:    0,
                max:    100,
                step:   1,
                value:  parseFloat(vis.states.attr(oid + '.val')),
                slide:  function (e, ui) {
                    if (options.submitmethod !== 'stop') {
                      // Slider -> Observable
                      if (oid2) {
                        if (options.inverted) {
                          ui.values[0] = (settings.max - ui.values[0]) + settings.min;
                          ui.values[1] = (settings.max - ui.values[1]) + settings.min;
                        }

                        oid && vis.setValue(oid, ui.values[0]); //.toFixed(6));
                        vis.setValue(oid2, ui.values[1]); //.toFixed(6));
                      } else if (oid) {
                        if (options.inverted) ui.value = (settings.max - ui.value) + settings.min;
                        vis.setValue(oid, ui.value); //.toFixed(6));
                      }
                    }

                },
                stop: function (e, ui) {
                  if (options.submitmethod === 'stop') {
                    if (oid2) {
                      if (options.inverted) {
                        ui.values[0] = (settings.max - ui.values[0]) + settings.min;
                        ui.values[1] = (settings.max - ui.values[1]) + settings.min;
                      }

                      oid && vis.setValue(oid, ui.values[0]); //.toFixed(6));
                      vis.setValue(oid2, ui.values[1]); //.toFixed(6));
                    } else if (oid) {
                      if (options.inverted) ui.value = (settings.max - ui.value) + settings.min;
                      vis.setValue(oid, ui.value); //.toFixed(6));
                    }
                  }
                }
            }, options);

            settings.inverted = (settings.inverted === 'true' || settings.inverted === true);

            if (isNaN(settings.value)) settings.value = 0;
            if (isNaN(settings.min))   settings.min = 0;
            if (isNaN(settings.max))   settings.max = 100;
            if (isNaN(settings.step))  settings.step = (settings.max - settings.min) / 100;

            settings.min = parseFloat(settings.min);
            settings.max = parseFloat(settings.max);
            settings.value = parseFloat(settings.value);

            if (settings.inverted) settings.value = (settings.max - settings.value) + settings.min;

            $this.slider(settings);

            function onChange(e, newVal) {
                // console.log('slider newVal=' + JSON.stringify(newVal));
                // If device not in working state
                if (e.type === oid + '.val') {
                    if (!vis.states.attr(wid + '.val')) {
                        if (settings.inverted) {
                            oid_val = (settings.max - parseFloat(newVal)) + settings.min;
                        } else {
                            oid_val = parseFloat(newVal);
                        }
                        if ($this.slider('instance')) {
                            if (oid2) {
                                $this.slider('values', [oid_val, oid2_val]);
                            } else {
                                $this.slider('value', oid_val);
                            }
                        }
                    }
                } else if (e.type === oid2 + '.val'){
                    // console.log('slider newVal=' + JSON.stringify(newVal));
                    // If device not in working state
                    if (!vis.states.attr(wid2 + '.val')) {
                        oid2_val = parseFloat(newVal);
                        if (settings.inverted) {
                            oid2_val = (settings.max - parseFloat(newVal)) + settings.min;
                        } else {
                            oid2_val = parseFloat(newVal);
                        }
                        if ($this.slider('instance')) {
                            $this.slider('values', [oid_val, oid2_val]);
                        }
                    }
                }
            }
            var bound = [];
            if (oid) {
                vis.states.bind(oid + '.val', onChange);
                bound.push(oid + '.val');
            }

            if (oid2) {
                vis.states.bind(oid2 + '.val', onChange);
                bound.push(oid2 + '.val');

                oid_val  = vis.states.attr(oid + '.val');
                oid2_val = vis.states.attr(oid2 + '.val');

                if (settings.inverted) {
                    oid_val  = (settings.max - oid_val)  + settings.min;
                    oid2_val = (settings.max - oid2_val) + settings.min;
                }
                $this.slider('values', [oid_val, oid2_val]);
            }

            if (bound.length) {
                // remember all ids, that bound
                $this.parent().parent()
                    .data('bound', bound)
                    // remember bind handler
                    .data('bindHandler', onChange);
            }
        },
        button: function (el, value) {
            if ($(el).data('no-style')) return;

            setTimeout(function () {
                $(el).button();
            }, 0);
        },
        buttonDialog: function (el) {
            if ($(el).data('no-style')) return;
            setTimeout(function () {
                $(el).button();
            }, 0);
        },
        buttonLink: function (el, href) {
            if (!$(el).data('no-style')) {
                setTimeout(function () {
                    $(el).button();
                }, 0);
            }
            $(el).click(function () {
                if (!vis.editMode && href) window.location.href = href;
            });
        },
        buttonLinkBlank: function (el, href) {
            if (!$(el).data('no-style')) {
                setTimeout(function () {
                    $(el).button();
                }, 0);
            }
            $(el).click(function () {
                if (!vis.editMode && href) window.open(href);
            });
        },
        radio: function (el, options, process) {
            var $this    = $(el);
            var id = $this.parent().parent().attr('id');
            if (id && id.match(/_removed$/)) {
                return;
            }

            if (!process) {
                setTimeout(function () {
                    vis.binds.jqueryui.radio(el, process, true);
                }, 50);
                return;
            }
            var settings = $.extend({}, options);
            var oid      = $this.attr('data-oid');

            function onChange(e, newVal) {
                $this.find('input').removeAttr('checked');
                if (newVal === true || newVal === 'true') {
                    newVal = 1;
                } else
                if (newVal === false || newVal === 'false') {
                    newVal = 0;
                }
                $this.find('input').prop('checked', false);
                $this.find('input[value="' + newVal + '"]').prop('checked', true);
                $this.find('input').each(function () {
                    if ($(this).button('instance')) $(this).button('refresh');
                });
            }

            // Observable -> Buttonset
            if (oid) {
                vis.states.bind(oid + '.val', onChange);

                // remember all ids, that bound
                $this.parent().parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);

                var val = vis.states.attr(oid + '.val');

                if (val === true  || val === 'true')  {
                    val = 1;
                }
                if (val === false || val === 'false') {
                    val = 0;
                }

                setTimeout(function () {
                    //console.log(val + ' ' + $this.find('input[value="' + val + '"]').length);
                    $this.find('input').prop('checked', false);
                    $this.find('input[value="' + val + '"]').prop('checked', true);
                    $this.buttonset(settings);

                    $this.find('input').each(function () {
                        if ($this.button('instance')) {
                            $(this).button('refresh');
                        }
                    });

                    if (!vis.editMode) {
                        // Buttonset -> Observable
                        $this.find('input').on('click touchstart', function () {
                            // Protect against two events
                            if (vis.detectBounce(this)) return;

                            var val = $(this).val();
                            var f = parseFloat(val);
                            if (f.toString() === val.toString()) {
                                vis.setValue(oid, f);
                            } else {
                                vis.setValue(oid, val);
                            }
                        });
                    }
                }, 50);
            }

        },
        iconHttpGet: function (el, url) {
            if (vis.editMode) return;

            var $this = $(el).parent();
            $this.on('click touchstart', function (e) {
                // Protect against two events
                if (vis.detectBounce(this)) return;

                vis.conn.httpGet(url);
                e.preventDefault();
            });
        },
        hueColormode: function (el, oid) {
            var $hue = $(el).parent().find('.hue-mode-hue');
            var $ct  = $(el).parent().find('.hue-mode-ct');

            function onChange(e, newVal) {
                if (newVal === 'ct') {
                    $hue.hide();
                    $ct.show();
                } else {
                    $ct.hide();
                    $hue.show();
                }
            }

            if (oid) {
                if (vis.states.attr(oid + '.val') === 'ct') {
                    $hue.hide();
                    $ct.show();
                } else {
                    $ct.hide();
                    $hue.show();
                }
                vis.states.bind(oid + '.val', onChange);

                // remember all ids, that bound
                $(el).parent().parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);
            } else {
                $ct.hide();
                $hue.show();
            }
        },
        _disable: function () {
            $('.vis-view-container').find('.ui-slider').each(function () {
                if ($(this).slider('instance')) {
                    $(this).slider('disable').removeClass('ui-state-disabled');
                }
            });

            setTimeout(function () {
                $('.vis-view-container').find('select[id$="_multiselect"]').each(function () {
                    if ($(this).css('display') === 'none') {
                        $(this).multiselect('disable').next().removeClass('ui-state-disabled').unbind('click touchstart', false);
                    }
                });
            }, 200);

            setTimeout(function () {
                $('.vis-view-container').find('a[href]').each(function () {
                    $(this).on('click touchstart', function (e) {});
                });
            }, 200);
        },
        itoggle: function (el) {
            var $this = $(el).parent();
            var oid = $this.parent().attr('data-oid');
            if (oid) {
                oid += '.val';
            }
            var val = vis.states.attr(oid);
            var activeVal = $this.parent().data('val');
            if (activeVal === '' || activeVal === undefined) activeVal = null;

            if (activeVal !== null) {
                if (val === null || val === undefined) val = '';
                if (activeVal.toString() === val.toString()) {
                    $this.find('.imgToggleFalse').hide();
                    $this.find('.imgToggleTrue').show();
                }
            } else {
                if (val === 'false') val = false;
                if (val === 'true')  val = true;

                if (typeof val === 'string') {
                    var f = parseFloat(val);
                    if (f == val) {
                        val = f;
                    } else {
                        val = val !== '';
                    }
                }
                if (val > 0) {
                    $this.find('.imgToggleFalse').hide();
                    $this.find('.imgToggleTrue').show();
                }
            }

            function onChange (e, val) {
                if (activeVal !== null) {
                    if (activeVal.toString() === val.toString()) {
                        $this.find('.imgToggleFalse').hide();
                        $this.find('.imgToggleTrue').show();
                    } else {
                        $this.find('.imgToggleTrue').hide();
                        $this.find('.imgToggleFalse').show();
                    }
                } else {
                    if (val === true || val === 'true' || parseFloat(val) > 0) {
                        $this.find('.imgToggleFalse').hide();
                        $this.find('.imgToggleTrue').show();
                    } else {
                        $this.find('.imgToggleTrue').hide();
                        $this.find('.imgToggleFalse').show();
                    }
                }
            }
            if (oid) {
                vis.states.bind(oid, onChange);
                    // remember all ids, that bound
                $this.parent()
                    .data('bound', [oid])
                    // remember bind handler
                    .data('bindHandler', onChange);
            }
        },
        calcValue: function (value, min, max) {
            if (!min) min = 0;
            if (max === null || max === undefined || max === '') max = 100;
            min   = parseFloat(min);
            max   = parseFloat(max);
            value = parseFloat(value);
            return min + value * (max - min);
        },
        calcImage: function (val, min, max, invert) {
            max = (max !== undefined) ? max : 100;
            min = (min !== undefined) ? min : 0;

            val = parseFloat(val);
            if (invert) val = max - val + min;
            var image = '';
            if (val >= max) {
                image = 10;
            } else if (val >= min + (max - min) * 0.9) {
                image = 9;
            } else if (val >= min + (max - min) * 0.8) {
                image = 8;
            } else if (val >= min + (max - min) * 0.7) {
                image = 7;
            } else if (val >= min + (max - min) * 0.6) {
                image = 6;
            } else if (val >= min + (max - min) * 0.5) {
                image = 5;
            } else if (val >= min + (max - min) * 0.4) {
                image = 4;
            } else if (val >= min + (max - min) * 0.3) {
                image = 3;
            } else if (val >= min + (max - min) * 0.2) {
                image = 2;
            } else if (val >= min + (max - min) * 0.1) {
                image = 1;
            } else {
                image = 0;
            }
            return image;
        },
        setSvgColor: function (el, color) {
            setTimeout(function () {
                el.parent().find('svg').remove();
                var $that = el;
                var imgURL = $that.attr('src');
                $.get(imgURL, function (data) {
                    // Get the SVG tag, ignore the rest
                    var $svg = $(data).find('svg');

                    // Remove any invalid XML tags as per http://validator.w3.org
                    $svg = $svg.removeAttr('xmlns:a');
                    $svg = $svg.attr('width',  '100%');
                    $svg = $svg.attr('height', '100%');
                    $svg.find('*').each(function () {
                        var style = $(this).attr('style');
                        if (style) {
                            style = style.replace(/#FFFFFF/g, color);
                            $(this).attr('style', style);
                        }
                    });

                    // Replace image with new SVG
                    $that.replaceWith($svg);
                }, 'xml');
            }, 0);
        },
        navigationPw: function (el, data) {
            var $this = $(el);
            if (!$this.data('no-style')) {
                setTimeout(function () {
                    $($this).button();
                }, 100);
            }

            $($this).click(function () {
                $('body').append('<div id="NavPwDialog" style="text-align: center"><input  type="password"  id="inp_NavPw"><input style="width: 100px; margin-top: 20px" id="btn_navPwOk" value="' + _('Ok') + '"><input id="btn_navPwcancel" value="' + _('Cancel') + '" style="width: 100px; margin-top: 20px"></div>');

                $('#inp_NavPw').change(function () {
                    check_pw();
                });
                $('#btn_navPwOk').button().click(function () {
                    check_pw();
                });

                function check_pw() {
                    var $inputPass = $('#inp_NavPw');
                    if (data._data.Password === $inputPass.val()) {
                        $('#NavPwDialog').remove();
                        vis.changeView(data.attr('nav_view'), data.attr('nav_view'), {
                                    effect: data.attr('hide_effect'),
                                    options: {},
                                    duration: data.attr('hide_duration')
                                }, {
                                    effect: data.attr('show_effect'),
                                    options: {},
                                    duration: data.attr('show_duration')
                                },
                                data.attr('sync'));
                    } else {
                        $inputPass.val('');
                        var bg = $inputPass.data('bg');
                        if (!bg) {
                            bg = $inputPass.css('background-color');
                            $inputPass.data('bg', bg);
                        }
                        $inputPass.css('background-color', '#FF0000').animate({'background-color': bg}, 500);
                    }
                }

                $('#btn_navPwcancel').button().click(function () {
                    $('#NavPwDialog').remove();
                });

                $('#NavPwDialog').dialog({
                    title: _('Password'),
                    modal: true
                });
            })
        }
    };
</script>

<script id="tplJquiButtonLink"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplJquiButtonLink" style=" position: relative; text-align: initial;"><div class="vis-widget_prev ui-selectee ui-selected" style="height: 30px"> <div class="vis-widget-prev-body"> <input type="button" value=" Button " class="ui-button ui-widget ui-state-default ui-corner-all" role="button"> </div> </div>'
        data-vis-set="jqui"
        data-vis-type="static"
        data-vis-name="Button Link"
        data-vis-attrs="buttontext[Text];href;html_prepend/html;html_append/html;padding[5]/slider,0,100,1;no_style/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" >
            <%== this.data.attr('html_prepend') %>
            <button style="width: 100%; height: 100%" data-no-style="<%= this.data.attr('no_style') %>" data-vis-link="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.jqueryui.buttonLink(el, data.attr('href')); %> style="padding: <%= this.data.attr('padding') %>px"><%== this.data.attr('buttontext') %></button>
            <%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplJquiButtonLinkBlank"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplJquiButtonLinkBlank" style=" position: relative; text-align: initial;padding: 4px;height: 30px"><div  style="height: 30px" class="vis-widget_prev ui-selectee ui-selected ui-draggable-handle" data-vis-resizable="{"disabled":true, "handles":"e"}"> <div class="vis-widget-prev-body"> <input type="button" value=" Link " data-vis-link="" class="ui-button ui-widget ui-state-default ui-corner-all" role="button"> </div> </div>'
        data-vis-set="jqui"
        data-vis-type="static"
        data-vis-name="Button Link _blank"
        data-vis-attrs="buttontext[Text];href;html_prepend/html;html_append/html;padding[5]/slider,0,100,1;no_style/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" >
        <div class="vis-widget-body" >
            <%== this.data.attr('html_prepend') %>
            <button style="width: 100%; height: 100%" data-no-style="<%= this.data.attr('no_style') %>" data-vis-link="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.jqueryui.buttonLinkBlank(el, data.attr('href')); %> style="padding: <%= this.data.attr('padding') %>px"><%== this.data.attr('buttontext') %></button>
            <%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplIconLink"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="jqui"
        data-vis-prev='<div id="prev_tplIconLink" style="position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default " style="width: 119px; height: 30px;"> <div class="vis-widget-prev-body"> <a class="widget-link" href="" target="" style="white-space:no-wrap; text-decoration: none; text-align: left; width:100%;height:100%;"> <img src="widgets/jqui/img/internet-web-browser-2.png" style=" vertical-align: middle; height: 100%;" alt=""> Icon link </a> </div> </div></div>'
        data-vis-type="static"
        data-vis-name="Icon link"
        data-vis-attrs="src/image;imageHeight/slider,0,200,1;href;target/auto,,_blank,_self,_parent,_top;alt;text;invert_icon/checkbox">
    <%
    var styles = '';
    if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
        styles = "filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);";
    }
    %>
    <div class="vis-widget ui-widget ui-button ui-corner-all ui-state-default <%== this.data.attr('class') %>" style="width: 76px; height: 32px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.jqueryui.classes(el) %>>
        <div class="vis-widget-body">
            <a class="widget-link" href="<%== this.data.attr('href') %>" target="<%== this.data.attr('target') %>" style="white-space:no-wrap; text-decoration: none; text-align: left; width:100%; height:100%;">
                <img <%= this.data.attr('src') ? 'src="' +  this.data.attr('src') + '"' : '' %> style="<%= styles %> vertical-align: middle; height: <%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('alt') %>" />
                <%== this.data.attr('text') %>
            </a>
        </div>
    </div>
</script>

<script id="tplIconHttpGet"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="jqui"
        data-vis-prev='<div id="prev_tplIconHttpGet" style="position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default " style="width: 97px; height: 38px; " > <div class="vis-widget-prev-body"> <a class="widget-link" style="white-space:no-wrap; text-decoration:none;text-align:left;width:100%;height:100%;"><img style="vertical-align:middle;height:100%;">URL GET</a></div></div></div>'
        data-vis-type="static"
        data-vis-name="Icon HTTP GET"
        data-vis-attrs="url;src/image;imageHeight/slider,0,200,1;alt;text">
    <%
    var styles = '';
    if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
    styles = "filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);";
    }
    %>
    <div class="vis-widget ui-widget ui-button ui-corner-all ui-state-default <%== this.data.attr('class') %>" style="width: 76px; height: 76px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.jqueryui.classes(el) %>>
        <div class="vis-widget-body">
            <img <%= this.data.attr('src') ? 'src="' +  this.data.attr('src') + '"' : '' %> style="<%= styles %> vertical-align: middle; height: <%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('alt') %>" /><%== this.data.attr('text') %>
            <div <%= (el) -> vis.binds.jqueryui.iconHttpGet(el, data.attr('url')) %> />
        </div>
    </div>
</script>

<script id="tplJquiDialog"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="jqui"
        data-vis-type="static,dialog"
        data-vis-prev='<img src="widgets/jqui/img/Prev_JquiDialog.png"></img>'
        data-vis-name="HTML - Dialog"
        data-vis-attrs="html/text;setId/id;setValue;"
        data-vis-attrs0="group.dialog;html_dialog/text;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width;dialog_height;persistent/checkbox;preload/checkbox;closeOnClick/checkbox;dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 200px; height: 130px; border: 1px solid #000; background: #fff; cursor: pointer" id="<%= this.data.attr('wid') %>" data-no-style="<%= this.data.attr('no_style') %>" >
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body">
            <%== this.data.attr('html') %>
        </div>
        <div id="<%= this.data.attr('wid') %>_dialog" class="vis-widget-dialog" title="<%= this.data.attr('title') %>">
            <%== this.data.attr('preload') ? this.data.attr('html_dialog') : '' %>
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el, data, data.attr('persistent'), data.attr('preload'), data.attr('html_dialog'), data.attr('closeOnClick')) %> />
    </div>
</script>

<script id="tplJquiIconDialog"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="jqui"
        data-vis-prev='<img src="widgets/jqui/img/Prev_JquiIconDialog.png"></img>'
        data-vis-type="static,dialog"
        data-vis-name="Icon - Dialog"
        data-vis-attrs="src/image;imageHeight/slider,0,200,1;alt;text;invert_icon/checkbox;setId/id;setValue;"
        data-vis-attrs0="group.dialog;html_dialog/text;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width;dialog_height;persistent/checkbox;preload/checkbox;closeOnClick/checkbox;dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit">
    <%
    var styles = '';
    if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
        styles = "filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);";
    }
    %>
    <div class="vis-widget ui-widget ui-button ui-corner-all ui-state-default <%== this.data.attr('class') %>" style="width: 76px; height: 76px; cursor: pointer" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.jqueryui.classes(el) %>>
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body">
            <img <%= this.data.attr('src') ? 'src="' +  this.data.attr('src') + '"' : '' %> style="<%= styles %> vertical-align: middle; height: <%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('alt') %>" /><%== this.data.attr('text') %>
        </div>
        <div id="<%= this.data.attr('wid') %>_dialog" class="vis-widget-dialog" title="<%= this.data.attr('title') %>">
            <%== this.data.attr('preload') ? this.data.attr('html_dialog') : '' %>
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el, data, data.attr('persistent'), data.attr('preload'), data.attr('html_dialog'), data.attr('closeOnClick')) %> />
    </div>
</script>

<script id="tplContainerDialog"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="jqui"
        data-vis-prev='<img src="widgets/jqui/img/Prev_ContainerDialog.png"></img>'
        data-vis-type="container,dialog"
        data-vis-name="container - HTML - view in jqui Dialog"
        data-vis-attrs="html/text;contains_view/views;setId/id;setValue;"
        data-vis-attrs0="group.dialog;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width;dialog_height;dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 200px; height: 130px; border: 1px solid #000; background: #fff; cursor: pointer" id="<%= this.data.attr('wid') %>">
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body">
            <%== this.data.attr('html') %>
        </div>
        <div id="<%= this.data.attr('wid') %>_dialog" style="display: none" class="vis-widget-dialog" title="<%= this.data.attr('title') %>">
            <div data-vis-contains="<%= this.data.attr('contains_view') %>" class="vis-widget-body vis-view-container"></div>
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogContainer(el, data) %> />
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>

<script id="tplContainerDialogExternal"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="jqui"
        data-vis-type="container,dialog"
        data-vis-prev='<img src="widgets/jqui/img/Prev_ContainerDialogExternal.png"></img>'
        data-vis-name="container - ext cmd - view in jqui Dialog"
        data-vis-attrs="html/text;contains_view/views;setId/id;setValue;"
        data-vis-attrs0="group.dialog;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width;dialog_height;dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 194px; height: 68px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" style="display:none; width: 190px; height: 64px; background-color: #333; color: #eee; cursor: pointer; border: 2px dashed red; opacity:0.8;">
            <b>External Container Dialog</b><br/>
            view: <%= this.data.attr('contains_view') %><br/>
            id: <%= this.data.attr('wid') %>
        </div>
        <div id="<%= this.data.attr('wid') %>_dialog" style="display:none" class="vis-widget-dialog" title="<%= this.data.attr('title') %>">
            <div data-vis-contains="<%= this.data.attr('contains_view') %>" class="vis-widget-body vis-view-container">
            </div>
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogContainer(el, data) %> />
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>

<script id="tplContainerIconDialog"
        type="text/ejs"
        class="vis-tpl"
        data-vis-type="container,dialog"
        data-vis-set="jqui"
        data-vis-prev='<img src="widgets/jqui/img/Prev_ContainerIconDialog.png"></img>'
        data-vis-name="container - Icon - view in jqui Dialog"
        data-vis-attrs="src/image;imageHeight/slider,0,200,1;alt;text;setId/id;setValue;"
        data-vis-attrs0="group.dialog;contains_view/views;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width;dialog_height;invert_icon/checkbox;dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit">
    <%
    var styles = '';
    if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
        styles = "filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);";
    }
    %>

    <div class="vis-widget ui-widget ui-button ui-corner-all ui-state-default <%== this.data.attr('class') %>" style="width: 76px; height: 76px; cursor: pointer" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.jqueryui.classes(el) %>>
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body">
            <img <%= this.data.attr('src') ? 'src="' +  this.data.attr('src') + '"' : '' %> style="<%= styles %> vertical-align: middle; height: <%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('alt') %>" /><%== this.data.attr('text') %>
        </div>
        <div id="<%= this.data.attr('wid') %>_dialog" style="display:none" class="vis-widget-dialog" title="<%= this.data.attr('title') %>">
            <div data-vis-contains="<%= this.data.attr('contains_view') %>" class="vis-widget-body vis-view-container"></div>
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogContainer(el, data) %> />
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>

<script id="tplContainerButtonDialog"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="jqui"
        data-vis-type="container,dialog"
        data-vis-prev='<img src="widgets/jqui/img/Prev_ContainerButtonDialog.png"></img>'
        data-vis-name="container - Button - view in jqui Dialog"
        data-vis-attrs="html_prepend/text;html_append/text;buttontext[Text];setId/id;setValue;no_style/checkbox;"
        data-vis-attrs0="group.dialog;contains_view/views;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width;dialog_height;padding[5]/slider,0,100,1;dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit">
    <div class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>">
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body">
            <%== this.data.attr('html_prepend') %>
            <button id="<%= this.data.attr('wid') %>_button" name="<%= this.data.attr('wid') %>_button" data-no-style="<%= this.data.attr('no_style') %>" data-oid="<%= this.data.attr('oid') %>" data-val="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.jqueryui.buttonDialog(el); %> style="padding: <%= this.data.attr('padding') %>px"><%== this.data.attr('buttontext') %></button>
            <%== this.data.attr('html_append') %>
        </div>
        <div id="<%= this.data.attr('wid') %>_dialog" style="display:none" class="vis-widget-dialog" title="<%= this.data.attr('title') %>">
            <div data-vis-contains="<%= this.data.attr('contains_view') %>" class="vis-widget-body vis-view-container"></div>
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogContainer(el, data) %> />
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>

<script id="tplJquiButtonDialogClose"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplJquiButtonDialogClose" style=" position: relative; text-align: initial;padding: 4px;height: 30px"><div class="vis-widget_prev ui-selectee ui-draggable-handle "> <div class="vis-widget-prev-body"> <input type="button" value=" Dialog close " class="ui-button ui-widget ui-state-default ui-corner-all" role="button"> </div> '
        data-vis-set="jqui"
        data-vis-type="dialog"
        data-vis-name="Button dialog close"
        data-vis-attrs="html_prepend/text;html_append/text;buttontext[Close];iconClass[close];dlgName;hide_effect;hide_duration;show_effect;show_duration;no_style/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <%== this.data.attr('html_prepend') %>
            <button style="width:100%; height:100%" data-no-style="<%= this.data.attr('no_style') %>" <%= (el) -> vis.binds.jqueryui.dialogClose(el, {hideOptions: {effect: data.attr('hide_effect'), options:{}, duration: data.attr('hide_duration')}, iconClass: data.attr('iconClass'), dlgName: data.attr('dlgName')}) %>><%== this.data.attr('buttontext') %></button>
            <%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplJquiButtonNav"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplJquiButtonNav" style=" position: relative; text-align: initial;padding: 4px;height: 30px"><div class="vis-widget_prev ui-selectee ui-draggable-handle " style="left: 167px; top: 129px;" > <div class="vis-widget-prev-body"> <input type="button" value=" Nav Button " class="ui-button ui-widget ui-state-default ui-corner-all" role="button"> </div> '
        data-vis-set="jqui"
        data-vis-type="navigation"
        data-vis-name="Button"
        data-vis-attrs="html_prepend/text;html_append/text;buttontext[Text];nav_view;hide_effect;hide_duration;show_effect;show_duration;no_style/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <%== this.data.attr('html_prepend') %>
            <button style="width: 100%; height: 100%" data-no-style="<%= this.data.attr('no_style') %>" <%= (el) -> vis.binds.jqueryui.button(el); vis.binds.jqueryui.navigationActive(el, data.attr('nav_view')); vis.binds.basic.navigation(el, {nav_view:data.attr('nav_view'),hideOptions:{effect:data.attr('hide_effect'),options:{},duration:data.attr('hide_duration')},showOptions:{effect:data.attr('show_effect'),options:{},duration:data.attr('show_duration')}}) %> ><%== this.data.attr('buttontext') %></button>
            <%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplJquiIconNav"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="jqui"
        data-vis-prev='<div id="prev_tplJquiIconNav" style="position: relative; text-align: initial;padding: 4px "><div data-vis-nav="" class="vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default jqui-nav-state " style="width: 100px; height: 28px;"> <div class="vis-widget-prev-body"> <img src="/vis/widgets/jqui/img/internet-web-browser-2.png" style="vertical-align:middle;height:100%;">&nbsp;Nav</div></div></div>'
        data-vis-name="navigation - Icon"
        data-vis-attrs="src/image;imageHeight/slider,0,200,1;alt;text;nav_view;hide_effect;hide_duration;show_effect;show_duration">
    <div
        data-vis-nav="<%= this.data.attr('nav_view') %>"
        class="vis-widget ui-widget ui-button ui-corner-all ui-state-default jqui-nav-state <%== this.data.attr('class') %>"
        style="width: 76px; height: 76px;"
        id="<%= this.data.attr('wid') %>"
        <%= (el) -> vis.binds.jqueryui.classes(el); vis.binds.jqueryui.navigationActive(el, data.attr('nav_view')); vis.binds.basic.navigation(el, {nav_view: data.attr('nav_view'), hideOptions: {effect: data.attr('hide_effect'), options: {}, duration: data.attr('hide_duration')}, showOptions: {effect: data.attr('show_effect'), options: {}, duration: data.attr('show_duration')}}) %>
    >
        <div class="vis-widget-body">
            <img <%= this.data.attr('src') ? 'src="' +  this.data.attr('src') + '"' : '' %> style="vertical-align: middle; height: <%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('alt') %>" /><%== this.data.attr('text') %>
        </div>
    </div>
</script>

<script id="tplJquiNavPw"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="jqui"
        data-vis-prev='<div id="prev_tplJquiNavPw" style=" position: relative; text-align: initial;padding: 4px " class="wid_prev_content"><div class="vis-widget_prev ui-selectee ui-draggable-handle " style="top: 445px; left: 314px; width: 116px; height: 35px;"> <div class="vis-widget-prev-body" style="text-align: center"> <label style=" display: none;">Input</label><input type="text" value="Nav button Pw" size="10" data-o="" class="ui-button ui-widget ui-state-default ui-corner-all" role="button" style="height: 20px;font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; line-height: inherit; text-align: left; outline: none; cursor: text;"> </div> </div></div>'
        data-vis-name="navigation - Pw"
        data-vis-attrs="buttontext[Text];Password;nav_view;hide_effect;hide_duration;show_effect;show_duration;sync/checkbox;no_style/checkbox">
       <div class="vis-widget <%== this.data.attr('class') %>" style="width:76px;height:30px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <button style="width:100%; height:100%" data-no-style="<%= this.data.attr('no_style') %>" <%= (el) -> vis.binds.jqueryui.navigationPw(el, data)%> ><%== this.data.attr('buttontext') %></button>
        </div>
    </div>
</script>

<script id="tplJquiInput"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplJquiInput" style=" position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev ui-selectee ui-draggable-handle " style="top: 445px; left: 314px; width: 116px; height: 30px;" > <div class="vis-widget-prev-body" style="text-align: center"> <label style=" display: none;">Input</label><input type="text" value=" Input" size="10" data-o class="ui-button ui-widget ui-state-default ui-corner-all" role="button" style="font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; line-height: inherit; text-align: left; outline: none; cursor: text;"> </div> '
        data-vis-set="jqui"
        data-vis-type="ctrl"
        data-vis-name="Input"
        data-vis-attrs="label[Input];oid;asString/checkbox;digits[0]/slider,0,10,1;size[10]/slider,10,100,1;"
        data-vis-attrs0="autoFocus/checkbox;"
>
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:275px;height:44px;" id="<%= this.data.attr('wid') %>" data-no-style="<%= this.data.attr('no_style') %>" >
        <div class="vis-widget-body">
            <label for="<%= this.data.attr('wid') %>_input"><%= ((this.data.attr('label') === undefined || this.data.attr('label') === null) ? '' : this.data.attr('label')) %></label>
            <input
                type="text"
                name="<%= this.data.attr('wid') %>_input"
                id="<%= this.data.attr('wid') %>_input"
                value=""
                size="<%= this.data.attr('size') %>"
                data-oid="<%= this.data.attr('oid') %>"
                <%= (el) -> vis.binds.jqueryui.input(el, data.digits, data.asString); %>
			    <%= this.data.attr('autoFocus') === true || this.data.attr('autoFocus') === 'true' ? ' autofocus ' : '' %>
            />
        </div>
    </div>
</script>

<script id="tplJquiBool"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="jqui"
        data-vis-type="ctrl"
        data-vis-prev='<div id="prev_tplJquiBool" style="position: relative; text-align: initial;padding: 4px "><div class="ui-widget ui-corner-all ui-state-default vis-widget_prev " style="width: 79px; height: 25px;"> <div class="vis-widget-prev-body" style="text-align: center;padding-top: 5px;"> true/false</div> </div></div>'
        data-vis-name="Html Bool"
        data-vis-attrs="oid;html_true;html_false">

    <div class="ui-widget ui-corner-all ui-state-default vis-widget <%== this.data.attr('class') %>" style="width:76px; height:76px" id="<%= this.data.attr('wid') %>"  data-no-style="<%= this.data.attr('no_style') %>"  data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.basic.toggle(el); vis.binds.jqueryui.classes(el) %>>
        <div class="vis-widget-body">
            <div>
                <% if (vis.binds.basic.isFalse(vis.states.attr(this.data.oid + '.val'))) { %>
                    <%== this.data.attr('html_false') %>
                <% } else { %>
                    <%== this.data.attr('html_true') %>
                <% } %>
            </div>
        </div>
    </div>
</script>

<script id="tplJquiToogle"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplJquiToogle" style="position: relative; text-align: initial;padding: 4px "><div class="ui-widget ui-corner-all ui-state-default vis-widget_prev" style="width: 90px; height: 19px; padding: 10px;"> <div class="vis-widget-prev-body"><label>&nbsp;Toggle&nbsp;</label><img class="imgToggleFalse" src="/vis/icon/add.png" style=" vertical-align:middle; height:100%"></div></div></div>'
        data-vis-set="jqui"
        data-vis-type="ctrl,state"
        data-vis-name="Icon Toggle"
        data-vis-attrs="label;oid;src_true/image;imageHeight/slider,0,200,1;alt_true;src_false/image;alt_false;invert_icon/checkbox">

    <div class="ui-widget ui-corner-all ui-state-default vis-widget <%== this.data.attr('class') %>" style="width:76px; height:76px" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.basic.toggle(el); vis.binds.jqueryui.classes(el) %> >
        <div class="vis-widget-body">
            <%
            var styles = '';
            if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
                styles = "filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);";
            }
            %>
            <label style="margin: 0" for="<%= this.data.attr('wid') %>_input"><%== this.data.attr('label') %></label>
            <img class="imgToggleFalse" <%= this.data.attr('src_false') ? 'src="' +  this.data.attr('src_false') + '"' : '' %> style="<%= styles %> vertical-align: middle; height:<%= this.data.attr('imageHeight') || 100 %>%"               alt="<%== this.data.attr('alt_false') %>" />
            <img class="imgToggleTrue"  <%= this.data.attr('src_true')  ? 'src="' +  this.data.attr('src_true')  + '"' : '' %> style="<%= styles %> vertical-align: middle; height:<%= this.data.attr('imageHeight') || 100 %>%; display:none" alt="<%== this.data.attr('alt_true')  %>" />
            <div <%= (el) -> vis.binds.jqueryui.itoggle(el) %>></div>
        </div>
    </div>
</script>

<script id="tplJquiInputDate"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="jqui"
        data-vis-prev='<div id="prev_tplJquiInputDate" style="position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev " style="width: 110px; height: 25px; overflow: visible; "> <div class="vis-widget-prev-body"> <input type="text" value="2015-09-20" size="10" class="ui-widget ui-button ui-corner-all ui-state-default" style="font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; text-align: left; outline: none; cursor: text;text-align:center;"></div> </div></div>'
        data-vis-name="ctrl - Input Date"
        data-vis-attrs="oid/id;size[10]/slider,1,50,1;"
        data-vis-attrs0="autoFocus/checkbox;"
>
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:200px;height:40px;overflow: visible;text-align:center;" id="<%= this.data.attr('wid') %>">
        <% if (vis.editMode) { %>
			<div class="editmode-helper" />
		<% } %>
        <div class="vis-widget-body">
            <input
                type="text"
                style="text-align: center; padding-left: 5px"
                name="<%= this.data.attr('wid') %>_input"
                id="<%= this.data.attr('wid') %>_input"
                value=""
                size="<%= this.data.attr('size') %>"
                data-oid="<%= this.data.attr('oid') %>"
                <%= (el) -> vis.binds.jqueryui.inputDate(el); %>
			    <%= this.data.attr('autoFocus') === true || this.data.attr('autoFocus') === 'true' ? 'autofocus' : '' %>
            />
        </div>
    </div>
</script>

<script id="tplJquiInputDatetime"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="jqui"
        data-vis-prev='<div id="prev_tplJquiInputDatetime" style="position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev " style="width: 110px; height: 39px; overflow: visible; text-align: center;"> <div class="vis-widget-prev-body"> <input type="text" style="text-align: left; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; outline: none; cursor: text; " value="18:00:00" size="5" class="ui-state-default ui-widget ui-button ui-corner-all"> </div> </div></div>'
        data-vis-name="ctrl - Input Datetime"
        data-vis-attrs="oid;size/slider,1,50,1;timeOnly/checkbox;hideSeconds/checkbox;stepMinute/slider,1,30,1;showGrid/checkbox;"
        data-vis-attrs0="autoFocus/checkbox;"
>
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:200px;height:40px;overflow: visible;text-align:center;" id="<%= this.data.attr('wid') %>">
        <% if (vis.editMode) { %>
			<div class="editmode-helper" />
		<% } %>
        <div class="vis-widget-body">
            <input
                type="text"
                style="text-align: center; padding-left: 5px"
                name="<%= this.data.attr('wid') %>_input"
                id="<%= this.data.attr('wid') %>_input"
                value=""
                size="<%= this.data.attr('size') %>"
                data-oid="<%= this.data.attr('oid') %>"
                <%= (el) -> vis.binds.jqueryui.inputDatetime(el, {timeOnly: data.attr('timeOnly'), showSecond: !data.attr('hideSeconds'), stepMinute: data.attr('stepMinute'), showGrid: data.attr('showGrid')}); %>
			    <%= this.data.attr('autoFocus') === true || this.data.attr('autoFocus') === 'true' ? 'autofocus' : '' %>
            />
        </div>
    </div>
</script>

<script id="tplJquiInputSet"
        type="text/ejs" class="vis-tpl"
        data-vis-set="jqui"
        data-vis-prev='<div id="prev_tplJquiInputSet" style="position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev " style="width: 90px; height: 32px; overflow: visible;"> <div class="vis-widget-prev-body"> <label></label> <input type="text" value="Input" size="2" style="font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; padding-left: 5px; padding-right: 5px; text-align: left; outline: none; cursor: text;height:14px" class="ui-button ui-widget ui-state-default ui-corner-all" role="button"> <input type="button" style="padding-left: 5px; padding-right: 5px;" value="Set" class="ui-button ui-widget ui-state-default ui-corner-all" role="button"> </div> </div></div>'
        data-vis-name="ctrl - Input + Set-Button"
        data-vis-attrs="title;buttontext[Text];oid;unit;asString/checkbox;digits/slider,0,10,1;size/slider,1,50,1;"
        data-vis-attrs0="autoFocus/checkbox;"
>
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:300px;height:44px;overflow:visible" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <label for="<%= this.data.attr('wid') %>_input"><%== this.data.attr('title') %></label>
            <input
                type="text"
                name="<%= this.data.attr('wid') %>_input"
                id="<%= this.data.attr('wid') %>_input"
                data-no-style="<%= this.data.attr('no_style') %>"
                size="<%= this.data.attr('size') %>"
                style="font-size: 1.1em !important; padding: 0 0"
                <%= this.data.attr('autoFocus') === true || this.data.attr('autoFocus') === 'true' ? 'autofocus' : '' %>
            />
            <%== this.data.attr('unit') %>
            <input type="button" style="height: 100%" data-oid="<%= this.data.attr('oid') %>" name="<%= this.data.attr('wid') %>_set" id="<%= this.data.attr('wid') %>_set" value="<%== this.data.attr('buttontext') %>"  data-no-style="<%= this.data.attr('no_style') %>" <%= (el) -> vis.binds.jqueryui.inputset(el, data.digits, data.asString); %>/>
        </div>
    </div>
</script>

<script id="tplJquiButtonState"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplJquiButtonState" style=" position: relative; text-align: initial;padding: 4px; height: 30px "><div style="left: 384px; top: 470px;" class="vis-widget_prev ui-selectee ui-draggable-handle" data-vis-resizable="{"disabled":true, "handles":"e"}"> <div class="vis-widget-prev-body"> <input type="button" value=" Button " data-o data-val="" class="ui-button ui-widget ui-state-default ui-corner-all" role="button"> </div> </div>'
        data-vis-set="jqui"
        data-vis-type="ctrl"
        data-vis-name="Button State"
        data-vis-attrs="oid;html_prepend/html;html_append/html;buttontext[Text];value;no_style/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" >
            <%== this.data.attr('html_prepend') %>
            <button style="width:100%; height:100%" data-oid="<%= this.data.attr('oid') %>"  data-no-style="<%= this.data.attr('no_style') %>" data-val="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.jqueryui.button(el, data.value); vis.binds.basic.state(el); %>><%== this.data.attr('buttontext') %></button>
            <%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplJquiRadio"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplJquiRadio" style=" position: relative; text-align: initial;padding: 4px;height: 30px"><div style="top: 243px; left: 348px; font-size: 9px;" class="vis-widget_prev ui-selectee ui-selected ui-draggable-handle" data-vis-resizable="{"disabled":true, "handles":""}"> <div class="vis-widget-prev-body"> <div data-o class="ui-buttonset"> <input type="radio" value="0" class="ui-helper-hidden-accessible"><label class="ui-button ui-widget ui-state-default ui-button-text-only ui-corner-left" role="button" aria-pressed="false"><span class="ui-button-text">OFF</span></label> <input type="radio" value="1" class="ui-helper-hidden-accessible"><label class="ui-button ui-widget ui-state-default ui-button-text-only ui-corner-right ui-state-active" role="button" aria-pressed="true"><span class="ui-button-text">ON</span></label> </div> </div> </div>'
        data-vis-set="jqui"
        data-vis-type="ctrl"
        data-vis-name="Radiobuttons on/off"
        data-vis-attrs="off_text[OFF];on_text[ON];oid;padding[5]/slider,0,100,1">
    <div class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" data-vis-resizable='{"disabled":true, "handles":""}' >
        <div class="vis-widget-body" >
            <div id="<%= this.data.attr('wid') %>_radio" data-oid="<%= this.data.attr('oid') %>" style="display: flex" <%= (el) -> vis.binds.jqueryui.radio(el); %> >
                <input type="radio" id="<%= this.data.attr('wid') %>_radio0" name="<%= this.data.attr('wid') %>_radio" value="0" checked='checked'/><label for="<%= this.data.attr('wid') %>_radio0" style="padding: <%= this.data.attr('padding') %>px"><%= this.data.off_text %></label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio1" name="<%= this.data.attr('wid') %>_radio" value="1"/><label for="<%= this.data.attr('wid') %>_radio1" style="padding: <%= this.data.attr('padding') %>px"><%= this.data.on_text %></label>
            </div>
        </div>
    </div>
</script>

<script id="tplJquiRadioList"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplJquiRadioList" style=" position: relative; text-align: initial;padding: 4px "><div style="font-size: 8px;overflow:visible;height:20px" class="vis-widget_prev ui-selectee ui-selected ui-draggable-handle"> <div class="vis-widget-prev-body"> <div data-o class="ui-buttonset"> <input type="radio" value="0" class="ui-helper-hidden-accessible"><label class="ui-button ui-widget ui-state-default ui-button-text-only ui-corner-left" role="button" aria-pressed="false"><span class="ui-button-text">OFF</span></label> <input type="radio" value="1" class="ui-helper-hidden-accessible"><label class="ui-button ui-widget ui-state-default ui-button-text-only ui-corner-right" role="button" aria-pressed="false"><span class="ui-button-text">AUTO</span></label> </div> </div> </div>'
        data-vis-set="jqui"
        data-vis-type="ctrl"
        data-vis-name="Radiobuttons ValueList"
        data-vis-attrs="oid;values[0§1§2];texts[OFF§ON§AUTO]">
    <div style=" width:250px; height:41px;overflow: visible" class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" data-vis-resizable='{"disabled":true, "handles":""}' >
        <div class="vis-widget-body" >
            <table id="<%= this.data.attr('wid') %>_radio" data-oid="<%= this.data.attr('oid') %>" style="display: flex" <%= (el) -> setTimeout(function () {vis.binds.jqueryui.radio(el)}, 100) %> class="vis-no-spaces"><tr class="vis-no-spaces">
                <%
                var values = (data.attr('values') ? data.attr('values').split(';') : []);
                var texts  = (data.attr('texts') ? data.attr('texts').split(';'): []);
                var wid = data.attr('wid');
                for (var val in values) {
                %>
                    <td class="vis-no-spaces"><input type="radio" id="<%= wid %>_radio<%= val %>" name="<%= wid %>_radio" value="<%== values[val] %>" /><label style="float: left" for="<%= wid %>_radio<%= val %>"><%= texts[val] %></label></td>
                <%
                }
                %>
            </tr></table>
        </div>
    </div>
</script>

<script id="tplJquiSelectList"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplJquiSelectList" style=" position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev ui-selectee ui-draggable-handle" data-vis-resizable="{"disabled":true, "handles":""}" style="left: 336px; top: 323px;"> <div class="vis-widget-prev-body"> <select data-o disabled="" style="display: none;"> <option value="0">OFF</option> <option value="1">ON</option> <option value="2">AUTO</option> </select><button type="button" class="ui-multiselect ui-widget ui-state-default ui-corner-all" aria-haspopup="true" style="width: 86px;"><span class="ui-icon ui-icon-triangle-2-n-s"></span><span>OFF</span></button> </div> </div>'
        data-vis-set="jqui"
        data-vis-type="ctrl"
        data-vis-name="Select ValueList"
        data-vis-attrs="oid;values[0§1§2]/text;texts[OFF§ON§AUTO]/text;height[100]/slider,15,500,1;open/checkbox;no_style/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" >
        <div class="vis-widget-body" >
            <select id="<%= this.data.attr('wid') %>_multiselect" data-no-style="<%= this.data.attr('no_style') %>" data-oid="<%= this.data.attr('oid') %>" data-view="<%= this.view %>" <%= (el) -> setTimeout(function (el_) { vis.binds.jqueryui.multiselect(el_, {height: (data.height || 220)}, data.open)}, 250, el); %> >
            <%
				var values = (data.attr('values') ? data.attr('values').split(';') : []);
				var texts  = (data.attr('texts')  ? data.attr('texts').split(';')  : []);
				for (var val in values) {
					%>
					<option value="<%= values[val] %>"><%= texts[val] %></option>
					<%
				}
            %>
            </select >
        </div>
    </div>
</script>

<script id="tplJquiRadioSteps"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplJquiRadioSteps" style="zoom: 0.99; position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev ui-selectee ui-draggable-handle" data-vis-resizable="{"disabled":true, "handles":"e"}" style="left: 85px; top: 258px; font-size: 5px;"> <div class="vis-widget-prev-body"> <div data-o class="ui-buttonset"> <input type="radio" value="0" class="ui-helper-hidden-accessible"><label class="ui-button ui-widget ui-state-default ui-button-text-only ui-corner-left" role="button" aria-pressed="false"><span class="ui-button-text">aus</span></label> <input type="radio" value="0.25" class="ui-helper-hidden-accessible"><label class="ui-button ui-widget ui-state-default ui-button-text-only" role="button" aria-pressed="false"><span class="ui-button-text">25%</span></label> <input type="radio" value="0.5" class="ui-helper-hidden-accessible"><label class="ui-button ui-widget ui-state-default ui-button-text-only" role="button" aria-pressed="false"><span class="ui-button-text">50%</span></label> <input type="radio" value="0.75" class="ui-helper-hidden-accessible"><label class="ui-button ui-widget ui-state-default ui-button-text-only ui-state-active" role="button" aria-pressed="true"><span class="ui-button-text">75%</span></label> <input type="radio" value="1" class="ui-helper-hidden-accessible"><label class="ui-button ui-widget ui-state-default ui-button-text-only ui-corner-right" role="button" aria-pressed="false"><span class="ui-button-text">100%</span></label> </div> </div> </div>'
        data-vis-set="jqui"
        data-vis-type="ctrl"
        data-vis-name="Radiobuttons 25%"
        data-vis-attrs="oid;min;max">
    <div class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" data-vis-resizable='{"disabled": true, "handles": "e"}' >
        <div class="vis-widget-body" >
            <div id="<%= this.data.attr('wid') %>_radio"  data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.jqueryui.radio(el); %> >
                <input type="radio" id="<%= this.data.attr('wid') %>_radio0" name="<%= this.data.attr('wid') %>_radio" value="<%= vis.binds.jqueryui.calcValue(0,    this.data.attr('min'), this.data.attr('max')) %>" checked='checked'/><label for="<%= this.data.attr('wid') %>_radio0">aus</label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio1" name="<%= this.data.attr('wid') %>_radio" value="<%= vis.binds.jqueryui.calcValue(0.25, this.data.attr('min'), this.data.attr('max')) %>" checked='checked'/><label for="<%= this.data.attr('wid') %>_radio1">25%</label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio2" name="<%= this.data.attr('wid') %>_radio" value="<%= vis.binds.jqueryui.calcValue(0.5,  this.data.attr('min'), this.data.attr('max')) %>" checked='checked'/><label for="<%= this.data.attr('wid') %>_radio2">50%</label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio3" name="<%= this.data.attr('wid') %>_radio" value="<%= vis.binds.jqueryui.calcValue(0.75, this.data.attr('min'), this.data.attr('max')) %>" checked='checked'/><label for="<%= this.data.attr('wid') %>_radio3">75%</label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio4" name="<%= this.data.attr('wid') %>_radio" value="<%= vis.binds.jqueryui.calcValue(1,    this.data.attr('min'), this.data.attr('max')) %>"/><label for="<%= this.data.attr('wid') %>_radio4">100%</label>
            </div>
        </div>
    </div>
</script>

<script id="tplJquiSliderVertical"
        type="text/ejs"
        data-vis-attrs="oid;oid-2;oid-working;oid-2-working;min;max;step;inverted/checkbox;submitmethod/nselect,scroll,stop"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplJquiSliderVertical" style="position: relative; text-align: initial;padding: 4px;overflow:visible;height:50px"><div class="vis-widget_prev " style="width: 23px; height: 30px; overflow: visible !important;"> <div class="vis-widget-prev-body " style="width: 100%; padding: 4px; "> <div class="sliderJQUI ui-slider ui-slider-vertical ui-widget ui-widget-content ui-corner-all" id="19vlqqb6r_slider" data-oid="nothing_selected" data-oid-working="" style="height:100%"><span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" style="bottom: 0%;"></span></div></div> </div></div>'
        data-vis-set="jqui"
        data-vis-type="ctrl"
        data-vis-name="Slider vertical">
    <div id="<%= this.data.attr('wid') %>" data-vis-resizable='{"minWidth":23, "maxWidth":23}' class="vis-widget" style="width:23px; height:160px; overflow:visible !important;">
        <div class="vis-widget-body <%== this.data.attr('class') %>" style="width: 100%; padding: 4px; ">
            <div class="sliderJQUI" id="<%= this.data.attr('wid') %>_slider" data-oid="<%= this.data.attr('oid') %>" data-oid2="<%= this.data.attr('oid-2') %>" data-oid-working="<%= this.data.attr('oid-working') %>"  data-oid2-working="<%= this.data.attr('oid-2-working') %>"<%= (el) -> vis.binds.jqueryui.slider(el, {min: parseFloat(data.min), max: parseFloat(data.max), step: parseFloat(data.step), orientation:"vertical", inverted: data.inverted, submitmethod: data.submitmethod}) %> style="height:100%"/></div>
        </div>
    </div>
</script>

<script id="tplJquiSlider"
        type="text/ejs"
        data-vis-attrs="oid;oid-2;oid-working;oid-2-working;min;max;step;inverted/checkbox;submitmethod/nselect,scroll,stop"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplJquiSlider" style="position: relative; text-align: initial;padding: 4px;overflow:visible"><div class="vis-widget_prev " style="width: 80px; overflow: visible !important; left: 475px; top: 188px; position: absolute; height: 23px;"> <div class="vis-widget-prev-body " style="padding: 4px;"> <div class="sliderJQUI ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" id="19vlqppi9_slider" data-oid="nothing_selected" data-oid-working=""><span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" style="left: 0%;"></span></div></div> </div></div>'
        data-vis-set="jqui"
        data-vis-type="ctrl"
        data-vis-name="Slider horizontal">
    <div id="<%= this.data.attr('wid') %>" data-vis-resizable='{"minHeight":23, "maxHeight":23}' class="vis-widget" style="height:23; width:160px; overflow:visible !important;">
        <div class="vis-widget-body <%== this.data.attr('class') %>" style="padding: 4px;">
            <div class="sliderJQUI" id="<%= this.data.attr('wid') %>_slider" data-oid="<%= this.data.attr('oid') %>" data-oid2="<%= this.data.attr('oid-2') %>" data-oid-working="<%= this.data.attr('oid-working') %>"  data-oid2-working="<%= this.data.attr('oid-2-working') %>"<%= (el) -> vis.binds.jqueryui.slider(el, {min:parseFloat(data.min),max:parseFloat(data.max),step:parseFloat(data.step), inverted: data.inverted, submitmethod: data.submitmethod}) %> /></div>
        </div>
    </div>
</script>

<script id="tplIconState"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplIconState" style="position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default " style="width: 122.4px; height: 32.4px; position: absolute; left: 237px; top: 201px;" id="19vlr5eto" data-oid="dev1" data-val="value"> <div class="vis-widget-prev-body"> <img src="/vis/widgets/jqui/img/internet-web-browser-2.png" style=" vertical-align:middle;height:100%;" alt="">set value </div> </div></div>'
        data-vis-set="jqui"
        data-vis-name="ctrl - Icon State"
        data-vis-attrs="oid;value;text;src/image;imageHeight/slider,0,200,1;alt;invert_icon/checkbox">
    <%
    var styles = '';
    if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
        styles = "filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);";
    }
    %>
    <div class="vis-widget ui-widget ui-button ui-corner-all ui-state-default <%== this.data.attr('class') %>" style="width: 100px; height: 35px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" data-val="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.basic.state(el); vis.binds.jqueryui.classes(el, null, data.value) %>>
        <div class="vis-widget-body">
            <img <%= this.data.attr('src') ? 'src="' +  this.data.attr('src') + '"' : '' %> style="<%= styles %> vertical-align: middle; height:<%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('alt') %>" /><%== this.data.attr('text') %>
        </div>
    </div>
</script>

<script id="tplIconStateBool"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="jqui"
        data-vis-prev='<div id="prev_tplIconStateBool" style="position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default " style="width: 100px; height: 25px;" > <div class="vis-widget-prev-body"> <img class="tplImgFalse" src="/vis/img/bulb_on.png" style=" vertical-align:middle;height:100%;" alt="">set value </div> </div></div>'
        data-vis-name="ctrl - Icon State / val - Icon Bool"
        data-vis-attrs="oid;click_id/id;click_value;false_text;true_text;false_src/image;true_src/image;imageHeight/slider,0,200,1;false_alt;true_alt;invert_icon/checkbox">
    <%
    var styles = '';
    if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
        styles = "filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);";
    }
    %>
    <div class="vis-widget ui-widget ui-button ui-corner-all ui-state-default <%== this.data.attr('class') %>" style="width: 100px; height: 35px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" data-val="<%= this.data.attr('click_value') %>" <%= (el) -> vis.binds.basic.state(el, this.data.attr('click_id')); vis.binds.jqueryui.classes(el, null, data.click_value) %>>
        <div class="vis-widget-body">
            <img class="imgToggleFalse" <%= this.data.attr('false_src') ? 'src="' +  this.data.attr('false_src') + '"' : '' %> style="               <%= styles %> vertical-align: middle; height: <%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('false_alt') %>"/ ><span class="imgToggleFalse"><%= this.data.attr('false_text') %></span>
            <img class="imgToggleTrue"  <%= this.data.attr('true_src')  ? 'src="' +  this.data.attr('true_src')  + '"' : '' %> style="display: none; <%= styles %> vertical-align: middle; height: <%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('true_alt')  %>" /><span class="imgToggleTrue" style="display: none"><%= this.data.attr('true_text')  %></span>
            <div <%= (el) -> vis.binds.jqueryui.itoggle(el) %>></div>
        </div>
    </div>
</script>

<script id="tplIconStatePushButton"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="jqui"
        data-vis-prev='<div id="prev_tplIconStateBool" style="position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default " style="width: 100px; height: 25px;" > <div class="vis-widget-prev-body"> <img class="tplImgFalse" src="/vis/img/bulb_on.png" style=" vertical-align:middle;height:100%;" alt="">set value </div> </div></div>'
        data-vis-name="ctrl - Icon PushButton / val - Icon Bool"
        data-vis-attrs="oid;click_id/id;false_text;true_text;false_src/image;true_src/image;imageHeight/slider,0,200,1;false_alt;true_alt;invert_icon/checkbox">
    <%
    var styles = '';
    if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
        styles = "filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);";
    }
    %>
    <div class="vis-widget ui-widget ui-button ui-corner-all ui-state-default <%== this.data.attr('class') %>" style="width: 100px; height: 35px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.basic.pushbutton(el, this.data.attr('click_id')); vis.binds.jqueryui.classes(el, null, data.click_value) %>>
        <div class="vis-widget-body">
            <img class="imgToggleFalse" <%= this.data.attr('false_src') ? 'src="' +  this.data.attr('false_src') + '"' : '' %> style="               <%= styles %> vertical-align: middle; height: <%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('false_alt') %>"/ ><span class="imgToggleFalse"><%= this.data.attr('false_text') %></span>
            <img class="imgToggleTrue"  <%= this.data.attr('true_src')  ? 'src="' +  this.data.attr('true_src')  + '"' : '' %> style="display: none; <%= styles %> vertical-align: middle; height: <%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('true_alt')  %>" /><span class="imgToggleTrue" style="display: none"><%= this.data.attr('true_text')  %></span>
            <div <%= (el) -> vis.binds.jqueryui.itoggle(el) %>></div>
        </div>
    </div>
</script>

<script id="tplIconInc"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplIconInc" style="position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default ui-state-active " style="width: 44px; height: 20px;" data-vis-step="1" data-val=""> <div class="vis-widget-prev-body"> <img style=" vertical-align:middle;height:100%;">+1 </div> </div></div>'
        data-vis-set="jqui"
        data-vis-name="ctrl - Icon Increment"
        data-vis-attrs="oid;step[1];minmax[100];text[+1];src/image;imageHeight/slider,0,200,1;alt;repeat_delay[800];repeat_interval[800];invert_icon/checkbox">
    <%
    var styles = '';
    if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
        styles = "filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);";
    }
    %>
    <div class="vis-widget ui-widget ui-button ui-corner-all ui-state-default <%== this.data.attr('class') %>" style="width: 100px; height: 35px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" data-vis-step="<%= this.data.attr('step') %>" data-val="<%= this.data.attr('active_value') %>" <%= (el) -> vis.binds.basic.increment(el,data.minmax,data.repeat_delay,data.repeat_interval); vis.binds.jqueryui.classes(el, null, data.minmax) %>>
        <div class="vis-widget-body">
            <img <%= this.data.attr('src') ? 'src="' +  this.data.attr('src') + '"' : '' %> style="<%= styles %> vertical-align: middle; height: <%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('alt') %>" /><%== this.data.attr('text') %>
        </div>
    </div>
</script>

<!-- --------------jqui.html--- END -->
<!-- --------------materialdesign.html--- START -->
<!--
    ioBroker.vis vis-materialdesign Widget-Set
    
    Copyright 2019 Scrounger scrounger@gmx.net
-->

<!-- Vuetify API container init -->
<v-app id="materialdesign-vuetify-container" data-app="true" />

<!-- CSS: API libs -->
<link rel="stylesheet" href="widgets/materialdesign/lib/fonts/material-icons/material-icons.css" />
<link rel="stylesheet" href="widgets/materialdesign/lib/fonts/material-design-icons/materialdesignicons.min.css" />
<link rel="stylesheet" href="widgets/materialdesign/lib.min.css" />


<!-- CSS: Material Design -->
<link rel="stylesheet" href="widgets/materialdesign/css/widgets.min.css" />

<!-- JS: API libs -->
<script type="text/javascript" src="widgets/materialdesign/lib/raw/moment-with-locales.min.js"></script>
<script type="text/javascript" src="widgets/materialdesign/lib/raw/round-slider.js"></script>
<script type="text/javascript" src="widgets/materialdesign/lib.min.js"></script>

<!-- Sentry integration -->
<script src="widgets/materialdesign/lib/raw/sentry/bundle.min.js" integrity="sha384-SEu4bJkpht31dkOz4nRcKDxnisSU+Jc8WRSOnBSZJ2yVMlbk4sAKQSrBw6qBVzKR" crossorigin="anonymous"></script>
<script src="widgets/materialdesign/lib/raw/sentry/captureconsole.min.js" integrity="sha384-89dz/GJSE9/L79qAtPaRQRjnwsc1X2XTmYK4Ju8MoXVwvcLsF4Yntc4i5y2GZ572" crossorigin="anonymous"></script>
<script src="widgets/materialdesign/lib/raw/sentry/dedupe.min.js" integrity="sha384-991Pgp/m4NC5gP7q/xzXphPFKPZI3iGG04gFtnoHlyH13gSiR/cQJVh+/5vjnULG" crossorigin="anonymous"></script>


<!-- JS: Material Design -->
<script type="text/javascript" src="widgets/materialdesign/js/materialdesign.js"></script>
<script type="text/javascript" src="widgets/materialdesign/js/widgets.min.js"></script>

<!-- the full description of format in data-vis-attrs can be found here:
    https://github.com/ioBroker/ioBroker.vis/blob/master/www/js/visEditInspect.js#L39

    ----------------------------------------------------------
    Mandatory XML attributes:
        id="tplVis-materialdesignWIDGETNAME"
        type="text/ejs"
        class="vis-tpl"

        "type" and "class" are always the same. "id" is unique and must start with "tplSETNAME" and ends with widget name. Use camel-case for it.

    ----------------------------------------------------------
    data-vis-attrs - divided with semicolon the list of attributes, like attr1/id;attr2/color
        Full format of one attribute is: attr_name(start-end)[default_value]/type,idFilter/onChangeFunc
            attr_name - the name of the attribute, e.g. "myID"
            start-end - creates automatically attributes from attr_namestart to attr_nameend, like "myID(1-3)" creates myID1, myID2, myID3
            default_value - by creation of widget this attribute will be filled with this value, e.g. "myID[#001122]/color"
            type - some predefined types have edit helpers, else it will be shown as text field

                Type format:
                      id - Object ID Dialog
                      checkbox
                      image - image
                      number,min,max,step - non-float number. min,max,step are optional
                      color - color picker
                      views - Name of the view
                      effect - jquery UI show/hide effects
                      eff_opt - additional option to effect slide (up, down, left, right)
                      fontName - Font name
                      slider,min,max,step - Default step is ((max - min) / 100)
                      select,value1,value2,... - dropdown select
                      nselect,value1,value2,... - same as select, but without translation of items
                      style,fileFilter,nameFilter,attrFilter
                      custom,functionName,options,... - custom editor - functionName is starting from vis.binds.[widgetset.funct]. E.g. custom/timeAndWeather.editWeather,short
                      group.name - define new or old group. All following attributes belongs to new group till new group.xyz
                      group.name/byindex - like group, but all following attributes will be grouped by ID. Like group.windows/byindex;slide(1-4)/id;slide_type(1-4)/select,open,closed  Following groups will be created Windows1(slide1,slide_type1), Windows2(slide2,slide_type2), Windows3(slide3,slide_type3), Windows4(slide4,slide_type4)
                      text - dialog box with html editor
                      html - dialog box with html editor

                If type is "id", you can define filer for "Select ID Dialog", like "myID/id,level.temperature".
                Additionally you can define callback(onChangeFunc), which will be called if this attribute was changed by user for different purposes: validate entry, fill other attributes, ...

        You can define additional data-vis-attrs line: data-vis-attrs0, data-vis-attrs1. Anyway data-vis-attrs must be there. You may not skip numbers.
        E.g. in "data-vis-attrs="A;" data-vis-attrs1="B" attribute B will be not parsed.

    --------------------------------------------------------
    data-vis-type
        Help information for user. Used for search.
        You can define more than one type divided by comma.
        There are following common types, but you can use your own specific types:
            ctrl   - widget that can write some Object IDs
            val    - widget that shows some information from Object IDs
            static - widget do not read information from Object IDs or URL
            button - button widget
            dimmer - dimmer widget
            weather - weather widget
            ...

    --------------------------------------------------------
    data-vis-set
        Name of the widget set. Must be equal to the name of this HTML file

    --------------------------------------------------------
    data-vis-prev
        Html code used as preview of this widget. If widget is complex you can just use image as preview:
        data-vis-prev='<img src="widgets/hqwidgets/img/prev/Prev_tplVis-materialdesignShowInstance.png"></img>'
        Of course the image must exist.

    --------------------------------------------------------
    data-vis-name
        Readable name of widget shown in vis editor.

    --------------------------------------------------------
    data-vis-beta="true"
        Shows "BETA" symbol in vis editor by preview

    --------------------------------------------------------
    data-vis-update-style="true"
        Call redraw of widget if some of the CSS styles in editor for this widget was changed

    You can read about Magic tags here: http://canjs.com/guides/EJS.html
    Following magic tags are exist:
        <% %> - execute javascript
        <%= %> - place escaped result to HTML document
        <%== %> - place unescaped result to HTML document

    You can do "if" conditions and "for" cycles.

-->

<script id="tplVis-materialdesign-value"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-value" style="position: relative; text-align: initial; padding: 4px "><div class="vis-widget_prev materialdesign-widget materialdesign-value vis-tpl-materialdesign-Value " style="width: 100px; height: 24px; padding: 0px; display: flex; align-items: center; left: 220px; top: 323px; position: absolute; --value-color-text:#44739e; --value-font-text:RobotoCondensed-Regular; --value-font-size-text:14px; --value-color-prepand:#44739e; --value-font-prepand:RobotoCondensed-Regular; --value-font-size-prepand:14px; --value-color-append:#44739e; --value-font-append:RobotoCondensed-Regular; --value-font-size-append:14px; z-index: 4;" data-tmodified="true" data-zmodified="true"> <span class="mdi mdi-information materialdesign-icon-image " style="width: auto; height: auto; font-size: 24px; color: #44739e; ;"></span> <div class="materialdesign-value prepand-text" style="margin: 0 2px 0 2px;"></div> <div class="materialdesign-value value-text" style="margin: 0 2px 0 2px; flex: 1;text-align: center">1,23 kWh</div> <div class="materialdesign-value append-text" style="margin: 0 2px 0 2px;"></div> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="val,state,string,number,bool"
        data-vis-name="Value"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,value;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,value;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;targetType[auto]/select,auto,number,string,boolean;overrideText/html;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,value;debug/checkbox;"
        data-vis-attrs0="group.layout;textAlign[start]/select,start,center,end;valueLabelWidth[4]/number;valuesFontColor[#mdwTheme:vis-materialdesign.0.colors.value.text]/color;valuesFontFamily[#mdwTheme:vis-materialdesign.0.fonts.value.text]/fontname;valuesFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.value.text]/number;prepandText/html;prepandTextColor[#mdwTheme:vis-materialdesign.0.colors.value.prepand]/color;prepandTextFontFamily[#mdwTheme:vis-materialdesign.0.fonts.value.prepand]/fontname;prepandTextFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.value.prepand]/number;appendText/html;appendTextColor[#mdwTheme:vis-materialdesign.0.colors.value.append]/color;appendTextFontFamily[#mdwTheme:vis-materialdesign.0.fonts.value.append]/fontname;appendTextFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.value.append]/number;"
        data-vis-attrs1="group.formatNumber;valueLabelUnit/html;minDecimals/number;maxDecimals/number;calculate/html;convertToDuration/text;convertToTimestamp/text;"
        data-vis-attrs2="group.formatBoolean;textOnTrue/html;textOnFalse/html;condition/html;"
        data-vis-attrs3="group.icon;image[information]/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor[#mdwTheme:vis-materialdesign.0.colors.value.icon]/color;iconPosition[left]/select,left,right;iconHeight/slider,0,200,1;"
        data-vis-attrs4="group.changeEffect;changeEffectEnabled/checkbox;effectFontColor[#mdwTheme:vis-materialdesign.0.colors.value.effect]/color;effectFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.value.effect]/number;effectDuration[750]/number;">

        <div class="vis-widget materialdesign-widget materialdesign-value <%== this.data.attr('class') %>" style="width: 100px; height: 30px; padding: 0px; display: flex; align-items: center;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.value.initialize(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Button-Navigation-vertical"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Button-Navigation-vertical" style="position: relative; text-align: initial; padding: 0px !important; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-button materialdesign-button--raised vis-tpl-materialdesign-Button Navigation vertical mdc-ripple-upgraded" style="width: 100px; height: 60px; padding: 0px; --materialdesign-color-primary:#44739e; --materialdesign-color-secondary:#FFFFFF; --materialdesign-font-button:RobotoCondensed-Regular; --materialdesign-font-size-button:16px; --materialdesign-font-button-vertical-text-distance-image:2px; left: 532px; top: 89px; position: absolute; z-index: 4;" data-zmodified="true"> <div class="materialdesign-button-body" style="display:flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; height: 100%; "><span class="mdi mdi-navigation materialdesign-icon-image " style="width: 26px; height: 26px; font-size: 26px; color: ; ;"></span><span class="materialdesign-button__label" style="text-align: center;"> Navigation </span></div> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="navigation"
        data-vis-name="Button Navigation vertical"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,navigation_vertical;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,buttons;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;buttonStyle[raised]/select,text,raised,unelevated,outlined;nav_view;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,button,navigation_vertical;debug/checkbox;"
        data-vis-attrs0="group.label;buttontext[Navigation]/html;textFontFamily[#mdwTheme:vis-materialdesign.0.fonts.button.vertical.text]/fontname;textFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.button.vertical.text]/number;alignment[center]/select,flex-start,center,flex-end;distanceBetweenTextAndImage/slider,0,100,1;"
        data-vis-attrs1="group.color;mdwButtonPrimaryColor[#mdwTheme:vis-materialdesign.0.colors.button.vertical.primary]/color;mdwButtonSecondaryColor[#mdwTheme:vis-materialdesign.0.colors.button.vertical.secondary]/color;mdwButtonColorPress/color;"
        data-vis-attrs2="group.icon;image[navigation]/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor/color;iconPosition[top]/select,top,bottom;iconHeight[26]/slider,0,200,1;">
        
        <div class="vis-widget materialdesign-widget materialdesign-button <%== this.data.attr('class') %>" style="width: 100px; height: 60px; padding: 0px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.materialdesign.button.initialize(el, data, 'navigation_vertical'); vis.binds.materialdesign.addRippleEffect(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Button-Link-vertical"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Button-Link-vertical" style="position: relative; text-align: initial; padding: 0px !important; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-button materialdesign-button--raised vis-tpl-materialdesign-Button Link vertical mdc-ripple-upgraded" style="width: 100px; height: 60px; padding: 0px; --materialdesign-color-primary:#44739e; --materialdesign-color-secondary:#FFFFFF; --materialdesign-font-button:RobotoCondensed-Regular; --materialdesign-font-size-button:16px; --materialdesign-font-button-vertical-text-distance-image:2px; left: 529px; top: 228px; position: absolute; z-index: 4; --mdc-ripple-fg-size:60px; --mdc-ripple-fg-scale:2.1103172982817666; --mdc-ripple-fg-translate-start:32px, -13.600006103515625px; --mdc-ripple-fg-translate-end:20px, 0px;" data-zmodified="true"> <div class="materialdesign-button-body" style="display:flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; height: 100%; "><span class="mdi mdi-link materialdesign-icon-image " style="width: 26px; height: 26px; font-size: 26px; color: ; ;"></span><span class="materialdesign-button__label" style="text-align: center;"> Link </span></div> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="static"
        data-vis-name="Button Link vertical"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,link_vertical;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,buttons;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;buttonStyle[raised]/select,text,raised,unelevated,outlined;href/url;openNewWindow/checkbox;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,button,link_vertical;debug/checkbox;"
        data-vis-attrs0="group.label;buttontext[Link]/html;textFontFamily[#mdwTheme:vis-materialdesign.0.fonts.button.vertical.text]/fontname;textFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.button.vertical.text]/number;alignment[center]/select,flex-start,center,flex-end;distanceBetweenTextAndImage/slider,0,100,1;"
        data-vis-attrs1="group.color;mdwButtonPrimaryColor[#mdwTheme:vis-materialdesign.0.colors.button.vertical.primary]/color;mdwButtonSecondaryColor[#mdwTheme:vis-materialdesign.0.colors.button.vertical.secondary]/color;mdwButtonColorPress/color;"
        data-vis-attrs2="group.icon;image[link]/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor/color;iconPosition[top]/select,top,bottom;iconHeight[26]/slider,0,200,1;">

        <div class="vis-widget materialdesign-widget materialdesign-button <%== this.data.attr('class') %>" style="width: 100px; height: 60px; padding: 0px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" data-vis-link="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.materialdesign.button.initialize(el, data, 'link_vertical'); vis.binds.materialdesign.addRippleEffect(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Button-State-vertical"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Button-State-vertical" style="position: relative; text-align: initial; padding: 0px !important; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-button materialdesign-button--raised vis-tpl-materialdesign-Button State vertical mdc-ripple-upgraded" style="width: 100px; height: 60px; padding: 0px; --materialdesign-color-primary:#44739e; --materialdesign-color-secondary:#FFFFFF; --materialdesign-font-button:RobotoCondensed-Regular; --materialdesign-font-size-button:16px; --materialdesign-font-button-vertical-text-distance-image:2px; left: 447px; top: 343px; position: absolute; z-index: 4;" islocked="false" data-zmodified="true"> <div class="materialdesign-button-body" style="display:flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; height: 100%; "><span class="mdi mdi-pencil materialdesign-icon-image " style="width: 26px; height: 26px; font-size: 26px; color: ; ;"></span><span class="materialdesign-button__label" style="text-align: center;"> State </span></div> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="ctrl"
        data-vis-name="Button State vertical"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,state_vertical;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,buttons;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;buttonStyle[raised]/select,text,raised,unelevated,outlined;value;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,button,state_vertical;debug/checkbox;"
        data-vis-attrs0="group.label;buttontext[State]/html;textFontFamily[#mdwTheme:vis-materialdesign.0.fonts.button.vertical.text]/fontname;textFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.button.vertical.text]/number;alignment[center]/select,flex-start,center,flex-end;distanceBetweenTextAndImage/slider,0,100,1;"
        data-vis-attrs1="group.color;mdwButtonPrimaryColor[#mdwTheme:vis-materialdesign.0.colors.button.vertical.primary]/color;mdwButtonSecondaryColor[#mdwTheme:vis-materialdesign.0.colors.button.vertical.secondary]/color;mdwButtonColorPress/color;colorBgTrue/color;"
        data-vis-attrs2="group.icon;image[pencil]/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor/color;iconPosition[top]/select,top,bottom;iconHeight[26]/slider,0,200,1;"
        data-vis-attrs3="group.lock;lockEnabled/checkbox;autoLockAfter[10]/number;lockIcon/custom,materialdesign.viseditor.materialDesignIcons;lockIconTop[5]/slider,0,100,1;lockIconLeft[5]/slider,0,100,1;lockIconSize/number;lockIconColor[#mdwTheme:vis-materialdesign.0.colors.button.lock_icon]/color;lockFilterGrayscale[30]/slider,0,100,1;">

        <div class="vis-widget materialdesign-widget materialdesign-button <%== this.data.attr('class') %>" style="width: 100px; height: 60px; padding: 0px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.button.initialize(el, data, 'state_vertical'); vis.binds.materialdesign.addRippleEffect(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Button-State-Multi-vertical"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Button-State-Multi-vertical" style="position: relative; text-align: initial; padding: 0px !important; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-button materialdesign-button--raised vis-tpl-materialdesign-Button State Multi vertical mdc-ripple-upgraded" style="width: 100px; height: 60px; padding: 0px; --materialdesign-color-primary:#44739e; --materialdesign-color-secondary:#FFFFFF; --materialdesign-font-button:RobotoCondensed-Regular; --materialdesign-font-size-button:16px; --materialdesign-font-button-vertical-text-distance-image:2px; left: 657px; top: 380px; position: absolute; z-index: 4;" islocked="false" data-zmodified="true"> <div class="materialdesign-button-body" style="display:flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; height: 100%; "><span class="mdi mdi-pencil-box-multiple materialdesign-icon-image " style="width: 26px; height: 26px; font-size: 26px; color: ; ;"></span><span class="materialdesign-button__label" style="text-align: center;"> Multi State </span></div> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="ctrl"
        data-vis-name="Button State Multi vertical"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,multiState_vertical;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,buttons;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;countOids[1]/number;buttonStyle[raised]/select,text,raised,unelevated,outlined;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,button,multiState_vertical;debug/checkbox;"
        data-vis-attrs0="group.buttonOids/byindex;oid(0-countOids);value(0-countOids);delayInMs(0-countOids)[0]/number;"
        data-vis-attrs1="group.label;buttontext[Multi State]/html;textFontFamily[#mdwTheme:vis-materialdesign.0.fonts.button.vertical.text]/fontname;textFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.button.vertical.text]/number;alignment[center]/select,flex-start,center,flex-end;distanceBetweenTextAndImage/slider,0,100,1;"
        data-vis-attrs2="group.color;mdwButtonPrimaryColor[#mdwTheme:vis-materialdesign.0.colors.button.vertical.primary]/color;mdwButtonSecondaryColor[#mdwTheme:vis-materialdesign.0.colors.button.vertical.secondary]/color;mdwButtonColorPress/color;"
        data-vis-attrs3="group.icon;image[pencil-box-multiple]/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor/color;iconPosition[top]/select,top,bottom;iconHeight[26]/slider,0,200,1;"
        data-vis-attrs4="group.lock;lockEnabled/checkbox;autoLockAfter[10]/number;lockIcon/custom,materialdesign.viseditor.materialDesignIcons;lockIconTop[5]/slider,0,100,1;lockIconLeft[5]/slider,0,100,1;lockIconSize/number;lockIconColor[#mdwTheme:vis-materialdesign.0.colors.button.lock_icon]/color;lockFilterGrayscale[30]/slider,0,100,1;">
        
        <div class="vis-widget materialdesign-widget materialdesign-button <%== this.data.attr('class') %>" style="width: 100px; height: 60px; padding: 0px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.button.initialize(el, data, 'multiState_vertical'); vis.binds.materialdesign.addRippleEffect(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Button-Adition-vertical"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Button-Adition-vertical" style="position: relative; text-align: initial; padding: 0px !important; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-button materialdesign-button--raised vis-tpl-materialdesign-Button Addition vertical mdc-ripple-upgraded" style="width: 100px; height: 60px; padding: 0px; --materialdesign-color-primary:#44739e; --materialdesign-color-secondary:#FFFFFF; --materialdesign-font-button:RobotoCondensed-Regular; --materialdesign-font-size-button:16px; --materialdesign-font-button-vertical-text-distance-image:2px; left: 240px; top: 379px; position: absolute; z-index: 4;" data-zmodified="true"> <div class="materialdesign-button-body" style="display:flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; height: 100%; "><span class="mdi mdi-plus materialdesign-icon-image " style="width: 26px; height: 26px; font-size: 26px; color: ; ;"></span><span class="materialdesign-button__label" style="text-align: center;"> Addition </span></div> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="ctrl"
        data-vis-name="Button Addition vertical"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,addition_vertical;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,buttons;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;buttonStyle[raised]/select,text,raised,unelevated,outlined;value;minmax;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,button,addition_vertical;debug/checkbox;"
        data-vis-attrs0="group.label;buttontext[Addition]/html;textFontFamily[#mdwTheme:vis-materialdesign.0.fonts.button.vertical.text]/fontname;textFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.button.vertical.text]/number;alignment[center]/select,flex-start,center,flex-end;distanceBetweenTextAndImage/slider,0,100,1;"
        data-vis-attrs1="group.color;mdwButtonPrimaryColor[#mdwTheme:vis-materialdesign.0.colors.button.vertical.primary]/color;mdwButtonSecondaryColor[#mdwTheme:vis-materialdesign.0.colors.button.vertical.secondary]/color;mdwButtonColorPress/color;"
        data-vis-attrs2="group.icon;image[plus]/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor/color;iconPosition[top]/select,top,bottom;iconHeight[26]/slider,0,200,1;">
        
        <div class="vis-widget materialdesign-widget materialdesign-button <%== this.data.attr('class') %>" style="width: 100px; height: 60px; padding: 0px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" data-val="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.materialdesign.button.initialize(el, data, 'addition_vertical'); vis.binds.materialdesign.addRippleEffect(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Button-Toggle-vertical"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Button-Toggle-vertical" style="position: relative; text-align: initial; padding: 0px !important; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-button materialdesign-button--raised vis-tpl-materialdesign-Button Toggle vertical mdc-ripple-upgraded" style="width: 100px; height: 60px; padding: 0px; --materialdesign-color-primary:#44739e; --materialdesign-color-secondary:#FFFFFF; --materialdesign-font-button:RobotoCondensed-Regular; --materialdesign-font-size-button:16px; --materialdesign-font-button-vertical-text-distance-image:2px; left: 253px; top: 196px; position: absolute; z-index: 4;" islocked="false" toggled="false" data-zmodified="true"> <div class="materialdesign-button-body" style="display:flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; height: 100%; "><span class="mdi mdi-checkbox-marked materialdesign-icon-image" style="width: 26px; height: 26px; font-size: 26px; color: ; ;"></span><span class="materialdesign-button__label" style="text-align: center;">Toggle</span></div>  <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="ctrl,state,val,bool"
        data-vis-name="Button Toggle vertical"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,toggle_vertical;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,buttons;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;buttonStyle[raised]/select,text,raised,unelevated,outlined;readOnly/checkbox;toggleType[boolean]/select,boolean,value;pushButton/checkbox;valueOff;valueOn;stateIfNotTrueValue[on]/select,on,off;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,button,toggle_vertical;debug/checkbox;"
        data-vis-attrs0="group.label;buttontext[Toggle]/html;labelTrue/html;labelColorFalse/color;labelColorTrue/color;textFontFamily[#mdwTheme:vis-materialdesign.0.fonts.button.vertical.text]/fontname;textFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.button.vertical.text]/number;alignment[center]/select,flex-start,center,flex-end;distanceBetweenTextAndImage/slider,0,100,1;"
        data-vis-attrs1="group.color;mdwButtonPrimaryColor[#mdwTheme:vis-materialdesign.0.colors.button.vertical.primary]/color;mdwButtonSecondaryColor[#mdwTheme:vis-materialdesign.0.colors.button.vertical.secondary]/color;colorBgFalse/color;colorBgTrue/color;"
        data-vis-attrs2="group.icon;image[checkbox-marked]/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor/color;imageTrue/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageTrueColor/color;iconPosition[top]/select,top,bottom;iconHeight[26]/slider,0,200,1;"
        data-vis-attrs3="group.lock;lockEnabled/checkbox;autoLockAfter[10]/number;lockIcon/custom,materialdesign.viseditor.materialDesignIcons;lockIconTop[5]/slider,0,100,1;lockIconLeft[5]/slider,0,100,1;lockIconSize/number;lockIconColor[#mdwTheme:vis-materialdesign.0.colors.button.lock_icon]/color;lockFilterGrayscale[30]/slider,0,100,1;">
        
        <div class="vis-widget materialdesign-widget materialdesign-button <%== this.data.attr('class') %>" style="width: 100px; height: 60px; padding: 0px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.materialdesign.button.initialize(el, data, 'toggle_vertical'); vis.binds.materialdesign.addRippleEffect(el, data) %>>

        </div>
</script>


<script id="tplVis-materialdesign-Button-Navigation"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Button-Navigation" style="position: relative; text-align: initial; padding: 0px !important; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-button materialdesign-button--raised vis-tpl-materialdesign-Button Navigation mdc-ripple-upgraded" style="width: 100px; height: 30px; padding: 0px; --materialdesign-color-primary:#44739e; --materialdesign-color-secondary:#FFFFFF; --materialdesign-font-button:RobotoCondensed-Regular; --materialdesign-font-size-button:14px; --materialdesign-font-button-vertical-text-distance-image:2px; left: 52px; top: 38px; position: absolute; z-index: 4;" data-zmodified="true"> <div class="materialdesign-button-body" style="display:flex; justify-content: center; align-items: center; width: 100%; height: 100%;"><span class="mdi mdi-navigation materialdesign-icon-image " style="width: auto; height: auto; font-size: auto; color: ; ;"></span> <span class="materialdesign-button__label">&nbsp;Navigation </span> </div> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="navigation"
        data-vis-name="Button Navigation"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,navigation_default;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,buttons;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;buttonStyle[raised]/select,text,raised,unelevated,outlined;nav_view;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,button,navigation_default;debug/checkbox;"
        data-vis-attrs0="group.label;buttontext[&nbsp;Navigation]/html;textFontFamily[#mdwTheme:vis-materialdesign.0.fonts.button.default.text]/fontname;textFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.button.default.text]/number;labelWidth/slider,0,100,1;"
        data-vis-attrs1="group.color;mdwButtonPrimaryColor[#mdwTheme:vis-materialdesign.0.colors.button.default.primary]/color;mdwButtonSecondaryColor[#mdwTheme:vis-materialdesign.0.colors.button.default.secondary]/color;mdwButtonColorPress/color;"
        data-vis-attrs2="group.icon;image[navigation]/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor/color;iconPosition[left]/select,left,right;iconHeight/slider,0,200,1;">
        
        <div class="vis-widget materialdesign-widget materialdesign-button <%== this.data.attr('class') %>" style="width: 100px; height: 30px; padding: 0px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.materialdesign.button.initialize(el, data, 'navigation_default'); vis.binds.materialdesign.addRippleEffect(el, data) %>>

        </div>
</script>


<script id="tplVis-materialdesign-Button-Link"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Button-Link" style="position: relative; text-align: initial; padding: 0px !important; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-button materialdesign-button--raised vis-tpl-materialdesign-Button Link mdc-ripple-upgraded" style="width: 100px; height: 30px; padding: 0px; --materialdesign-color-primary:#44739e; --materialdesign-color-secondary:#FFFFFF; --materialdesign-font-button:RobotoCondensed-Regular; --materialdesign-font-size-button:14px; --materialdesign-font-button-vertical-text-distance-image:2px; inset: 92.9167px auto auto 51.9167px; position: absolute; z-index: 4; --mdc-ripple-fg-size:60px; --mdc-ripple-fg-scale:1.9067177514850917; --mdc-ripple-fg-translate-start:26.166671752929688px, -14.350006103515625px; --mdc-ripple-fg-translate-end:20px, -15px;" data-vis-link="" data-zmodified="true"> <div class="materialdesign-button-body" style="display:flex; justify-content: center; align-items: center; width: 100%; height: 100%;"><span class="mdi mdi-link materialdesign-icon-image " style="width: auto; height: auto; font-size: auto; color: ; ;"></span> <span class="materialdesign-button__label">&nbsp;Link</span> </div> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="static"
        data-vis-name="Button Link"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,link_default;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,buttons;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;buttonStyle[raised]/select,text,raised,unelevated,outlined;href/url;openNewWindow/checkbox;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,button,link_default;debug/checkbox;"
        data-vis-attrs0="group.label;buttontext[&nbsp;Link]/html;textFontFamily[#mdwTheme:vis-materialdesign.0.fonts.button.default.text]/fontname;textFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.button.default.text]/number;labelWidth/slider,0,100,1;"
        data-vis-attrs1="group.color;mdwButtonPrimaryColor[#mdwTheme:vis-materialdesign.0.colors.button.default.primary]/color;mdwButtonSecondaryColor[#mdwTheme:vis-materialdesign.0.colors.button.default.secondary]/color;mdwButtonColorPress/color;"
        data-vis-attrs2="group.icon;image[link]/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor/color;iconPosition[left]/select,left,right;iconHeight/slider,0,200,1;">

        <div class="vis-widget materialdesign-widget materialdesign-button <%== this.data.attr('class') %>" style="width: 100px; height: 30px; padding: 0px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" data-vis-link="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.materialdesign.button.initialize(el, data, 'link_default'); vis.binds.materialdesign.addRippleEffect(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Button-State"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Button-State" style="position: relative; text-align: initial; padding: 0px !important; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-button materialdesign-button--raised vis-tpl-materialdesign-Button State mdc-ripple-upgraded" style="width: 100px; height: 30px; padding: 0px; --materialdesign-color-primary:#44739e; --materialdesign-color-secondary:#FFFFFF; --materialdesign-font-button:RobotoCondensed-Regular; --materialdesign-font-size-button:14px; --materialdesign-font-button-vertical-text-distance-image:2px; left: 44px; top: 181px; position: absolute; z-index: 4;" islocked="false" data-zmodified="true"> <div class="materialdesign-button-body" style="display:flex; justify-content: center; align-items: center; width: 100%; height: 100%;"><span class="mdi mdi-pencil materialdesign-icon-image " style="width: auto; height: auto; font-size: auto; color: ; ;"></span> <span class="materialdesign-button__label">&nbsp;State</span> </div> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="ctrl"
        data-vis-name="Button State"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,state_default;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,buttons;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;buttonStyle[raised]/select,text,raised,unelevated,outlined;value;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,button,state_default;debug/checkbox;"
        data-vis-attrs0="group.label;buttontext[&nbsp;State]/html;textFontFamily[#mdwTheme:vis-materialdesign.0.fonts.button.default.text]/fontname;textFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.button.default.text]/number;labelWidth/slider,0,100,1;"
        data-vis-attrs1="group.color;mdwButtonPrimaryColor[#mdwTheme:vis-materialdesign.0.colors.button.default.primary]/color;mdwButtonSecondaryColor[#mdwTheme:vis-materialdesign.0.colors.button.default.secondary]/color;mdwButtonColorPress/color;colorBgTrue/color;"
        data-vis-attrs2="group.icon;image[pencil]/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor/color;iconPosition[left]/select,left,right;iconHeight/slider,0,200,1;"
        data-vis-attrs3="group.lock;lockEnabled/checkbox;autoLockAfter[10]/number;lockIcon/custom,materialdesign.viseditor.materialDesignIcons;lockIconSize/number;lockIconColor[#mdwTheme:vis-materialdesign.0.colors.button.lock_icon]/color;lockFilterGrayscale[30]/slider,0,100,1;">
        
        <div class="vis-widget materialdesign-widget materialdesign-button <%== this.data.attr('class') %>" style="width: 100px; height: 30px; padding: 0px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.button.initialize(el, data, 'state_default'); vis.binds.materialdesign.addRippleEffect(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Button-State-Multi"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Button-State-Multi" style="position: relative; text-align: initial; padding: 0px !important; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-button materialdesign-button--raised vis-tpl-materialdesign-Button State Multi mdc-ripple-upgraded" style="width: 100px; height: 30px; padding: 0px; --materialdesign-color-primary:#44739e; --materialdesign-color-secondary:#FFFFFF; --materialdesign-font-button:RobotoCondensed-Regular; --materialdesign-font-size-button:14px; --materialdesign-font-button-vertical-text-distance-image:2px; left: 46px; top: 261px; position: absolute; z-index: 4;" islocked="false" data-zmodified="true"> <div class="materialdesign-button-body" style="display:flex; justify-content: center; align-items: center; width: 100%; height: 100%;"><span class="mdi mdi-pencil-box-multiple materialdesign-icon-image " style="width: auto; height: auto; font-size: auto; color: ; ;"></span> <span class="materialdesign-button__label">&nbsp;Multi State</span> </div> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="ctrl"
        data-vis-name="Button State Multi"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,multiState_default;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,buttons;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;countOids[1]/number;buttonStyle[raised]/select,text,raised,unelevated,outlined;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,button,multiState_default;debug/checkbox;"
        data-vis-attrs0="group.buttonOids/byindex;oid(0-countOids);value(0-countOids);delayInMs(0-countOids)[0]/number;"
        data-vis-attrs1="group.label;buttontext[&nbsp;Multi State]/html;textFontFamily[#mdwTheme:vis-materialdesign.0.fonts.button.default.text]/fontname;textFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.button.default.text]/number;labelWidth/slider,0,100,1;"
        data-vis-attrs2="group.color;mdwButtonPrimaryColor[#mdwTheme:vis-materialdesign.0.colors.button.default.primary]/color;mdwButtonSecondaryColor[#mdwTheme:vis-materialdesign.0.colors.button.default.secondary]/color;mdwButtonColorPress/color;"
        data-vis-attrs3="group.icon;image[pencil-box-multiple]/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor/color;iconPosition[left]/select,left,right;iconHeight/slider,0,200,1;"
        data-vis-attrs4="group.lock;lockEnabled/checkbox;autoLockAfter[10]/number;lockIcon/custom,materialdesign.viseditor.materialDesignIcons;lockIconSize/number;lockIconColor[#mdwTheme:vis-materialdesign.0.colors.button.lock_icon]/color;lockFilterGrayscale[30]/slider,0,100,1;">
        
        <div class="vis-widget materialdesign-widget materialdesign-button <%== this.data.attr('class') %>" style="width: 100px; height: 30px; padding: 0px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.button.initialize(el, data, 'multiState_default'); vis.binds.materialdesign.addRippleEffect(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Button-Adition"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Button-Adition" style="position: relative; text-align: initial; padding: 0px !important; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-button materialdesign-button--raised vis-tpl-materialdesign-Button Addition mdc-ripple-upgraded " style="width: 100px; height: 30px; padding: 0px; --materialdesign-color-primary:#44739e; --materialdesign-color-secondary:#FFFFFF; --materialdesign-font-button:RobotoCondensed-Regular; --materialdesign-font-size-button:14px; --materialdesign-font-button-vertical-text-distance-image:2px; left: 70px; top: 344px; position: absolute; --mdc-ripple-fg-size:60px; --mdc-ripple-fg-scale:1.9067177514850917; --mdc-ripple-fg-translate-start:12.16668701171875px, -7.350006103515625px; --mdc-ripple-fg-translate-end:20px, -15px; z-index: 4;" data-tmodified="true" data-zmodified="true"> <div class="materialdesign-button-body" style="display:flex; justify-content: center; align-items: center; width: 100%; height: 100%;"><span class="mdi mdi-plus materialdesign-icon-image " style="width: auto; height: auto; font-size: auto; color: ; ;"></span> <span class="materialdesign-button__label">&nbsp;Addition</span> </div> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="ctrl"
        data-vis-name="Button Addition"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,addition_default;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,buttons;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;buttonStyle[raised]/select,text,raised,unelevated,outlined;value;minmax;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,button,addition_default;debug/checkbox;"
        data-vis-attrs0="group.label;buttontext[&nbsp;Addition]/html;textFontFamily[#mdwTheme:vis-materialdesign.0.fonts.button.default.text]/fontname;textFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.button.default.text]/number;labelWidth/slider,0,100,1;"
        data-vis-attrs1="group.color;mdwButtonPrimaryColor[#mdwTheme:vis-materialdesign.0.colors.button.default.primary]/color;mdwButtonSecondaryColor[#mdwTheme:vis-materialdesign.0.colors.button.default.secondary]/color;mdwButtonColorPress/color;"
        data-vis-attrs2="group.icon;image[plus]/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor/color;iconPosition[left]/select,left,right;iconHeight/slider,0,200,1;">

        <div class="vis-widget materialdesign-widget materialdesign-button <%== this.data.attr('class') %>" style="width: 100px; height: 30px; padding: 0px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" data-val="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.materialdesign.button.initialize(el, data, 'addition_default'); vis.binds.materialdesign.addRippleEffect(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Button-Toggle"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Button-Toggle" style="position: relative; text-align: initial; padding: 0px !important; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-button materialdesign-button--raised vis-tpl-materialdesign-Button Toggle mdc-ripple-upgraded" style="width: 100px; height: 30px; padding: 0px; --materialdesign-color-primary:#44739e; --materialdesign-color-secondary:#FFFFFF; --materialdesign-font-button:RobotoCondensed-Regular; --materialdesign-font-size-button:14px; --materialdesign-font-button-vertical-text-distance-image:2px; left: 78px; top: 435px; position: absolute; z-index: 4;" islocked="false" toggled="false" data-zmodified="true"> <div class="materialdesign-button-body" style="display:flex; justify-content: center; align-items: center; width: 100%; height: 100%;"><span class="mdi mdi-checkbox-marked materialdesign-icon-image" style="width: auto; height: auto; font-size: auto; color: ; ;"></span> <span class="materialdesign-button__label">&nbsp;Toggle</span> </div>  <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="ctrl,state,val,bool"
        data-vis-name="Button Toggle"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,toggle_default;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,buttons;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;buttonStyle[raised]/select,text,raised,unelevated,outlined;readOnly/checkbox;toggleType[boolean]/select,boolean,value;pushButton/checkbox;valueOff;valueOn;stateIfNotTrueValue[on]/select,on,off;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,button,toggle_default;debug/checkbox;"
        data-vis-attrs0="group.label;buttontext[&nbsp;Toggle]/html;labelTrue/html;labelColorFalse/color;labelColorTrue/color;textFontFamily[#mdwTheme:vis-materialdesign.0.fonts.button.default.text]/fontname;textFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.button.default.text]/number;labelWidth/slider,0,100,1;"
        data-vis-attrs1="group.color;mdwButtonPrimaryColor[#mdwTheme:vis-materialdesign.0.colors.button.default.primary]/color;mdwButtonSecondaryColor[#mdwTheme:vis-materialdesign.0.colors.button.default.secondary]/color;mdwButtonColorPress/color;colorBgFalse/color;colorBgTrue/color;"
        data-vis-attrs2="group.icon;image[checkbox-marked]/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor/color;imageTrue/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageTrueColor/color;iconPosition[left]/select,left,right;iconHeight/slider,0,200,1;"        
        data-vis-attrs3="group.lock;lockEnabled/checkbox;autoLockAfter[10]/number;lockIcon/custom,materialdesign.viseditor.materialDesignIcons;lockIconSize/number;lockIconColor[#mdwTheme:vis-materialdesign.0.colors.button.lock_icon]/color;lockFilterGrayscale[30]/slider,0,100,1;">
       
        <div class="vis-widget materialdesign-widget materialdesign-button <%== this.data.attr('class') %>" style="width: 100px; height: 30px; padding: 0px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.materialdesign.button.initialize(el, data, 'toggle_default'); vis.binds.materialdesign.addRippleEffect(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Icon-Button-Navigation"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Icon-Button-Navigation" style="position: relative; text-align: initial; padding: 0px !important; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-icon-button mdc-ripple-upgraded--unbounded vis-tpl-materialdesign-Icon Button Navigation mdc-ripple-upgraded " style="width: 48px; height: 48px; background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%; --materialdesign-font-size-button: inherit; --materialdesign-font-button-vertical-text-distance-image:2px; --materialdesign-color-icon-button-hover:#44739e; inset: 362px auto auto 144px; position: absolute; --mdc-ripple-fg-size:28px; --mdc-ripple-fg-scale:1.7142857142857142; --mdc-ripple-left:10px; --mdc-ripple-top:10px; z-index: 4;" aria-pressed="false" data-tmodified="true" data-zmodified="true"> <div class="materialdesign-button-body" style="display:flex; justify-content: center; align-items: center; width: 100%; height: 100%;"> <span class="mdi mdi-navigation materialdesign-icon-image " style="width: auto; height: auto; font-size: auto; color: #44739e; ;"></span></div> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="navigation"
        data-vis-name="Icon Button Navigation"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,navigation_icon;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,buttons;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;nav_view;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,button,navigation_icon;debug/checkbox;"
        data-vis-attrs0="group.icon;image[navigation]/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor[#mdwTheme:vis-materialdesign.0.colors.button.icon.icon_off]/color;iconHeight/slider,0,200,1;"
        data-vis-attrs1="group.color;colorBgFalse[#mdwTheme:vis-materialdesign.0.colors.button.icon.background_off]/color;colorPress[#mdwTheme:vis-materialdesign.0.colors.button.icon.pressed]/color">

        <div class="vis-widget materialdesign-widget materialdesign-icon-button <%== this.data.attr('class') %>" style="width: 48px; height: 48px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.materialdesign.button.initialize(el, data, 'navigation_icon'); vis.binds.materialdesign.addRippleEffect(el, data, true) %>>

        </div>
</script>


<script id="tplVis-materialdesign-Icon-Button-Link"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Icon-Button-Link" style="position: relative; text-align: initial; padding: 0px !important; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-icon-button mdc-ripple-upgraded--unbounded vis-tpl-materialdesign-Icon Button Link mdc-ripple-upgraded mdc-icon-button--on " style="width: 48px; height: 48px; background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%; --materialdesign-font-size-button: inherit; --materialdesign-font-button-vertical-text-distance-image:2px; --materialdesign-color-icon-button-hover:#44739e; left: 207px; top: 468px; position: absolute; --mdc-ripple-fg-size:28px; --mdc-ripple-fg-scale:1.7142857142857142; --mdc-ripple-left:10px; --mdc-ripple-top:10px; z-index: 4;" aria-pressed="true" data-tmodified="true" data-zmodified="true"> <div class="materialdesign-button-body" style="display:flex; justify-content: center; align-items: center; width: 100%; height: 100%;"> <span class="mdi mdi-link materialdesign-icon-image " style="width: auto; height: auto; font-size: auto; color: #44739e; ;"></span></div> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="static"
        data-vis-name="Icon Button Link"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,link_icon;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,buttons;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;href/url;openNewWindow/checkbox;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,button,link_icon;debug/checkbox;"
        data-vis-attrs0="group.icon;image[link]/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor[#mdwTheme:vis-materialdesign.0.colors.button.icon.icon_off]/color;iconHeight/slider,0,200,1;"
        data-vis-attrs1="group.color;colorBgFalse[#mdwTheme:vis-materialdesign.0.colors.button.icon.background_off]/color;colorPress[#mdwTheme:vis-materialdesign.0.colors.button.icon.pressed]/color">

        <div class="vis-widget materialdesign-widget materialdesign-icon-button <%== this.data.attr('class') %>" style="width: 48px; height: 48px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" data-val="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.materialdesign.button.initialize(el, data, 'link_icon'); vis.binds.materialdesign.addRippleEffect(el, data, true) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Icon-Button-State"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Icon-Button-State" style="position: relative; text-align: initial; padding: 0px !important; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-icon-button mdc-ripple-upgraded--unbounded vis-tpl-materialdesign-Icon Button State mdc-ripple-upgraded " style="width: 48px; height: 48px; background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%; --materialdesign-font-size-button: inherit; --materialdesign-font-button-vertical-text-distance-image:2px; --materialdesign-color-icon-button-hover:#44739e; inset: 468px auto auto 326px; position: absolute; --mdc-ripple-fg-size:28px; --mdc-ripple-fg-scale:1.7142857142857142; --mdc-ripple-left:10px; --mdc-ripple-top:10px; z-index: 4;" islocked="false" aria-pressed="false" data-tmodified="true" data-zmodified="true"> <div class="materialdesign-button-body" style="display:flex; justify-content: center; align-items: center; width: 100%; height: 100%;"> <span class="mdi mdi-pencil materialdesign-icon-image " style="width: auto; height: auto; font-size: auto; color: #44739e; ;"></span></div> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="ctrl"
        data-vis-name="Icon Button State"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,state_icon;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,buttons;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;value;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,button,state_icon;debug/checkbox;"
        data-vis-attrs0="group.icon;image[pencil]/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor[#mdwTheme:vis-materialdesign.0.colors.button.icon.icon_off]/color;iconHeight/slider,0,200,1;"
        data-vis-attrs1="group.color;colorBgFalse[#mdwTheme:vis-materialdesign.0.colors.button.icon.background_off]/color;colorPress[#mdwTheme:vis-materialdesign.0.colors.button.icon.pressed]/color;colorBgTrue/color;"
        data-vis-attrs2="group.lock;lockEnabled/checkbox;autoLockAfter[10]/number;lockIcon/custom,materialdesign.viseditor.materialDesignIcons;lockIconTop[45]/slider,0,100,1;lockIconLeft[55]/slider,0,100,1;lockIconSize[20]/number;lockIconColor[#mdwTheme:vis-materialdesign.0.colors.button.icon.lock_icon]/color;lockIconBackground[#mdwTheme:vis-materialdesign.0.colors.button.icon.lock_icon_background]/color;lockBackgroundSizeFactor[1]/number,1,10,0.1;lockFilterGrayscale[30]/slider,0,100,1;">

        <div class="vis-widget materialdesign-widget materialdesign-icon-button <%== this.data.attr('class') %>" style="width: 48px; height: 48px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.button.initialize(el, data, 'state_icon'); vis.binds.materialdesign.addRippleEffect(el, data, true) %>>

        </div>        
</script>

<script id="tplVis-materialdesign-Icon-Button-State-Multi"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Icon-Button-State-Multi" style="position: relative; text-align: initial; padding: 0px !important; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-icon-button mdc-ripple-upgraded--unbounded vis-tpl-materialdesign-Icon Button State Multi mdc-ripple-upgraded" style="width: 48px; height: 48px; background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%; --materialdesign-font-size-button: inherit; --materialdesign-font-button-vertical-text-distance-image:2px; --materialdesign-color-icon-button-hover:#44739e; left: 457px; top: 429px; position: absolute; z-index: 4; --mdc-ripple-fg-size:28px; --mdc-ripple-fg-scale:1.7142857142857142; --mdc-ripple-left:10px; --mdc-ripple-top:10px;" islocked="false" aria-pressed="false" data-zmodified="true"> <div class="materialdesign-button-body" style="display:flex; justify-content: center; align-items: center; width: 100%; height: 100%;"> <span class="mdi mdi-pencil-box-multiple materialdesign-icon-image " style="width: auto; height: auto; font-size: auto; color: #44739e; ;"></span></div> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="ctrl"
        data-vis-name="Icon Button State Multi"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,multiState_icon;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,buttons;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;countOids[1]/number;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,button,multiState_icon;debug/checkbox;"
        data-vis-attrs0="group.buttonOids/byindex;oid(0-countOids);value(0-countOids);delayInMs(0-countOids)[0]/number;"
        data-vis-attrs1="group.icon;image[pencil-box-multiple]/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor[#mdwTheme:vis-materialdesign.0.colors.button.icon.icon_off]/color;iconHeight/slider,0,200,1;"
        data-vis-attrs2="group.color;colorBgFalse[#mdwTheme:vis-materialdesign.0.colors.button.icon.background_off]/color;colorPress[#mdwTheme:vis-materialdesign.0.colors.button.icon.pressed]/color;"
        data-vis-attrs3="group.lock;lockEnabled/checkbox;autoLockAfter[10]/number;lockIcon/custom,materialdesign.viseditor.materialDesignIcons;lockIconTop[45]/slider,0,100,1;lockIconLeft[55]/slider,0,100,1;lockIconSize[20]/number;lockIconColor[#mdwTheme:vis-materialdesign.0.colors.button.icon.lock_icon]/color;lockIconBackground[#mdwTheme:vis-materialdesign.0.colors.button.icon.lock_icon_background]/color;lockBackgroundSizeFactor[1]/number,1,10,0.1;lockFilterGrayscale[30]/slider,0,100,1;">

        <div class="vis-widget materialdesign-widget materialdesign-icon-button <%== this.data.attr('class') %>" style="width: 48px; height: 48px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.button.initialize(el, data, 'multiState_icon'); vis.binds.materialdesign.addRippleEffect(el, data, true) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Icon-Button-Adition"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Icon-Button-Adition" style="position: relative; text-align: initial; padding: 0px !important; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-icon-button mdc-ripple-upgraded--unbounded vis-tpl-materialdesign-Icon Button Addition mdc-ripple-upgraded" style="width: 48px; height: 48px; background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%; --materialdesign-font-size-button: inherit; --materialdesign-font-button-vertical-text-distance-image:2px; --materialdesign-color-icon-button-hover:#44739e; left: 705px; top: 467px; position: absolute; z-index: 4; --mdc-ripple-fg-size:28px; --mdc-ripple-fg-scale:1.7142857142857142; --mdc-ripple-left:10px; --mdc-ripple-top:10px;"  aria-pressed="false" data-zmodified="true"> <div class="materialdesign-button-body" style="display:flex; justify-content: center; align-items: center; width: 100%; height: 100%;"> <span class="mdi mdi-plus materialdesign-icon-image " style="width: auto; height: auto; font-size: auto; color: #44739e; ;"></span></div> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="ctrl"
        data-vis-name="Icon Button Addition"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,addition_icon;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,buttons;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;value;minmax;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,button,addition_icon;debug/checkbox;"
        data-vis-attrs0="group.icon;image[plus]/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor[#mdwTheme:vis-materialdesign.0.colors.button.icon.icon_off]/color;iconHeight/slider,0,200,1;"
        data-vis-attrs1="group.color;colorBgFalse[#mdwTheme:vis-materialdesign.0.colors.button.icon.background_off]/color;colorPress[#mdwTheme:vis-materialdesign.0.colors.button.icon.pressed]/color">

        <div class="vis-widget materialdesign-widget materialdesign-icon-button <%== this.data.attr('class') %>" style="width: 48px; height: 48px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" data-val="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.materialdesign.button.initialize(el, data, 'addition_icon'); vis.binds.materialdesign.addRippleEffect(el, data, true) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Icon-Button-Toggle"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Icon-Button-Toggle" style="position: relative; text-align: initial; padding: 0px !important; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-icon-button mdc-ripple-upgraded--unbounded vis-tpl-materialdesign-Icon Button Toggle mdc-ripple-upgraded" style="width: 48px; height: 48px; background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%; --materialdesign-font-size-button: inherit; --materialdesign-font-button-vertical-text-distance-image:2px; --materialdesign-color-icon-button-hover:#44739e; left: 493px; top: 598px; position: absolute; z-index: 4; --mdc-ripple-fg-size:28px; --mdc-ripple-fg-scale:1.7142857142857142; --mdc-ripple-left:10px; --mdc-ripple-top:10px;" islocked="false" aria-pressed="false" toggled="false" data-zmodified="true"> <div class="materialdesign-button-body" style="display:flex; justify-content: center; align-items: center; width: 100%; height: 100%;"> <span class="mdi mdi-checkbox-marked materialdesign-icon-image" style="width: auto; height: auto; font-size: auto; color: #44739e; ;"></span></div>  <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="ctrl,state,val,bool"
        data-vis-name="Icon Button Toggle"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,toggle_icon;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,buttons;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;readOnly/checkbox;toggleType[boolean]/select,boolean,value;pushButton/checkbox;valueOff;valueOn;stateIfNotTrueValue[on]/select,on,off;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,button,toggle_icon;debug/checkbox;"
        data-vis-attrs0="group.icon;image[checkbox-marked]/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor[#mdwTheme:vis-materialdesign.0.colors.button.icon.icon_off]/color;imageTrue/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageTrueColor[#mdwTheme:vis-materialdesign.0.colors.button.icon.icon_on]/color;iconHeight/slider,0,200,1;"
        data-vis-attrs1="group.color;colorBgFalse[#mdwTheme:vis-materialdesign.0.colors.button.icon.background_off]/color;colorBgTrue[#mdwTheme:vis-materialdesign.0.colors.button.icon.background_on]/color;colorPress[#mdwTheme:vis-materialdesign.0.colors.button.icon.pressed]/color;"
        data-vis-attrs2="group.lock;lockEnabled/checkbox;autoLockAfter[10]/number;lockIcon/custom,materialdesign.viseditor.materialDesignIcons;lockIconTop[45]/slider,0,100,1;lockIconLeft[55]/slider,0,100,1;lockIconSize[20]/number;lockIconColor[#mdwTheme:vis-materialdesign.0.colors.button.icon.lock_icon]/color;lockIconBackground[#mdwTheme:vis-materialdesign.0.colors.button.icon.lock_icon_background]/color;lockBackgroundSizeFactor[1]/number,1,10,0.1;lockFilterGrayscale[30]/slider,0,100,1;">

        <div class="vis-widget materialdesign-widget materialdesign-icon-button <%== this.data.attr('class') %>" style="width: 48px; height: 48px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.materialdesign.button.initialize(el, data, 'toggle_icon'); vis.binds.materialdesign.addRippleEffect(el, data, true) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Input"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/materialdesign/img/prev_input.png"></img>'
        data-vis-set="materialdesign"
        data-vis-type="ctrl"
        data-vis-name="Input"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,input;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,input;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;inputType[text]/select,text,number,date,time,mask;inputMask;inputMaxLength/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,textfield;debug/checkbox;"
        data-vis-attrs0="group.inputLayout;inputLayout[regular]/select,regular,solo,solo-rounded,solo-shaped,filled,filled-rounded,filled-shaped,outlined,outlined-rounded,outlined-shaped;inputAlignment[left]/select,left,center,right;inputLayoutBackgroundColor/color;inputLayoutBackgroundColorHover/color;inputLayoutBackgroundColorSelected/color;inputLayoutBorderColor[#mdwTheme:vis-materialdesign.0.colors.input.border]/color;inputLayoutBorderColorHover[#mdwTheme:vis-materialdesign.0.colors.input.border_hover]/color;inputLayoutBorderColorSelected[#mdwTheme:vis-materialdesign.0.colors.input.border_selected]/color;inputTextFontFamily[#mdwTheme:vis-materialdesign.0.fonts.input.text]/fontname;inputTextFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.text]/number;inputTextColor[#mdwTheme:vis-materialdesign.0.colors.input.text]/color;autoFocus/checkbox;"
        data-vis-attrs1="group.inputLabel;inputLabelText;inputLabelColor[#mdwTheme:vis-materialdesign.0.colors.input.label]/color;inputLabelColorSelected[#mdwTheme:vis-materialdesign.0.colors.input.label_selected]/color;inputLabelFontFamily[#mdwTheme:vis-materialdesign.0.fonts.input.label]/fontname;inputLabelFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.label]/number,0,24,1;inputTranslateX/number;inputTranslateY/number;"
        data-vis-attrs2="group.inputAppendix;inputPrefix;inputSuffix;inputAppendixColor[#mdwTheme:vis-materialdesign.0.colors.input.appendix]/color;inputAppendixFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.appendix]/number;inputAppendixFontFamily[#mdwTheme:vis-materialdesign.0.fonts.input.appendix]/fontname;"
        data-vis-attrs3="group.inputSubText;showInputMessageAlways[true]/checkbox;inputMessage;inputMessageFontFamily[#mdwTheme:vis-materialdesign.0.fonts.input.message]/fontname;inputMessageFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.message]/number;inputMessageColor[#mdwTheme:vis-materialdesign.0.colors.input.message]/color;"
        data-vis-attrs4="group.counter;showInputCounter[true]/checkbox;inputCounterColor[#mdwTheme:vis-materialdesign.0.colors.input.counter]/color;inputCounterFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.counter]/number;inputCounterFontFamily[#mdwTheme:vis-materialdesign.0.fonts.input.counter]/fontname;"
        data-vis-attrs5="group.icons;clearIconShow[true]/checkbox;clearIcon/custom,materialdesign.viseditor.materialDesignIcons;clearIconSize/number;clearIconColor[#mdwTheme:vis-materialdesign.0.colors.input.icon_clear]/color;prepandIcon/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;prepandIconSize/number;prepandIconColor/color;prepandInnerIcon/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;prepandInnerIconSize/number;prepandInnerIconColor/color;appendIcon/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;appendIconSize/number;appendIconColor/color;appendOuterIcon/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;appendOuterIconSize/number;appendOuterIconColor/color;">
        
        <div class="vis-widget materialdesign-widget materialdesign-input <%== this.data.attr('class') %>" style="width: 150px; height: 38px; overflow: visible;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.textfield.initialize(el, data) %>> 
        
        </div>
</script>

<script id="tplVis-materialdesign-Autocomplete"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/materialdesign/img/prev_autocomplete.png"></img>'
        data-vis-set="materialdesign"
        data-vis-type="ctrl"
        data-vis-name="Autocomplete"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,autocomplete;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,input;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;inputMode[write]/select,write,select;inputType[text]/select,text,date,time;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,autocomplete;debug/checkbox;"
        data-vis-attrs0="group.inputLayout;inputLayout[regular]/select,regular,solo,solo-rounded,solo-shaped,filled,filled-rounded,filled-shaped,outlined,outlined-rounded,outlined-shaped;inputAlignment[left]/select,left,center,right;inputLayoutBackgroundColor/color;inputLayoutBackgroundColorHover/color;inputLayoutBackgroundColorSelected/color;inputLayoutBorderColor[#mdwTheme:vis-materialdesign.0.colors.input.border]/color;inputLayoutBorderColorHover[#mdwTheme:vis-materialdesign.0.colors.input.border_hover]/color;inputLayoutBorderColorSelected[#mdwTheme:vis-materialdesign.0.colors.input.border_selected]/color;inputTextFontFamily[#mdwTheme:vis-materialdesign.0.fonts.input.text]/fontname;inputTextFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.text]/number;inputTextColor[#mdwTheme:vis-materialdesign.0.colors.input.text]/color;autoFocus/checkbox;"
        data-vis-attrs1="group.inputLabel;inputLabelText;inputLabelColor[#mdwTheme:vis-materialdesign.0.colors.input.label]/color;inputLabelColorSelected[#mdwTheme:vis-materialdesign.0.colors.input.label_selected]/color;inputLabelFontFamily[#mdwTheme:vis-materialdesign.0.fonts.input.label]/fontname;inputLabelFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.label]/number,0,24,1;inputTranslateX/number;inputTranslateY/number;"
        data-vis-attrs2="group.inputAppendix;inputPrefix;inputSuffix;inputAppendixColor[#mdwTheme:vis-materialdesign.0.colors.input.appendix]/color;inputAppendixFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.appendix]/number;inputAppendixFontFamily[#mdwTheme:vis-materialdesign.0.fonts.input.appendix]/fontname;"
        data-vis-attrs3="group.inputSubText;showInputMessageAlways[true]/checkbox;inputMessage;inputMessageFontFamily[#mdwTheme:vis-materialdesign.0.fonts.input.message]/fontname;inputMessageFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.message]/number;inputMessageColor[#mdwTheme:vis-materialdesign.0.colors.input.message]/color;"
        data-vis-attrs4="group.counter;showInputCounter[true]/checkbox;inputCounterColor[#mdwTheme:vis-materialdesign.0.colors.input.counter]/color;inputCounterFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.counter]/number;inputCounterFontFamily[#mdwTheme:vis-materialdesign.0.fonts.input.counter]/fontname;"
        data-vis-attrs5="group.icons;clearIconShow[true]/checkbox;clearIcon/custom,materialdesign.viseditor.materialDesignIcons;clearIconSize/number;clearIconColor[#mdwTheme:vis-materialdesign.0.colors.input.icon_clear]/color;collapseIcon/custom,materialdesign.viseditor.materialDesignIcons;collapseIconSize/number;collapseIconColor[#mdwTheme:vis-materialdesign.0.colors.input.icon_collapse]/color;prepandIcon/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;prepandIconSize/number;prepandIconColor/color;prepandInnerIcon/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;prepandInnerIconSize/number;prepandInnerIconColor/color;appendOuterIcon/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;appendOuterIconSize/number;appendOuterIconColor/color;"
        data-vis-attrs6="group.listData;listDataMethod[inputPerEditor]/select,inputPerEditor,jsonStringObject,multistatesObject,valueList;countSelectItems[1]/number;jsonStringObject/html;valueList/html;valueListLabels/html;valueListIcons/html;"
        data-vis-attrs7="group.autoCompleteListLayout;listPosition[auto]/select,auto,top,bottom;listPositionOffset[true]/checkbox;openOnClear/checkbox;listItemHeight/number;listItemBackgroundColor[#mdwTheme:vis-materialdesign.0.colors.input.menu.background]/color;listItemBackgroundHoverColor[#mdwTheme:vis-materialdesign.0.colors.input.menu.hover]/color;listItemBackgroundSelectedColor[#mdwTheme:vis-materialdesign.0.colors.input.menu.selected]/color;listItemRippleEffectColor[#mdwTheme:vis-materialdesign.0.colors.input.menu.effect]/color;showSelectedIcon[prepend-inner]/select,no,prepend,prepend-inner,append-outer;listIconSize/number;listIconColor[#mdwTheme:vis-materialdesign.0.colors.input.menu.icon]/color;listIconHoverColor/color;listIconSelectedColor/color;listItemFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.dropdown.text]/number;listItemFont[#mdwTheme:vis-materialdesign.0.fonts.input.dropdown.text]/fontname;listItemFontColor[#mdwTheme:vis-materialdesign.0.colors.input.menu.text]/color;listItemFontHoverColor/color;listItemFontSelectedColor/color;listItemSubFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.dropdown.subText]/number;listItemSubFont[#mdwTheme:vis-materialdesign.0.fonts.input.dropdown.subText]/fontname;listItemSubFontColor[#mdwTheme:vis-materialdesign.0.colors.input.menu.subText]/color;listItemSubFontHoverColor/color;listItemSubFontSelectedColor/color;showValue[true]/checkbox;listItemValueFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.dropdown.value]/number;listItemValueFont[#mdwTheme:vis-materialdesign.0.fonts.input.dropdown.value]/fontname;listItemValueFontColor[#mdwTheme:vis-materialdesign.0.colors.input.menu.value]/color;listItemValueFontHoverColor/color;listItemValueFontSelectedColor/color;"
        data-vis-attrs8="group.menuItems/byindex;value(0-countSelectItems);label(0-countSelectItems);subLabel(0-countSelectItems);listIcon(0-countSelectItems)/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;listIconColor(0-countSelectItems)/color;imageColorSelectedTextField(0-countSelectItems)/color;">
        
        <div class="vis-widget materialdesign-widget materialdesign-autocomplete <%== this.data.attr('class') %>" style="width: 150px; height: 38px; overflow: visible;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.autocomplete.initialize(el, data) %>> 
        
        </div>
</script>

<script id="tplVis-materialdesign-Select"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/materialdesign/img/prev_autocomplete.png"></img>'
        data-vis-set="materialdesign"
        data-vis-type="ctrl"
        data-vis-name="Select"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,select;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,input;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;inputType[text]/select,text,date,time;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,select;debug/checkbox;"
        data-vis-attrs0="group.inputLayout;inputLayout[regular]/select,regular,solo,solo-rounded,solo-shaped,filled,filled-rounded,filled-shaped,outlined,outlined-rounded,outlined-shaped;inputAlignment[left]/select,left,center,right;inputLayoutBackgroundColor/color;inputLayoutBackgroundColorHover/color;inputLayoutBackgroundColorSelected/color;inputLayoutBorderColor[#mdwTheme:vis-materialdesign.0.colors.input.border]/color;inputLayoutBorderColorHover[#mdwTheme:vis-materialdesign.0.colors.input.border_hover]/color;inputLayoutBorderColorSelected[#mdwTheme:vis-materialdesign.0.colors.input.border_selected]/color;inputTextFontFamily[#mdwTheme:vis-materialdesign.0.fonts.input.text]/fontname;inputTextFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.text]/number;inputTextColor[#mdwTheme:vis-materialdesign.0.colors.input.text]/color;autoFocus/checkbox;"
        data-vis-attrs1="group.inputLabel;inputLabelText;inputLabelColor[#mdwTheme:vis-materialdesign.0.colors.input.label]/color;inputLabelColorSelected[#mdwTheme:vis-materialdesign.0.colors.input.label_selected]/color;inputLabelFontFamily[#mdwTheme:vis-materialdesign.0.fonts.input.label]/fontname;inputLabelFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.label]/number,0,24,1;inputTranslateX/number;inputTranslateY/number;"
        data-vis-attrs2="group.inputAppendix;inputPrefix;inputSuffix;inputAppendixColor[#mdwTheme:vis-materialdesign.0.colors.input.appendix]/color;inputAppendixFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.appendix]/number;inputAppendixFontFamily[#mdwTheme:vis-materialdesign.0.fonts.input.appendix]/fontname;"
        data-vis-attrs3="group.inputSubText;showInputMessageAlways[true]/checkbox;inputMessage;inputMessageFontFamily[#mdwTheme:vis-materialdesign.0.fonts.input.message]/fontname;inputMessageFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.message]/number;inputMessageColor[#mdwTheme:vis-materialdesign.0.colors.input.message]/color;"
        data-vis-attrs4="group.counter;showInputCounter[true]/checkbox;inputCounterColor[#mdwTheme:vis-materialdesign.0.colors.input.counter]/color;inputCounterFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.counter]/number;inputCounterFontFamily[#mdwTheme:vis-materialdesign.0.fonts.input.counter]/fontname;"
        data-vis-attrs5="group.icons;clearIconShow[true]/checkbox;clearIcon/custom,materialdesign.viseditor.materialDesignIcons;clearIconSize/number;clearIconColor[#mdwTheme:vis-materialdesign.0.colors.input.icon_clear]/color;collapseIcon/custom,materialdesign.viseditor.materialDesignIcons;collapseIconSize/number;collapseIconColor[#mdwTheme:vis-materialdesign.0.colors.input.icon_collapse]/color;prepandIcon/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;prepandIconSize/number;prepandIconColor/color;prepandInnerIcon/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;prepandInnerIconSize/number;prepandInnerIconColor/color;appendOuterIcon/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;appendOuterIconSize/number;appendOuterIconColor/color;"
        data-vis-attrs6="group.listData;listDataMethod[inputPerEditor]/select,inputPerEditor,jsonStringObject,multistatesObject,valueList;countSelectItems[1]/number;jsonStringObject/html;valueList/html;valueListLabels/html;valueListIcons/html;"
        data-vis-attrs7="group.selectListLayout;listPosition[auto]/select,auto,top,bottom;listPositionOffset/checkbox;openOnClear/checkbox;listItemHeight/number;listItemBackgroundColor[#mdwTheme:vis-materialdesign.0.colors.input.menu.background]/color;listItemBackgroundHoverColor[#mdwTheme:vis-materialdesign.0.colors.input.menu.hover]/color;listItemBackgroundSelectedColor[#mdwTheme:vis-materialdesign.0.colors.input.menu.selected]/color;listItemRippleEffectColor[#mdwTheme:vis-materialdesign.0.colors.input.menu.effect]/color;showSelectedIcon[prepend-inner]/select,no,prepend,prepend-inner,append-outer;listIconSize/number;listIconColor[#mdwTheme:vis-materialdesign.0.colors.input.menu.icon]/color;listIconHoverColor/color;listIconSelectedColor/color;listItemFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.dropdown.text]/number;listItemFont[#mdwTheme:vis-materialdesign.0.fonts.input.dropdown.text]/fontname;listItemFontColor[#mdwTheme:vis-materialdesign.0.colors.input.menu.text]/color;listItemFontHoverColor/color;listItemFontSelectedColor/color;listItemSubFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.dropdown.subText]/number;listItemSubFont[#mdwTheme:vis-materialdesign.0.fonts.input.dropdown.subText]/fontname;listItemSubFontColor[#mdwTheme:vis-materialdesign.0.colors.input.menu.subText]/color;listItemSubFontHoverColor/color;listItemSubFontSelectedColor/color;showValue[true]/checkbox;listItemValueFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.input.dropdown.value]/number;listItemValueFont[#mdwTheme:vis-materialdesign.0.fonts.input.dropdown.value]/fontname;listItemValueFontColor[#mdwTheme:vis-materialdesign.0.colors.input.menu.value]/color;listItemValueFontHoverColor/color;listItemValueFontSelectedColor/color;"
        data-vis-attrs8="group.menuItems/byindex;value(0-countSelectItems);label(0-countSelectItems);subLabel(0-countSelectItems);listIcon(0-countSelectItems)/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;listIconColor(0-countSelectItems)/color;imageColorSelectedTextField(0-countSelectItems)/color;">
        
        <div class="vis-widget materialdesign-widget materialdesign-select <%== this.data.attr('class') %>" style="width: 150px; height: 38px; overflow: visible;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.select.initialize(el, data) %>> 
        
        </div>
</script>

<script id="tplVis-materialdesign-Switch"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Switch" style="position: relative; text-align: initial; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget mdc-form-field materialdesign-switch vis-tpl-materialdesign-Switch " style="width: 80px; height: 50px; overflow: visible !important; left: 165px; top: 158px; position: absolute;" islocked="false"> <div class="mdc-switch mdc-switch--checked" style="margin-left: 10px; margin-right: 10px; --materialdesign-color-switch-on:#44739e; --materialdesign-color-switch-on-hover:#44739e; --materialdesign-color-switch-off:#FFFFFF; --materialdesign-color-switch-track:#000000; --materialdesign-color-switch-off-hover:#44739e;"> <div class="mdc-switch__track"></div> <div class="mdc-switch__thumb-underlay mdc-ripple-upgraded mdc-ripple-upgraded--unbounded" style="--mdc-ripple-fg-size:28px; --mdc-ripple-fg-scale:1.7142857142857142; --mdc-ripple-left:10px; --mdc-ripple-top:10px;"> <div class="mdc-switch__thumb"> <input class="mdc-switch__native-control" id="materialdesign-checkbox-switch-1es7mmcle" type="checkbox" role="switch"> </div> </div> </div> <label id="label" for="materialdesign-checkbox-switch-1es7mmcle" style="width: 100%; cursor: pointer; font-family: RobotoCondensed-Regular; font-size: 16px; color: rgb(68, 115, 158);">on</label> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="ctrl,bool,val"
        data-vis-name="Switch"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,switch;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,checkboxSwitch;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;readOnly/checkbox;toggleType[boolean]/select,boolean,value;valueOff;valueOn;stateIfNotTrueValue[on]/select,on,off;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,switch;debug/checkbox;"
        data-vis-attrs0="group.label;labelFalse/html;labelTrue/html;labelPosition[right]/select,left,right,off;labelClickActive[true]/checkbox;valueFontFamily[#mdwTheme:vis-materialdesign.0.fonts.switch.value]/fontname;valueFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.switch.value]/number;"
        data-vis-attrs1="group.color;colorSwitchThumb[#mdwTheme:vis-materialdesign.0.colors.switch.off]/color;colorSwitchTrack[#mdwTheme:vis-materialdesign.0.colors.switch.track]/color;colorSwitchTrue[#mdwTheme:vis-materialdesign.0.colors.switch.on]/color;colorSwitchHover[#mdwTheme:vis-materialdesign.0.colors.switch.off_hover]/color;colorSwitchHoverTrue[#mdwTheme:vis-materialdesign.0.colors.switch.on_hover]/color;labelColorFalse[#mdwTheme:vis-materialdesign.0.colors.switch.text_off]/color;labelColorTrue[#mdwTheme:vis-materialdesign.0.colors.switch.text_on]/color;"
        data-vis-attrs2="group.lock;lockEnabled/checkbox;autoLockAfter[10]/number;lockIcon/custom,materialdesign.viseditor.materialDesignIcons;lockIconTop[5]/slider,0,100,1;lockIconLeft[5]/slider,0,100,1;lockIconSize/number;lockIconColor[#mdwTheme:vis-materialdesign.0.colors.switch.lock_icon]/color;lockFilterGrayscale[30]/slider,0,100,1;">
        <%
            let init = vis.binds.materialdesign.switch.initialize(data);
        %>

        <div class="vis-widget materialdesign-widget <%== init.labelPosition %> materialdesign-switch <%== this.data.attr('class') %>" style="width:80px; height:50px; overflow: visible !important;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" isLocked="<%== myMdwHelper.getBooleanFromData(this.data.attr('lockEnabled'), false) %>" <%= (el) -> vis.binds.materialdesign.switch.handle(el, data) %>>
            <%== init.myswitch %>
        </div>
</script>

<script id="tplVis-materialdesign-CheckBox"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-CheckBox" style="position: relative; text-align: initial; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget mdc-form-field materialdesign-checkbox vis-tpl-materialdesign-Checkbox " style="width: 76px; height: 50px; overflow: visible !important; left: 49px; top: 27px; position: absolute; z-index: 4; pointer-events: none;" islocked="false" data-tmodified="true" data-zmodified="true"> <div class="mdc-checkbox mdc-checkbox--upgraded mdc-checkbox--selected mdc-ripple-upgraded mdc-ripple-upgraded--unbounded" style="--materialdesign-color-checkbox:#44739e; --materialdesign-color-checkbox-border:rgba(0, 0, 0, 0.54); --materialdesign-color-checkbox-hover:#44739e; --mdc-ripple-fg-size:24px; --mdc-ripple-fg-scale:1.6666666666666667; --mdc-ripple-left:8px; --mdc-ripple-top:8px;"> <input type="checkbox" class="mdc-checkbox__native-control" id="materialdesign-checkbox-1es7mspuu"> <div class="mdc-checkbox__background"> <svg class="mdc-checkbox__checkmark" viewBox="0 0 24 24"> <path class="mdc-checkbox__checkmark-path" fill="none" d="M1.73,12.91 8.1,19.28 22.79,4.59"></path> </svg> <div class="mdc-checkbox__mixedmark"></div> </div> <div class="mdc-checkbox__ripple"></div> </div> <label id="label" for="materialdesign-checkbox-1es7mspuu" style="width: 100%; cursor: pointer; font-family: RobotoCondensed-Regular; font-size: 16px; color: rgb(68, 115, 158);">on</label> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="ctrl,bool,val"
        data-vis-name="Checkbox"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,checkbox;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,checkboxSwitch;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;readOnly/checkbox;toggleType[boolean]/select,boolean,value;valueOff;valueOn;stateIfNotTrueValue[on]/select,on,off;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,checkbox;debug/checkbox;"
        data-vis-attrs0="group.label;labelFalse/html;labelTrue/html;labelPosition[right]/select,left,right,off;labelClickActive[true]/checkbox;valueFontFamily[#mdwTheme:vis-materialdesign.0.fonts.checkbox.value]/fontname;valueFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.checkbox.value]/number;"
        data-vis-attrs1="group.color;colorCheckBox[#mdwTheme:vis-materialdesign.0.colors.checkbox.on]/color;colorCheckBoxBorder[#mdwTheme:vis-materialdesign.0.colors.checkbox.border]/color;colorCheckBoxHover[#mdwTheme:vis-materialdesign.0.colors.checkbox.hover]/color;labelColorFalse[#mdwTheme:vis-materialdesign.0.colors.checkbox.text_off]/color;labelColorTrue[#mdwTheme:vis-materialdesign.0.colors.checkbox.text_on]/color;"
        data-vis-attrs2="group.lock;lockEnabled/checkbox;autoLockAfter[10]/number;lockIcon/custom,materialdesign.viseditor.materialDesignIcons;lockIconTop[5]/slider,0,100,1;lockIconLeft[5]/slider,0,100,1;lockIconSize/number;lockIconColor[#mdwTheme:vis-materialdesign.0.colors.checkbox.lock_icon]/color;lockFilterGrayscale[30]/slider,0,100,1;">
        <%
            let init = vis.binds.materialdesign.checkbox.initialize(data);
        %>

        <div class="vis-widget materialdesign-widget <%== init.labelPosition %> materialdesign-checkbox <%== this.data.attr('class') %>" style="width:76px; height:50px; overflow: visible !important;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" isLocked="<%== myMdwHelper.getBooleanFromData(this.data.attr('lockEnabled'), false) %>" <%= (el) -> vis.binds.materialdesign.checkbox.handle(el, data) %>>
            <%== init.checkbox %>
        </div>
</script>

<script id="tplVis-materialdesign-Vuetify-Slider"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Vuetify-Slider" style="position: relative; text-align: initial; margin-bottom: -40px; padding: 0px !important; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-slider-vertical vis-tpl-materialdesign-Slider " style="width: 135px; height: 110px; overflow: visible !important; display: flex; align-items: center; left: 92px; top: 66px; position: absolute; --vue-slider-thumb-label-font-color:#FFFFFF; --vue-slider-thumb-label-font-size:12px; --vue-slider-tick-before-color:#44739e; --vue-slider-tick-after-color:#44739e; --vue-slider-tick-color:#808080; --vue-slider-tick-font-family:RobotoCondensed-LightItalic; --vue-slider-tick-font-size:14px; --vue-text-field-label-before-color:#44739e; --vue-text-field-label-font-family:RobotoCondensed-Regular; --vue-text-field-label-font-size:16px; --vue-text-field-label-width: inherit;" data-oid-working=""> <div class="materialdesign-vuetifySlider" style="width: 100%; height: 100%;"><div class="v-row" style="align-items: center;"><div class="v-input v-input--hide-details v-input--is-label-active v-input--is-dirty theme--light v-input__slider"><div class="v-input__control"><div class="v-input__slot"><div class="v-slider v-slider--horizontal theme--light"><input value="54" id="input-28" readonly="readonly" tabindex="-1" always-dirty=""><div class="v-slider__track-container"><div class="v-slider__track-background" style="right: 0px; width: calc(46%); background-color: rgba(161, 161, 161, 0.26); border-color: rgba(161, 161, 161, 0.26);"></div><div class="v-slider__track-fill" style="left: 0px; right: auto; width: 54%; background-color: rgb(68, 115, 158); border-color: rgb(68, 115, 158);"></div></div><div role="slider" tabindex="0" aria-valuemin="0" aria-valuemax="100" aria-valuenow="54" aria-readonly="false" aria-orientation="horizontal" always-dirty="" class="v-slider__thumb-container v-slider__thumb-container--show-label" style="left: 54%; color: rgb(68, 115, 158); caret-color: rgb(68, 115, 158); height: 0px;"><div class="v-slider__thumb" style="background-color: rgb(68, 115, 158); border-color: rgb(68, 115, 158);"></div><div class="v-slider__thumb-label-container"><div class="v-slider__thumb-label" style="height: 32px; width: 32px; transform: translateY(-20%) translateY(-12px) translateX(-50%) rotate(45deg); background-color: rgb(68, 115, 158); border-color: rgb(68, 115, 158);"><div><span>54</span></div></div></div></div></div></div></div></div></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="ctrl,slider,dimmer"
        data-vis-name="Slider"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,slider;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,slider;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;oid-working;orientation[horizontal]/select,horizontal,vertical;reverseSlider/checkbox;knobSize[knobSmall]/select,knobSmall,knobMedium,knobBig;readOnly/checkbox;min;max;step[1];vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,slider;debug/checkbox;"
        data-vis-attrs0="group.tickLayout;showTicks[no]/select,no,yes,always;tickSize/number;tickLabels;tickTextColor[#mdwTheme:vis-materialdesign.0.colors.slider.tick]/color;tickFontFamily[#mdwTheme:vis-materialdesign.0.fonts.slider.ticks]/fontname;tickFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.slider.ticks]/number;tickColorBefore[#mdwTheme:vis-materialdesign.0.colors.slider.tick_before]/color;tickColorAfter[#mdwTheme:vis-materialdesign.0.colors.slider.tick_after]/color;"
        data-vis-attrs1="group.color;colorBeforeThumb[#mdwTheme:vis-materialdesign.0.colors.slider.control_before]/color;colorThumb[#mdwTheme:vis-materialdesign.0.colors.slider.control]/color;colorAfterThumb[#mdwTheme:vis-materialdesign.0.colors.slider.control_behind]/color;"
        data-vis-attrs2="group.label;prepandText;prepandTextWidth/number;prepandTextColor[#mdwTheme:vis-materialdesign.0.colors.slider.text_prepand]/color;prepandTextFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.slider.prepand]/number;prepandTextFontFamily[#mdwTheme:vis-materialdesign.0.fonts.slider.prepand]/fontname;showValueLabel[true]/checkbox;valueLabelStyle[sliderValue]/select,sliderPercent,sliderValue;valueLabelUnit;valueFontFamily[#mdwTheme:vis-materialdesign.0.fonts.slider.value]/fontname;valueFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.slider.value]/number;valueLabelColor[#mdwTheme:vis-materialdesign.0.colors.slider.text]/color;valueLabelMin/html;valueLabelMax/html;valueLessThan/number;textForValueLessThan/html;valueGreaterThan/number;textForValueGreaterThan/html;valueLabelWidth[50]/slider,0,200,1;"
        data-vis-attrs3="group.thumbLabelLayout;showThumbLabel[no]/select,no,yes,always;thumbSize/number;thumbBackgroundColor[#mdwTheme:vis-materialdesign.0.colors.slider.control_background]/color;thumbFontColor[#mdwTheme:vis-materialdesign.0.colors.slider.control_text]/color;thumbFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.slider.control]/number;thumbFontFamily[#mdwTheme:vis-materialdesign.0.fonts.slider.control]/fontname;useLabelRules/checkbox;">

        <div class="vis-widget materialdesign-widget materialdesign-slider-vertical <%== this.data.attr('class') %>" style="width: 200px; height: 100px; overflow:visible !important; display: flex; align-items: center;" id="<%= this.data.attr('wid') %>" data-oid-working="<%= this.data.attr('oid-working') %>" <%= (el) -> vis.binds.materialdesign.slider.vuetifySlider(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Slider-Round"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Slider-Round" style="position: relative; text-align: initial; margin-bottom: -10px; padding: 0px !important; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-slider-round vis-tpl-materialdesign-Slider Round " style="width: 100px; height: 100px; left: 213px; top: 121px; position: absolute; z-index: 4;" data-oid-working="" data-tmodified="true" data-zmodified="true"> <round-slider class="materialdesign-round-slider-element" value="54" max="100" min="0" step="1" startangle="135" arclength="270" handlesize="6" handlezoom="1.5" style="--round-slider-path-width:3; background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%; --round-slider-path-color:rgba(161, 161, 161, 0.26); --round-slider-bar-color:#44739e; --round-slider-handle-color:#44739e;"> </round-slider> <label class="labelValue" style="position: absolute; width: 100%; text-align: center; display: flex; justify-content: center; pointer-events: none; top: 40%; color: #44739e; font-family: RobotoCondensed-Light; font-size: 16px;">54 %</label> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="ctrl,slider,dimmer"
        data-vis-name="Slider Round"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,sliderRound;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,slider;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;oid-working;min;max;step[1];readOnly/checkbox;startAngle[135]/slider,0,360,1;arcLength[270]/slider,0,360,1;sliderWidth/number;handleSize/number;handleZoom[1.5]/slider,0,10,0.1;rtl/checkbox;vibrateOnMobilDevices[50]/number;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,roundslider;debug/checkbox;"
        data-vis-attrs0="group.color;colorSliderBg[#mdwTheme:vis-materialdesign.0.colors.slider.background]/color;colorBeforeThumb[#mdwTheme:vis-materialdesign.0.colors.slider.control_before]/color;colorThumb[#mdwTheme:vis-materialdesign.0.colors.slider.control]/color;colorAfterThumb[#mdwTheme:vis-materialdesign.0.colors.slider.control_behind]/color;valueLabelColor[#mdwTheme:vis-materialdesign.0.colors.slider.text]/color;"
        data-vis-attrs1="group.label;showValueLabel[true]/checkbox;valueLabelVerticalPosition/slider,0,100,1;valueLabelStyle[sliderValue]/select,sliderPercent,sliderValue;valueLabelUnit;valueFontFamily[#mdwTheme:vis-materialdesign.0.fonts.slider.value]/fontname;valueFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.slider.value]/number;valueLabelMin/html;valueLabelMax/html;valueLessThan/number;textForValueLessThan/html;valueGreaterThan/number;textForValueGreaterThan/html;">
        
        <div class="vis-widget materialdesign-widget materialdesign-slider-round <%== this.data.attr('class') %>" style="width: 100px; height: 100px;" id="<%= this.data.attr('wid') %>" data-oid-working="<%= this.data.attr('oid-working') %>" <%= (el) -> vis.binds.materialdesign.roundslider.initialize(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Progress"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Progress" style="position: relative; text-align: initial; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-progress vis-tpl-materialdesign-Progress " style="width: 100px; height: 30px; left: 105px; top: 68px; position: absolute; --vue-progress-progress-color:#44739e; --vue-progress-progress-color-background:rgba(161, 161, 161, 0.26); --vue-progress-progress-color-text:#44739e; --vue-progress-progress-color-text-size:12px; --vue-progress-progress-color-text-font-family:RobotoCondensed-Light; --vue-progress-progress-color-text-align:end; z-index: 4;" data-tmodified="true" data-zmodified="true"> <div class="materialdesign-vuetify-progress" style="width: 100%; height: 100%; display: flex; justify-content: center;"><div role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="41" class="v-progress-linear v-progress-linear--rounded theme--light" style="height: 30px;"><div class="v-progress-linear__background primary" style="opacity: 0.3; left: 41%; width: 59%;"></div><div class="v-progress-linear__buffer"></div><div class="v-progress-linear__determinate primary" style="width: 41%;"></div><div class="v-progress-linear__content"><div class="materialdesign-vuetify-progress-value-label" style="width: 100%; margin-left: 10px; margin-right: 10px;">41 %</div></div></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="val,progress"
        data-vis-name="Progress"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,progress;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,progress;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;min;max;reverse/checkbox;invertValue/checkbox;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,progress,linear;debug/checkbox;"
        data-vis-attrs0="group.layout;progressRounded[true]/checkbox;progressIndeterminate/checkbox;progressRotate[noRotate]/select,noRotate,yesRotate;"
        data-vis-attrs1="group.layoutStriped;progressStriped/checkbox;progressStripedColor/color;stripAngle[135]/slider,0,360,1;stipWidth1[25]/number,0,100,1;stipWidth2[50]/number,0,100,1;stipWidth3[75]/number,0,100,1;"
        data-vis-attrs2="group.color;colorProgressBackground[#mdwTheme:vis-materialdesign.0.colors.progress.track_background]/color;colorProgress[#mdwTheme:vis-materialdesign.0.colors.progress.track]/color;colorOneCondition/number;colorOne[#mdwTheme:vis-materialdesign.0.colors.progress.track_condition1]/color;colorTwoCondition/number;colorTwo[#mdwTheme:vis-materialdesign.0.colors.progress.track_condition2]/color;"
        data-vis-attrs3="group.label;showValueLabel[true]/checkbox;valueLabelStyle[progressPercent]/select,progressPercent,progressValue,progressCustom;valueLabelUnit;valueMaxDecimals/number;valueLabelCustom/html;textColor[#mdwTheme:vis-materialdesign.0.colors.progress.text]/color;textFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.progress.text]/number;textFontFamily[#mdwTheme:vis-materialdesign.0.fonts.progress.text]/fontname;textAlign[end]/select,start,center,end;">

        <div class="vis-widget materialdesign-widget materialdesign-progress <%== this.data.attr('class') %>" style="width: 100px; height: 30px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.progress.linear(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Progress-Circular"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Progress-Circular" style="position: relative; text-align: initial; display: flex; justify-content:center;"><div class="vis-widget_prev materialdesign-widget materialdesign-progress vis-tpl-materialdesign-Progress Circular " style="width: 110px; height: 63px; left: 500px; top: 110px; text-align: center; font-size: 14px; font-weight: bold; position: absolute;" > <div class="materialdesign-vuetify-progress-circular" style="width: 100%; height: 100%; display: flex; justify-content: center;"><div role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="74" class="v-progress-circular" style="height: 60px; width: 60px;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="21.428571428571427 21.428571428571427 42.857142857142854 42.857142857142854" style="transform: rotate(90deg);"><circle fill="transparent" cx="42.857142857142854" cy="42.857142857142854" r="20" stroke-width="2.8571428571428568" stroke-dasharray="125.664" stroke-dashoffset="0" class="v-progress-circular__underlay"></circle><circle fill="transparent" cx="42.857142857142854" cy="42.857142857142854" r="20" stroke-width="2.8571428571428568" stroke-dasharray="125.664" stroke-dashoffset="32.67256359733385px" class="v-progress-circular__overlay"></circle></svg><div class="v-progress-circular__info"><div class="materialdesign-vuetify-progress-circular-value-label">74 %</div></div></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'data-vis-prev='<div id="prev_tplVis-materialdesign-Progress-Circular" style="position: relative; text-align: initial; padding: 4px "><div class="vis-widget_prev materialdesign-widget materialdesign-progress vis-tpl-materialdesign-Progress Circular " style="width: 70px; height: 70px; left: 308px; top: 321px; position: absolute;" > <div class="materialdesign-vuetify-progress-circular" style="width: 100%; height: 100%; display: flex; justify-content: center;"> <v-progress-circular :value="value" size="70" width="4" rotate="90"> <div class="materialdesign-vuetify-progress-circular-value-label"></div> </v-progress-circular> </div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="val,progress"
        data-vis-name="Progress Circular"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,progressCircular;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,progress;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;min;max;progressIndeterminate/checkbox;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,progress,circular;debug/checkbox;"
        data-vis-attrs0="group.layout;progressCircularSize/number;progressCircularWidth/number;progressCircularRotate/number;"
        data-vis-attrs1="group.color;colorProgressBackground[#mdwTheme:vis-materialdesign.0.colors.progress.track_background]/color;colorProgress[#mdwTheme:vis-materialdesign.0.colors.progress.track]/color;innerColor[#mdwTheme:vis-materialdesign.0.colors.progress.circular_background]/color;colorOneCondition/number;colorOne[#mdwTheme:vis-materialdesign.0.colors.progress.track_condition1]/color;colorTwoCondition/number;colorTwo[#mdwTheme:vis-materialdesign.0.colors.progress.track_condition2]/color;"
        data-vis-attrs2="group.label;showValueLabel[true]/checkbox;valueLabelStyle[progressPercent]/select,progressPercent,progressValue,progressCustom;valueLabelUnit;valueMaxDecimals/number;valueLabelCustom/html;textColor[#mdwTheme:vis-materialdesign.0.colors.progress.text]/color;textFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.progress.text]/number;textFontFamily[#mdwTheme:vis-materialdesign.0.fonts.progress.text]/fontname;">

        <div class="vis-widget materialdesign-widget materialdesign-progress <%== this.data.attr('class') %>" style="width: 70px; height: 70px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.progress.circular(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Card"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Card" style="position: relative; text-align: initial; padding: 4px "><div class="vis-widget_prev materialdesign-html-card mdc-card vis-tpl-materialdesign-HTML Card " style="width: 100px; height: 131px; left: 562px; top: 439px; font-size: xx-large; position: absolute; z-index: 4;" data-tmodified="true" data-zmodified="true"> <div class="mdc-card__media mdc-card__media--16-9" style="background-image: url(/vis/widgets/materialdesign/img/preview.jpg);"></div><div class="materialdesign-html-card card-title-section" style=""><div class="materialdesign-html-card card-title mdc-typography mdc-typography--headline6" style="">Title</div><div class="materialdesign-html-card card-subtitle mdc-typography mdc-typography--subtitle2" style="">Subtitle</div></div><div class="materialdesign-html-card card-text-section"><div class=".materialdesign-html-card mdc-typography mdc-typography--body2"></div></div> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="static"
        data-vis-name="HTML Card"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,card;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,card;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;listItemDataMethod[inputPerEditor]/select,inputPerEditor,jsonStringObject;json_string_oid/id;cardLayout[Basic]/select,Basic,BasicHeader,BasicHeaderOverlay,Horizontal;cardStyle[default]/select,default,outlined;showScrollbar[true]/checkbox;showTitle[true]/checkbox;title/html;titleLayout[#mdwTheme:vis-materialdesign.0.fontSizes.card.title]/auto,headline1,headline2,headline3,headline4,headline5,headline6,subtitle1,subtitle2,body1,body2,caption,button,overline,xx-small,x-small,small,medium,large,x-large,xx-large,smaller,larger;titleFontFamily[#mdwTheme:vis-materialdesign.0.fonts.card.title]/fontname;showSubTitle[true]/checkbox;subtitle/html;labelSubTextHeight/number;subtitleLayout[#mdwTheme:vis-materialdesign.0.fontSizes.card.subTitle]/auto,headline1,headline2,headline3,headline4,headline5,headline6,subtitle1,subtitle2,body1,body2,caption,button,overline,xx-small,x-small,small,medium,large,x-large,xx-large,smaller,larger;subTitleFontFamily[#mdwTheme:vis-materialdesign.0.fonts.card.subTitle]/fontname;showText[true]/checkbox;html/text;textFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.card.text]/auto,headline1,headline2,headline3,headline4,headline5,headline6,subtitle1,subtitle2,body1,body2,caption,button,overline,xx-small,x-small,small,medium,large,x-large,xx-large,smaller,larger;textFontFamily[#mdwTheme:vis-materialdesign.0.fonts.card.text]/fontname;labelTextHeight/number;debug/checkbox;"
        data-vis-attrs0="group.image;image/image;refreshOnWakeUp/checkbox;refreshOnViewChange/checkbox;refresh_oid/id;refresh_oid_delay[100]/slider,0,180000,100;refresh_animation_duration[150]/slider,0,180000,100;"
        data-vis-attrs1="group.color;colorBackground[#mdwTheme:vis-materialdesign.0.colors.card.background]/color;colorTitleSectionBackground[#mdwTheme:vis-materialdesign.0.colors.card.background_title]/color;colorTextSectionBackground[#mdwTheme:vis-materialdesign.0.colors.card.background_body]/color;colorTitle[#mdwTheme:vis-materialdesign.0.colors.card.title]/color;colorSubtitle[#mdwTheme:vis-materialdesign.0.colors.card.subTitle]/color;colorBody[#mdwTheme:vis-materialdesign.0.colors.card.text]/color;"
        data-vis-attrs2="group.controlCard;clickType[none]/select,none,card,image,text;controlType[link]/select,link,state;href/url;state_oid/id;state_value;">
        
        <%
            let initCard = vis.binds.materialdesign.card.initialize(data);
        %>

        <div class="vis-widget materialdesign-widget materialdesign-html-card <%== this.data.attr('class') %>" style="width: 200px; height: 130px;" id="<%= this.data.attr('wid') %>">
            <div class="materialdesign-html-card-container mdc-card <%= initCard.style %>" style="margin: 3px; width: calc(100% - 6px); height: calc(100% - 6px);" <%= (el) -> vis.binds.materialdesign.card.handler(el, data) %>>          
                <%== initCard.card %>
            </div>
        </div>
</script>

<script id="tplVis-materialdesign-TopAppBar-Navigation"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/materialdesign/img/prev_top_app_bar_nav_drawer.png"></img>'
        data-vis-set="materialdesign"
        data-vis-type="stateful,container,view"
        data-vis-name="Top App Bar"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,topAppBar;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,topAppBar;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;showIndexNum/checkbox;navItemCount[1]/number;navDefaultValue[0]/number,0;navDisableDefaultValue/checkbox;selectedItemName_oid/id;debug/checkbox;"
        data-vis-attrs0="group.topAppBarLayout;topAppBarLayout[standard]/select,standard,dense,short;titleTopAppBar[Material Design Widgets]/html;colorTopAppBarTitle[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.title]/color;colorTopAppBarBackground[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.background]/color;titleFont[#mdwTheme:vis-materialdesign.0.fonts.top_app_bar.title]/fontname;titleFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.top_app_bar.title]/number;topAppBarIconColor/color;showSelectedItemAsTitle[true]/checkbox;showSelectedItemIconInTitle[true]/checkbox;iconTitleHeight/dimension;topAppBarZ_index[998]/number;vibrateTopAppBarOnMobilDevices[50]/number;"
        data-vis-attrs1="group.drawerLayout;drawerLayout[modal]/select,modal,permanent,auto;permanentIfResolutionHigherThan[800]/number;drawerItemLayout[standard]/select,standard,backdrop;listItemDividerStyle[standard]/select,standard,padded,inset;drawerWidth/number;z_index[1000]/number;showHeader[true]/checkbox;headerLabel[<h4 class='mdc-drawer__title'>Material Design Widgets</h4><h6 class='mdc-drawer__subtitle'>by Scrounger</h6>]/html;showLabels[true]/checkbox;drawerIconHeight/number;listItemAlignment[left]/select,left,center,right;listItemTextFont[#mdwTheme:vis-materialdesign.0.fonts.top_app_bar.item]/fontname;listItemTextFontDisabled[#mdwTheme:vis-materialdesign.0.fonts.top_app_bar.item_disabled]/fontname;listItemTextSize[#mdwTheme:vis-materialdesign.0.fontSizes.top_app_bar.item]/auto,headline1,headline2,headline3,headline4,headline5,headline6,subtitle1,subtitle2,body1,body2,caption,button,overline,xx-small,x-small,small,medium,large,x-large,xx-large,smaller,larger;listItemHeaderFont[#mdwTheme:vis-materialdesign.0.fonts.top_app_bar.header]/fontname;listItemHeaderTextSize[#mdwTheme:vis-materialdesign.0.fontSizes.top_app_bar.header]/auto,headline1,headline2,headline3,headline4,headline5,headline6,subtitle1,subtitle2,body1,body2,caption,button,overline,xx-small,x-small,small,medium,large,x-large,xx-large,smaller,larger;backdropLabelBackgroundHeight[30]/slider,0,100,1;vibrateDrawerOnMobilDevices[0]/number;"
        data-vis-attrs2="group.drawerColors;colorDrawerBackground[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.menu_background]/color;colorDrawerItemBackground[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.item_background]/color;colorDrawerHeaderBackground[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.header_background]/color;colorListItemHover[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.item_hover]/color;colorListItemSelected[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.item_selected]/color;colorListItemText[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.item_text]/color;colorListItemTextSelected[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.item_text_selected]/color;colorListItemTextDisabled[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.item_text_disabled]/color;colorListItemIconDisabled[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.item_icon_disabled]/color;colorListItemHeaders[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.header_text]/color;colorListItemDivider[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.item_divider]/color;colorSubItemToggleIcon[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.item_icon_toggle]/color;colorDrawerbackdropLabelBackground[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.item_backdrop_background_text_off]/color;colorDrawerbackdropLabelBackgroundActive[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.item_backdrop_background_text_on]/color;"
        data-vis-attrs3="group.drawerSubItemsLayout;drawerSubItemLayout[standard]/select,standard,backdrop;listSubItemDividerStyle[standard]/select,standard,padded,inset;colorListSubItemDivider[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.subItem_divider]/color;drawerSubItemIconHeight/number;listSubItemAlignment[left]/select,left,center,right;listItemSubTextFont[#mdwTheme:vis-materialdesign.0.fonts.top_app_bar.subItem]/fontname;listSubItemTextSize[#mdwTheme:vis-materialdesign.0.fontSizes.top_app_bar.subItem]/auto,headline1,headline2,headline3,headline4,headline5,headline6,subtitle1,subtitle2,body1,body2,caption,button,overline,xx-small,x-small,small,medium,large,x-large,xx-large,smaller,larger;listItemSubTextFontDisabled[#mdwTheme:vis-materialdesign.0.fonts.top_app_bar.subItem_disabled]/fontname;showSubItemsLabels[true]/checkbox;backdropSubLabelBackgroundHeight/slider,0,100,1;"
        data-vis-attrs4="group.drawerSubItemsColors;colorDrawerSubBackground[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.subItem_background_all]/color;colorDrawerSubItemBackground[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.subItem_background]/color;colorListSubItemHover[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.subItem_hover]/color;colorListSubItemSelected[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.subItem_selected]/color;colorListSubItemText[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.subItem_text]/color;colorListSubItemTextSelected[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.subItem_text_selected]/color;colorDrawerbackdropSubLabelBackground[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.subItem_backdrop_background_text_off]/color;colorDrawerbackdropSubLabelBackgroundActive[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.subItem_backdrop_background_text_on]/color;"
        data-vis-attrs5="group.drawerItemsData;drawerItemsDataMethod[inputPerEditor]/select,inputPerEditor,jsonStringObject;drawerItemsJsonString/html;"
        data-vis-attrs6="group.drawerItems/byindex;menuId(0-navItemCount);labels(0-navItemCount)/html;headers(0-navItemCount)/html;dividers(0-navItemCount)/checkbox;iconDrawer(0-navItemCount)[/vis/widgets/materialdesign/img/IoBroker_Logo.png]/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;iconDrawerColor(0-navItemCount)[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.item_icon]/color;subIconDrawerColor(0-navItemCount)[#mdwTheme:vis-materialdesign.0.colors.top_app_bar.subItem_icon]/color;setValueOnMenuToggleClick(0-navItemCount)/checkbox;submenus(0-navItemCount)/html;permissionGroupSelector(0-navItemCount)/custom,materialdesign.viseditor.permissionGroupSelector;permissionVisibility(0-navItemCount)[hide]/select,hide,disabled;">
        
        <div class="vis-widget materialdesign-widget materialdesign-topAppBar-with-Drawer" style="width:400px; height: 270px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.topappbarnav(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-List"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/materialdesign/img/prev_list.png"></img>'
        data-vis-set="materialdesign"
        data-vis-type="val,ctrl,state,navigation,static,bool"
        data-vis-name="List"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,list;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,list;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;vibrateOnMobilDevices[50]/number;debug/checkbox;"
        data-vis-attrs0="group.listLayout;listType[text]/select,text,buttonState,buttonToggle,buttonToggle_readonly,buttonNav,buttonLink,switch,switch_readonly,checkbox,checkbox_readonly;listItemDividerStyle[standard]/select,standard,padded,inset;listLayout[standard]/select,standard,card,cardOutlined;showScrollbar[true]/checkbox;vibrateOnMobilDevices[50]/number;"
        data-vis-attrs1="group.listItemData;listItemDataMethod[inputPerEditor]/select,inputPerEditor,jsonStringObject;countListItems[1]/number;json_string_oid/id;"
        data-vis-attrs2="group.listItemLayout;listItemHeight/number;listImageHeight/number;listItemAlignment[left]/select,left,center,right;distanceBetweenTextAndImage/number;rightTextWidth/number;"        
        data-vis-attrs3="group.color;listBackground[#mdwTheme:vis-materialdesign.0.colors.list.background]/color;listItemBackground[#mdwTheme:vis-materialdesign.0.colors.list.background_off]/color;listItemBackgroundActive[#mdwTheme:vis-materialdesign.0.colors.list.background_on]/color;colorSwitchThumb[#mdwTheme:vis-materialdesign.0.colors.switch.off]/color;colorSwitchTrack[#mdwTheme:vis-materialdesign.0.colors.switch.track]/color;colorSwitchTrue[#mdwTheme:vis-materialdesign.0.colors.switch.on]/color;colorSwitchHover[#mdwTheme:vis-materialdesign.0.colors.switch.off_hover]/color;colorCheckBox[#mdwTheme:vis-materialdesign.0.colors.checkbox.on]/color;colorListItemHover[#mdwTheme:vis-materialdesign.0.colors.list.hover]/color;colorListItemSelected[#mdwTheme:vis-materialdesign.0.colors.list.selected]/color;colorListItemText[#mdwTheme:vis-materialdesign.0.colors.list.text]/color;colorListItemTextSecondary[#mdwTheme:vis-materialdesign.0.colors.list.subText]/color;colorListItemTextRight[#mdwTheme:vis-materialdesign.0.colors.list.text_right]/color;colorListItemTextSecondaryRight[{mode:vis-materialdesign.0.colors.darkTheme§light:vis-materialdesign.0.colors.light.list.subText_right§dark:vis-materialdesign.0.colors.dark.list.subText_right§ mode === ^true^ ? dark : light}]/color;colorListItemHeaders[#mdwTheme:vis-materialdesign.0.colors.list.header]/color;colorListItemDivider[#mdwTheme:vis-materialdesign.0.colors.list.divider]/color;"
        data-vis-attrs4="group.font;headerFontFamily[#mdwTheme:vis-materialdesign.0.fonts.list.header]/fontname;listItemFont[#mdwTheme:vis-materialdesign.0.fonts.list.text]/fontname;listItemSubFont[#mdwTheme:vis-materialdesign.0.fonts.list.subText]/fontname;listItemRightFont[#mdwTheme:vis-materialdesign.0.fonts.list.text_right]/fontname;listItemSubRightFont[#mdwTheme:vis-materialdesign.0.fonts.list.subText_right]/fontname;"
        data-vis-attrs5="group.fontSize;listItemTextSize[#mdwTheme:vis-materialdesign.0.fontSizes.list.text]/auto,headline1,headline2,headline3,headline4,headline5,headline6,subtitle1,subtitle2,body1,body2,caption,button,overline,xx-small,x-small,small,medium,large,x-large,xx-large,smaller,larger;listItemSubTextSize[#mdwTheme:vis-materialdesign.0.fontSizes.list.subText]/auto,headline1,headline2,headline3,headline4,headline5,headline6,subtitle1,subtitle2,body1,body2,caption,button,overline,xx-small,x-small,small,medium,large,x-large,xx-large,smaller,larger;listItemTextRightSize[#mdwTheme:vis-materialdesign.0.fontSizes.list.text_right]/auto,headline1,headline2,headline3,headline4,headline5,headline6,subtitle1,subtitle2,body1,body2,caption,button,overline,xx-small,x-small,small,medium,large,x-large,xx-large,smaller,larger;listItemSubTextRightSize[#mdwTheme:vis-materialdesign.0.fontSizes.list.subText_right]/auto,headline1,headline2,headline3,headline4,headline5,headline6,subtitle1,subtitle2,body1,body2,caption,button,overline,xx-small,x-small,small,medium,large,x-large,xx-large,smaller,larger;listItemHeaderTextSize[#mdwTheme:vis-materialdesign.0.fontSizes.list.header]/auto,headline1,headline2,headline3,headline4,headline5,headline6,subtitle1,subtitle2,body1,body2,caption,button,overline,xx-small,x-small,small,medium,large,x-large,xx-large,smaller,larger;"
        data-vis-attrs6="group.rows/byindex;oid(0-countListItems);groupHeader(0-countListItems)/html;listImage(0-countListItems)/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;listImageColor(0-countListItems)[#mdwTheme:vis-materialdesign.0.colors.list.icon_off]/color;listImageActive(0-countListItems)/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;listImageActiveColor(0-countListItems)[#mdwTheme:vis-materialdesign.0.colors.list.icon_on]/color;label(0-countListItems)/html;subLabel(0-countListItems)/html;rightLabel(0-countListItems)/html;rightSubLabel(0-countListItems)/html;dividers(0-countListItems)/checkbox;listTypeButtonStateValue(0-countListItems);listTypeButtonNav(0-countListItems)/views;listTypeButtonLink(0-countListItems)/url;listOverflow(0-countListItems)/checkbox;">
       
        <div class="vis-widget materialdesign-widget materialdesign-list" style="width:400px; height: 270px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.list(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Icon-List"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/materialdesign/img/prev_iconlist.png"></img>'
        data-vis-set="materialdesign"
        data-vis-type="val,ctrl,state,navigation,static,bool"
        data-vis-name="Icon List"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,iconList;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,iconList;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;wrapItems[true]/checkbox;maxItemsperRow/number;itemGaps/number;vibrateOnMobilDevices[50]/number;debug/checkbox;"
        data-vis-attrs0="group.listItemLayout;listLayout[standard]/select,standard,card,cardOutlined;containerBackgroundColor[#mdwTheme:vis-materialdesign.0.colors.icon_list.background]/color;itemBackgroundColor[#mdwTheme:vis-materialdesign.0.colors.icon_list.background_items]/color;itemLayout[vertical]/select,vertical,horizontal;iconItemMinWidth/number;iconItemMinHeight/number;iconHeight/number;horizontalIconContainerWidth/number;verticalIconContainerHeight/number;buttonLayout[round]/select,round,square,full;buttonHeight/number;buttonColorPress[#mdwTheme:vis-materialdesign.0.colors.icon_list.button_hover]/color;labelFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.icon_list.text]/number;labelFontFamily[#mdwTheme:vis-materialdesign.0.fonts.icon_list.text]/fontname;labelFontColor[#mdwTheme:vis-materialdesign.0.colors.icon_list.text]/color;subLabelFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.icon_list.subText]/number;subLabelFontFamily[#mdwTheme:vis-materialdesign.0.fonts.icon_list.subText]/fontname;subLabelFontColor[#mdwTheme:vis-materialdesign.0.colors.icon_list.subText]/color;valueFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.icon_list.value]/number;valueFontFamily[#mdwTheme:vis-materialdesign.0.fonts.icon_list.value]/fontname;valueFontColor[#mdwTheme:vis-materialdesign.0.colors.icon_list.value_text]/color;"
        data-vis-attrs1="group.listItemCardBackground;cardUse/checkbox;title/html;titleLayout[#mdwTheme:vis-materialdesign.0.fontSizes.card.title]/auto,headline1,headline2,headline3,headline4,headline5,headline6,subtitle1,subtitle2,body1,body2,caption,button,overline,xx-small,x-small,small,medium,large,x-large,xx-large,smaller,larger;showScrollbar[true]/checkbox;borderDistance/number;titleFontFamily[#mdwTheme:vis-materialdesign.0.fonts.card.title]/fontname;colorBackground[#mdwTheme:vis-materialdesign.0.colors.card.background]/color;colorTitleSectionBackground[#mdwTheme:vis-materialdesign.0.colors.card.background_title]/color;colorTextSectionBackground[#mdwTheme:vis-materialdesign.0.colors.card.background_body]/color;colorTitle[#mdwTheme:vis-materialdesign.0.colors.card.title]/color;"
        data-vis-attrs2="group.lock;autoLockAfter[10]/number;lockIcon/custom,materialdesign.viseditor.materialDesignIcons;lockIconTop[5]/slider,0,100,1;lockIconLeft[5]/slider,0,100,1;lockIconSize/number;lockIconColor[#mdwTheme:vis-materialdesign.0.colors.icon_list.lock_icon]/color;lockFilterGrayscale[30]/slider,0,100,1;lockApplyOnlyOnImage[true]/checkbox;"
        data-vis-attrs3="group.listItemData;listItemDataMethod[inputPerEditor]/select,inputPerEditor,jsonStringObject;countListItems[1]/number;json_string_oid/id;"
        data-vis-attrs4="group.rows/byindex;listType(0-countListItems)[text]/select,text,buttonState,buttonToggle,buttonToggleValueTrue,buttonToggleValueFalse,buttonNav,buttonLink;oid(0-countListItems);usePercentOfRow(0-countListItems)/number,0,100,1;listTypeButtonStateValue(0-countListItems);typeButtonToggleValueTrue(0-countListItems);typeButtonToggleValueFalse(0-countListItems);listTypeButtonNav(0-countListItems)/views;listTypeButtonLink(0-countListItems)/url;lockEnabled(0-countListItems)/checkbox;readOnly(0-countListItems)/checkbox,itemBackgroundColor(0-countListItems)/color;label(0-countListItems)/html;subLabel(0-countListItems)/html;showValueLabel(0-countListItems)[true]/checkbox;valueAppendix(0-countListItems)/html;buttonBgColor(0-countListItems)[#mdwTheme:vis-materialdesign.0.colors.icon_list.button]/color;buttonBgColorActive(0-countListItems)/color;listImage(0-countListItems)/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;listImageColor(0-countListItems)[#mdwTheme:vis-materialdesign.0.colors.icon_list.icon]/color;listImageActive(0-countListItems)/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;listImageActiveColor(0-countListItems)/color;statusBarColor(0-countListItems)/color;statusBarText(0-countListItems)/html;visibilityOid(0-countListItems)/id;visibilityCondition(0-countListItems)[==]/custom,materialdesign.viseditor.visibilityCondition;visibilityConditionValue(0-countListItems);">

        <div class="vis-widget materialdesign-widget materialdesign-icon-list <%== this.data.attr('class') %>" style="width:400px; height: 270px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.iconlist(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Chart-Bar"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/materialdesign/img/bar_chart.png"></img>'
        data-vis-set="materialdesign"
        data-vis-type="state,chart"
        data-vis-name="Bar Chart"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,barChart;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,barChart;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;chartDataMethod[inputPerEditor]/select,inputPerEditor,jsonStringObject;dataCount[1]/number;oid;chartType[vertical]/select,vertical,horizontal;chartPaddingTop/number;chartPaddingLeft/number;chartPaddingRight/number;chartPaddingBottom/number;debug/checkbox;"
        data-vis-attrs0="group.chartLayout;backgroundColor[#mdwTheme:vis-materialdesign.0.colors.charts.background]/color;chartAreaBackgroundColor[#mdwTheme:vis-materialdesign.0.colors.charts.background_chart]/color;disableHoverEffects/checkbox;axisValueMin/number;axisValueMax/number;axisValueStepSize/number;axisValueMinDigits/number;axisValueMaxDigits/number;axisValueAppendText;axisLabelAutoSkip/checkbox;axisMaxLabel/number;animationDuration/number;"
        data-vis-attrs1="group.listItemCardBackground;cardUse/checkbox;title/html;titleLayout[#mdwTheme:vis-materialdesign.0.fontSizes.card.title]/auto,headline1,headline2,headline3,headline4,headline5,headline6,subtitle1,subtitle2,body1,body2,caption,button,overline,xx-small,x-small,small,medium,large,x-large,xx-large,smaller,larger;borderDistance/number;titleFontFamily[#mdwTheme:vis-materialdesign.0.fonts.card.title]/fontname;colorBackground[#mdwTheme:vis-materialdesign.0.colors.card.background]/color;colorTitleSectionBackground[#mdwTheme:vis-materialdesign.0.colors.card.background_title]/color;colorTextSectionBackground[#mdwTheme:vis-materialdesign.0.colors.card.background_body]/color;colorTitle[#mdwTheme:vis-materialdesign.0.colors.card.title]/color;"
        data-vis-attrs2="group.oids;oid(0-dataCount);"
        data-vis-attrs3="group.barLayout;barLabelText;colorScheme/custom,materialdesign.colorScheme.editorSelector;globalColor[#mdwTheme:vis-materialdesign.0.colors.charts.global]/color;hoverColor[#mdwTheme:vis-materialdesign.0.colors.charts.bar.hover]/color;hoverBorderColor[#mdwTheme:vis-materialdesign.0.colors.charts.bar.hover_border]/color;hoverBorderWidth;barWidth/slider,0,100,1;"
        data-vis-attrs4="group.layoutForData/byindex;dataColor(0-dataCount)/color;label(0-dataCount);valueText(0-dataCount);valueTextColor(0-dataCount)/color;labelValueAppend(0-dataCount);tooltipTitle(0-dataCount);tooltipText(0-dataCount);"
        data-vis-attrs5="group.barValuesLayout;showValues[showValuesOn]/select,showValuesOn,showValuesOff,showValuesAuto;valuesSteps/number;valuesMinDecimals/number0,100,1;valuesMaxDecimals/number,0,100,1;valuesAppendText;valuesFontColor[#mdwTheme:vis-materialdesign.0.colors.charts.value]/color;valuesFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.value]/fontname;valuesFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.value]/number;valuesPositionAnchor[end]/select,center,start,end;valuesPositionAlign[top]/select,center,start,end,right,bottom,left,top;valuesPositionOffset/number;valuesTextAlign[center]/select,start,center,end,left,right;valuesRotation/slider,0,360,1;"
        data-vis-attrs6="group.yAxisLayout;yAxisPosition[left]/select,left,right;yAxisTitle;yAxisTitleColor[#mdwTheme:vis-materialdesign.0.colors.charts.y_axis_title]/color;yAxisTitleFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.y_axis_title]/fontname;yAxisTitleFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.y_axis_title]/number;yAxisValueLabelColor[#mdwTheme:vis-materialdesign.0.colors.charts.y_axis_values]/color;yAxisValueFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.y_axis_values]/fontname;yAxisValueFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.y_axis_values]/number;yAxisValueDistanceToAxis[10]/slider,0,100,1;yAxisShowAxis[true]/checkbox;yAxisShowAxisLabels[true]/checkbox;yAxisShowGridLines[true]/checkbox;yAxisGridLinesColor[#mdwTheme:vis-materialdesign.0.colors.charts.y_axis_gridlines]/color;yAxisGridLinesWitdh;yAxisShowTicks[true]/checkbox;yAxisTickLength/slider,0,100,1;yAxisZeroLineWidth/number,0,100,0.1;yAxisZeroLineColor[#mdwTheme:vis-materialdesign.0.colors.charts.y_axis_zeroline]/color;"
        data-vis-attrs7="group.xAxisLayout;xAxisPosition[bottom]/select,top,bottom;xAxisTicksSource[auto]/select,auto,data,labels;xAxisOffset/checkbox;xAxisTitle;xAxisTitleColor[#mdwTheme:vis-materialdesign.0.colors.charts.x_axis_title]/color;xAxisTitleFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.x_axis_title]/fontname;xAxisTitleFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.x_axis_title]/number;xAxisValueLabelColor[#mdwTheme:vis-materialdesign.0.colors.charts.x_axis_values]/color;xAxisValueFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.x_axis_values]/fontname;xAxisValueFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.x_axis_values]/number;xAxisValueDistanceToAxis[0]/slider,0,100,1;xAxisShowAxis[true]/checkbox;xAxisShowAxisLabels[true]/checkbox;xAxisShowGridLines[true]/checkbox;xAxisGridLinesColor[#mdwTheme:vis-materialdesign.0.colors.charts.x_axis_gridlines]/color;xAxisGridLinesWitdh;xAxisOffsetGridLines/checkbox;xAxisShowTicks[true]/checkbox;xAxisTickLength/slider,0,100,1;xAxisZeroLineWidth/number,0,100,0.1;xAxisZeroLineColor[#mdwTheme:vis-materialdesign.0.colors.charts.x_axis_zeroline]/color;xAxisMinRotation[0]/slider,0,360,1;xAxisMaxRotation[0]/slider,0,360,1;"
        data-vis-attrs8="group.legendLayout;showLegend/checkbox;legendPosition[right]/select,top,left,bottom,right;legendFontColor[#mdwTheme:vis-materialdesign.0.colors.charts.legend]/color;legendFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.legend]/fontname;legendFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.legend]/number;legendBoxWidth/slider,0,100,1;legendPointStyle[true]/checkbox;legendDistanceToChart/number;legendPadding/number;"
        data-vis-attrs9="group.tooltipLayout;showTooltip[true]/checkbox;tooltipBackgroundColor[#mdwTheme:vis-materialdesign.0.colors.charts.tooltip_background]/color;tooltipArrowSize/number;tooltipDistanceToBar/number;tooltipBoxRadius/number;tooltipShowColorBox[true]/checkbox;tooltipXpadding/number;tooltipYpadding/number;tooltipTitleFontColor[#mdwTheme:vis-materialdesign.0.colors.charts.tooltip_title]/color;tooltipTitleFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.tooltip_title]/fontname;tooltipTitleFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.tooltip_title]/number;tooltipTitleMarginBottom/number;tooltipBodyFontColor[#mdwTheme:vis-materialdesign.0.colors.charts.tooltip_text]/color;tooltipBodyFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.tooltip_text]/fontname;tooltipBodyFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.tooltip_text]/number;tooltipBodyAppend;tooltipValueMinDecimals/number;tooltipValueMaxDecimals/number;">        

        <div class="vis-widget materialdesign-widget materialdesign-chart <%== this.data.attr('class') %>" style="width:400px; height: 270px; background-color: <%= this.data.attr('backgroundColor')%>" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.chart.bar(el, data) %>>
            
        </div>
</script>

<script id="tplVis-materialdesign-Chart-Line-History"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/materialdesign/img/prev_line_history_chart.png"></img>'
        data-vis-set="materialdesign"
        data-vis-type="state,chart,history"
        data-vis-name="Line History Chart"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,lineHistoryChart;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,lineHistoryChart;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;historyAdapterInstance/history;dataCount[1]/number;timeIntervalToShow[10 minutes]/select,30 seconds,1 minute,2 minutes,5 minutes,10 minutes,30 minutes,1 hour,2 hours,4 hours,8 hours,12 hours,1 day,2 days,3 days,7 days,14 days,1 month,2 months,3 months,6 months,1 year,2 years;time_interval_oid/id;refreshMethod[timeInterval]/select,realtime,timeInterval,byObject;refreshTimeInterval[1 minute]/select,30 seconds,1 minute,2 minutes,5 minutes,10 minutes,30 minutes,1 hour,2 hours,4 hours,8 hours,12 hours,1 day;manualRefreshTrigger/id;chartTimeout[2]/number,0,60,1;debug/checkbox;"
        data-vis-attrs0="group.chartLayout;backgroundColor[#mdwTheme:vis-materialdesign.0.colors.charts.background]/color;chartAreaBackgroundColor[#mdwTheme:vis-materialdesign.0.colors.charts.background_chart]/color;disableHoverEffects/checkbox;animationDuration/number;chartPaddingTop/number;chartPaddingLeft/number;chartPaddingRight/number;chartPaddingBottom/number;"
        data-vis-attrs1="group.listItemCardBackground;cardUse/checkbox;title/html;titleLayout[#mdwTheme:vis-materialdesign.0.fontSizes.card.title]/auto,headline1,headline2,headline3,headline4,headline5,headline6,subtitle1,subtitle2,body1,body2,caption,button,overline,xx-small,x-small,small,medium,large,x-large,xx-large,smaller,larger;borderDistance/number;titleFontFamily[#mdwTheme:vis-materialdesign.0.fonts.card.title]/fontname;colorBackground[#mdwTheme:vis-materialdesign.0.colors.card.background]/color;colorTitleSectionBackground[#mdwTheme:vis-materialdesign.0.colors.card.background_title]/color;colorTextSectionBackground[#mdwTheme:vis-materialdesign.0.colors.card.background_body]/color;colorTitle[#mdwTheme:vis-materialdesign.0.colors.card.title]/color;"
        data-vis-attrs2="group.oids/byindex;oid(0-dataCount)/hid/onHidChanged;aggregate(0-dataCount)[minmax]/select,minmax,min,max,average,total;maxDataPoints(0-dataCount)/number;minTimeInterval(0-dataCount)/number;multiply(0-dataCount);"
        data-vis-attrs3="group.commonYAxis;commonYAxis(0-dataCount)/number;"
        data-vis-attrs4="group.lineLayout;colorScheme/custom,materialdesign.colorScheme.editorSelector;globalColor[#mdwTheme:vis-materialdesign.0.colors.charts.global]/color;pointStyle[circle]/select,circle,cross,crossRot,dash,line,rect,rectRounded,rectRot,star,triangle;pointSize/number;pointSizeHover/number;"
        data-vis-attrs5="group.legendLayout;showLegend[true]/checkbox;legendPosition[right]/select,top,left,bottom,right;legendFontColor[#mdwTheme:vis-materialdesign.0.colors.charts.legend]/color;legendFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.legend]/fontname;legendFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.legend]/number;legendBoxWidth/slider,0,100,1;legendPointStyle[true]/checkbox;legendDistanceToChart/number;legendPadding/number;"
        data-vis-attrs6="group.tooltipLayout;showTooltip[true]/checkbox;tooltipMode[nearest]/select,nearest,point,index,dataset,x,y;tooltipPosition[nearest]/select,average,nearest;tooltipTimeFormats[{&quot;millisecond&quot;:&quot;lll:ss&quot;,&quot;second&quot;:&quot;lll:ss&quot;,&quot;minute&quot;:&quot;lll&quot;,&quot;hour&quot;:&quot;lll&quot;,&quot;day&quot;:&quot;lll&quot;,&quot;week&quot;:&quot;lll&quot;,&quot;month&quot;:&quot;lll&quot;,&quot;quarter&quot;:&quot;lll&quot;,&quot;year&quot;:&quot;lll&quot;}]/html;tooltipLabelUseTodayYesterday/checkbox;tooltipBackgroundColor[#mdwTheme:vis-materialdesign.0.colors.charts.tooltip_background]/color;tooltipArrowSize/number;tooltipDistanceToBar/number;tooltipBoxRadius/number;tooltipShowColorBox[true]/checkbox;tooltipXpadding/number;tooltipYpadding/number;tooltipTitleFontColor[#mdwTheme:vis-materialdesign.0.colors.charts.tooltip_title]/color;tooltipTitleFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.tooltip_title]/fontname;tooltipTitleFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.tooltip_title]/number;tooltipTitleMarginBottom/number;tooltipBodyFontColor[#mdwTheme:vis-materialdesign.0.colors.charts.tooltip_text]/color;tooltipBodyFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.tooltip_text]/fontname;tooltipBodyFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.tooltip_text]/number;tooltipBodyAppend;tooltipValueMinDecimals/number;tooltipValueMaxDecimals/number;"
        data-vis-attrs7="group.layoutForData/byindex;lineSpanGaps(0-dataCount)[true]/checkbox;steppedLine(0-dataCount)/checkbox;lineTension(0-dataCount)/slider,0,1,0.1;lineThikness(0-dataCount)/number;dataColor(0-dataCount)/color;useFillColor(0-dataCount)/checkbox;fillColor(0-dataCount)/color;pointColor(0-dataCount)/color;pointHoverColor(0-dataCount)/color;legendText(0-dataCount);"
        data-vis-attrs8="group.xAxisLayout;xAxisPosition[bottom]/select,top,bottom;xAxisTicksSource[auto]/select,auto,data,labels;xAxisMaxLabel/number;xAxisLabelUseTodayYesterday/checkbox;xAxisBounds[dataSet]/select,dataSet,axisTicks;xAxisTimeFormats[{&quot;millisecond&quot;:&quot;H:mm:ss.SSS&quot;,&quot;second&quot;:&quot;H:mm:ss&quot;,&quot;minute&quot;:&quot;H:mm&quot;,&quot;hour&quot;:&quot;H&quot;,&quot;day&quot;:&quot;ddd DD.&quot;,&quot;week&quot;:&quot;ll&quot;,&quot;month&quot;:&quot;MMM YYYY&quot;,&quot;quarter&quot;:&quot;[Q]Q - YYYY&quot;,&quot;year&quot;:&quot;YYYY&quot;}]/html;xAxisTitle;xAxisTitleColor[#mdwTheme:vis-materialdesign.0.colors.charts.x_axis_title]/color;xAxisTitleFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.x_axis_title]/fontname;xAxisTitleFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.x_axis_title]/number;xAxisValueLabelColor[#mdwTheme:vis-materialdesign.0.colors.charts.x_axis_values]/color;xAxisValueFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.x_axis_values]/fontname;xAxisValueFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.x_axis_values]/number;xAxisDistanceBetweenTicks[10]/slider,0,1000,1;xAxisValueDistanceToAxis[0]/slider,0,100,1;xAxisShowAxis[true]/checkbox;xAxisShowAxisLabels[true]/checkbox;xAxisShowGridLines[true]/checkbox;xAxisGridLinesColor[#mdwTheme:vis-materialdesign.0.colors.charts.x_axis_gridlines]/color;xAxisGridLinesWitdh;xAxisOffsetGridLines/checkbox;xAxisShowTicks[true]/checkbox;xAxisTickLength/slider,0,100,1;axisValueAppendText;xAxisZeroLineWidth/number,0,100,0.1;xAxisZeroLineColor[#mdwTheme:vis-materialdesign.0.colors.charts.x_axis_zeroline]/color;xAxisMinRotation[0]/slider,0,360,1;xAxisMaxRotation[0]/slider,0,360,1;"
        data-vis-attrs9="group.yAxisLayout;yAxisTitleColor[#mdwTheme:vis-materialdesign.0.colors.charts.y_axis_title]/color;yAxisTitleFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.y_axis_title]/fontname;yAxisTitleFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.y_axis_title]/number;yAxisValueLabelColor[#mdwTheme:vis-materialdesign.0.colors.charts.y_axis_values]/color;yAxisValueFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.y_axis_values]/fontname;yAxisValueFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.y_axis_values]/number;yAxisValueDistanceToAxis[10]/slider,0,100,1;"
        data-vis-attrs10="group.yAxisLayoutForData/byindex;showYAxis(0-dataCount)[true]/checkbox;yAxisPosition(0-dataCount)[left]/select,left,right;yAxisTitle(0-dataCount);yAxisValueColor(0-dataCount)/color;yAxisMinValue(0-dataCount)/number;yAxisMaxValue(0-dataCount)/number;yAxisStep(0-dataCount)/number;yAxisValueMinDigits(0-dataCount)/number,0,100,1;yAxisValueMaxDigits(0-dataCount)/number,0,100,1;yAxisMaxLabel(0-dataCount)/number;yAxisTitle(0-dataCount);yAxisValueAppendText(0-dataCount);yAxisShowGridLines(0-dataCount)[true]/checkbox;yAxisShowTicks(0-dataCount)[true]/checkbox;yAxisShowAxisBorder(0-dataCount)[true]/checkbox;yAxisGridLinesColor(0-dataCount)[#mdwTheme:vis-materialdesign.0.colors.charts.y_axis_gridlines]/color;yAxisGridLinesWitdh(0-dataCount);yAxisTickLength(0-dataCount)/slider,0,100,1;yAxisZeroLineWidth(0-dataCount)/number,0,100,0.1;yAxisZeroLineColor(0-dataCount)[#mdwTheme:vis-materialdesign.0.colors.charts.y_axis_zeroline]/color;"
        data-vis-attrs11="group.lineValuesLayout/byindex;showValues(0-dataCount)[showValuesOn]/select,showValuesOn,showValuesOff,showValuesAuto;valuesSteps(0-dataCount)/number;valuesMinDecimals(0-dataCount)/number;valuesMaxDecimals(0-dataCount)/number;valuesAppendText(0-dataCount);valuesFontColor(0-dataCount)[#mdwTheme:vis-materialdesign.0.colors.charts.value]/color;valuesFontFamily(0-dataCount)[#mdwTheme:vis-materialdesign.0.fonts.charts.value]/fontname;valuesFontSize(0-dataCount)[#mdwTheme:vis-materialdesign.0.fontSizes.charts.value]/number;valuesPositionAnchor(0-dataCount)[end]/select,center,start,end;valuesPositionAlign(0-dataCount)[top]/select,center,start,end,right,bottom,left,top;valuesPositionOffset(0-dataCount)/number;valuesTextAlign(0-dataCount)[center]/select,start,center,end,left,right;valuesRotation(0-dataCount)/slider,0,360,1;">
         <!-- TODO: data-vis-attrs11="group.valueTextColors;valueTextColor(0-dataCount)/color;group.labelValuesAppend;labelValueAppend(0-dataCount);"> -->

        <div class="vis-widget materialdesign-widget materialdesign-chart <%== this.data.attr('class') %>" style="width:400px; height: 270px; background-color: <%= this.data.attr('backgroundColor')%>" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.chart.lineHistory(el, data) %>>

        </div>
</script>


<script id="tplVis-materialdesign-Chart-JSON"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/materialdesign/img/prev_json_chart.png"></img>'
        data-vis-set="materialdesign"
        data-vis-type="state,chart"
        data-vis-name="JSON Chart"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,jsonChart;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,jsonChart;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;chartType[bar]/select,bar,line;debug/checkbox;"
        data-vis-attrs0="group.chartLayout;backgroundColor[#mdwTheme:vis-materialdesign.0.colors.charts.background]/color;chartAreaBackgroundColor[#mdwTheme:vis-materialdesign.0.colors.charts.background_chart]/color;colorScheme/custom,materialdesign.colorScheme.editorSelector;globalColor[#mdwTheme:vis-materialdesign.0.colors.charts.global]/color;disableHoverEffects/checkbox;chartPaddingTop/number;chartPaddingLeft/number;chartPaddingRight/number;chartPaddingBottom/number;animationDuration/number;"
        data-vis-attrs1="group.listItemCardBackground;cardUse/checkbox;title/html;titleLayout[#mdwTheme:vis-materialdesign.0.fontSizes.card.title]/auto,headline1,headline2,headline3,headline4,headline5,headline6,subtitle1,subtitle2,body1,body2,caption,button,overline,xx-small,x-small,small,medium,large,x-large,xx-large,smaller,larger;borderDistance/number;titleFontFamily[#mdwTheme:vis-materialdesign.0.fonts.card.title]/fontname;colorBackground[#mdwTheme:vis-materialdesign.0.colors.card.background]/color;colorTitleSectionBackground[#mdwTheme:vis-materialdesign.0.colors.card.background_title]/color;colorTextSectionBackground[#mdwTheme:vis-materialdesign.0.colors.card.background_body]/color;colorTitle[#mdwTheme:vis-materialdesign.0.colors.card.title]/color;"
        data-vis-attrs2="group.barLayout;barWidth/slider,0,100,1;"
        data-vis-attrs3="group.legendLayout;showLegend[true]/checkbox;legendPosition[right]/select,top,left,bottom,right;legendFontColor[#mdwTheme:vis-materialdesign.0.colors.charts.legend]/color;legendFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.legend]/fontname;legendFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.legend]/number;legendBoxWidth/slider,0,100,1;legendPointStyle[true]/checkbox;legendDistanceToChart/number;legendPadding/number;"
        data-vis-attrs4="group.tooltipLayout;showTooltip[true]/checkbox;tooltipMode[nearest]/select,nearest,point,index,dataset,x,y;tooltipPosition[nearest]/select,average,nearest;tooltipTimeFormats[{&quot;millisecond&quot;:&quot;lll:ss&quot;,&quot;second&quot;:&quot;lll:ss&quot;,&quot;minute&quot;:&quot;lll&quot;,&quot;hour&quot;:&quot;lll&quot;,&quot;day&quot;:&quot;lll&quot;,&quot;week&quot;:&quot;lll&quot;,&quot;month&quot;:&quot;lll&quot;,&quot;quarter&quot;:&quot;lll&quot;,&quot;year&quot;:&quot;lll&quot;}]/html;tooltipLabelUseTodayYesterday/checkbox;tooltipBackgroundColor[#mdwTheme:vis-materialdesign.0.colors.charts.tooltip_background]/color;tooltipArrowSize/number;tooltipDistanceToBar/number;tooltipBoxRadius/number;tooltipShowColorBox[true]/checkbox;tooltipXpadding/number;tooltipYpadding/number;tooltipTitleFontColor[#mdwTheme:vis-materialdesign.0.colors.charts.tooltip_title]/color;tooltipTitleFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.tooltip_title]/fontname;tooltipTitleFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.tooltip_title]/number;tooltipTitleMarginBottom/number;tooltipBodyFontColor[#mdwTheme:vis-materialdesign.0.colors.charts.tooltip_text]/color;tooltipBodyFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.tooltip_text]/fontname;tooltipBodyFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.tooltip_text]/number;tooltipBodyAlignment[left]/select,left,center,right;"
        data-vis-attrs5="group.xAxisLayout;xAxisPosition[bottom]/select,top,bottom;xAxisTicksSource[auto]/select,auto,data,labels;xAxisOffset/checkbox;xAxisMaxLabel/number;xAxisLabelUseTodayYesterday/checkbox;xAxisTitle;xAxisTitleColor[#mdwTheme:vis-materialdesign.0.colors.charts.x_axis_title]/color;xAxisTitleFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.x_axis_title]/fontname;xAxisTitleFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.x_axis_title]/number;xAxisValueLabelColor[#mdwTheme:vis-materialdesign.0.colors.charts.x_axis_values]/color;xAxisValueFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.x_axis_values]/fontname;xAxisValueFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.x_axis_values]/number;axisLabelAutoSkip/checkbox;xAxisDistanceBetweenTicks[10]/slider,0,1000,1;xAxisValueDistanceToAxis[0]/slider,0,100,1;xAxisShowAxis[true]/checkbox;xAxisShowAxisLabels[true]/checkbox;xAxisShowGridLines[true]/checkbox;xAxisGridLinesColor[#mdwTheme:vis-materialdesign.0.colors.charts.x_axis_gridlines]/color;xAxisGridLinesWitdh;xAxisOffsetGridLines/checkbox;xAxisShowTicks[true]/checkbox;xAxisTickLength/slider,0,100,1;xAxisZeroLineWidth/number,0,100,0.1;xAxisZeroLineColor[#mdwTheme:vis-materialdesign.0.colors.charts.x_axis_zeroline]/color;xAxisMinRotation[0]/slider,0,360,1;xAxisMaxRotation[0]/slider,0,360,1;"
        data-vis-attrs6="group.yAxisLayout;yAxisTitleColor[#mdwTheme:vis-materialdesign.0.colors.charts.y_axis_values]/color;yAxisTitleFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.y_axis_title]/fontname;yAxisTitleFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.y_axis_title]/number;yAxisValueLabelColor[#mdwTheme:vis-materialdesign.0.colors.charts.y_axis_values]/color;yAxisValueFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.y_axis_values]/fontname;yAxisValueFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.y_axis_values]/number;yAxisValueDistanceToAxis[10]/slider,0,100,1;">

        <div class="vis-widget materialdesign-widget materialdesign-chart <%== this.data.attr('class') %>" style="width:400px; height: 270px; background-color: <%= this.data.attr('backgroundColor')%>" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.chart.json(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Chart-Pie"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/materialdesign/img/pie_chart.png"></img>'
        data-vis-set="materialdesign"
        data-vis-type="state,chart"
        data-vis-name="Pie Chart"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,pieChart;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,pieChart;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;chartDataMethod[inputPerEditor]/select,inputPerEditor,jsonStringObject;dataCount[1]/number;oid;chartType[pie]/select,pie,doughnut;doughnutCutOut/number,0,100,1;chartPaddingTop/number;chartPaddingLeft/number;chartPaddingRight/number;chartPaddingBottom/number;debug/checkbox;"
        data-vis-attrs0="group.chartLayout;backgroundColor[#mdwTheme:vis-materialdesign.0.colors.charts.background]/color;chartAreaBackgroundColor[#mdwTheme:vis-materialdesign.0.colors.charts.background_chart]/color;disableHoverEffects/checkbox;animationDuration/number;"
        data-vis-attrs1="group.listItemCardBackground;cardUse/checkbox;title/html;titleLayout[#mdwTheme:vis-materialdesign.0.fontSizes.card.title]/auto,headline1,headline2,headline3,headline4,headline5,headline6,subtitle1,subtitle2,body1,body2,caption,button,overline,xx-small,x-small,small,medium,large,x-large,xx-large,smaller,larger;borderDistance/number;titleFontFamily[#mdwTheme:vis-materialdesign.0.fonts.card.title]/fontname;colorBackground[#mdwTheme:vis-materialdesign.0.colors.card.background]/color;colorTitleSectionBackground[#mdwTheme:vis-materialdesign.0.colors.card.background_title]/color;colorTextSectionBackground[#mdwTheme:vis-materialdesign.0.colors.card.background_body]/color;colorTitle[#mdwTheme:vis-materialdesign.0.colors.card.title]/color;"
        data-vis-attrs2="group.oids;oid(0-dataCount);"
        data-vis-attrs3="group.pieLayout;colorScheme/custom,materialdesign.colorScheme.editorSelector;globalColor[#mdwTheme:vis-materialdesign.0.colors.charts.global]/color;hoverColor[#mdwTheme:vis-materialdesign.0.colors.charts.pie.hover]/color;borderColor[#mdwTheme:vis-materialdesign.0.colors.charts.pie.border]/color;hoverBorderColor[#mdwTheme:vis-materialdesign.0.colors.charts.pie.border_hover]/color;borderWidth;hoverBorderWidth;"
        data-vis-attrs4="group.layoutForData/byindex;dataColor(0-dataCount)/color;label(0-dataCount);valueTextColor(0-dataCount)/color;labelValueAppend(0-dataCount);tooltipTitle(0-dataCount);tooltipText(0-dataCount);"
        data-vis-attrs5="group.pieValuesLayout;showValues[showValuesOn]/select,showValuesOn,showValuesOff,showValuesAuto;valuesSteps/number;valuesMinDecimals/number;valuesMaxDecimals/number;valuesAppendText;valuesFontColor[#mdwTheme:vis-materialdesign.0.colors.charts.pie.value]/color;valuesFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.value]/fontname;valuesFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.value]/number;valuesPositionAnchor[center]/select,center,start,end;valuesPositionAlign[end]/select,center,start,end,right,bottom,left,top;valuesPositionOffset/number;valuesTextAlign[center]/select,start,center,end,left,right;valuesRotation/slider,0,360,1;"
        data-vis-attrs6="group.legendLayout;showLegend/checkbox;legendPosition[right]/select,top,left,bottom,right;legendFontColor[#mdwTheme:vis-materialdesign.0.colors.charts.legend]/color;legendFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.legend]/fontname;legendFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.legend]/number;legendBoxWidth/slider,0,100,1;legendPointStyle[true]/checkbox;legendDistanceToChart/number;legendPadding/number;"
        data-vis-attrs7="group.tooltipLayout;showTooltip[true]/checkbox;tooltipBackgroundColor[#mdwTheme:vis-materialdesign.0.colors.charts.tooltip_background]/color;tooltipArrowSize/number;tooltipDistanceToBar/number;tooltipBoxRadius/number;tooltipShowColorBox[true]/checkbox;tooltipXpadding/number;tooltipYpadding/number;tooltipTitleFontColor[#mdwTheme:vis-materialdesign.0.colors.charts.tooltip_title]/color;tooltipTitleFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.tooltip_title]/fontname;tooltipTitleFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.tooltip_title]/number;tooltipTitleMarginBottom/number;tooltipBodyFontColor[#mdwTheme:vis-materialdesign.0.colors.charts.tooltip_text]/color;tooltipBodyFontFamily[#mdwTheme:vis-materialdesign.0.fonts.charts.tooltip_text]/fontname;tooltipBodyFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.charts.tooltip_text]/number;tooltipBodyAppend;tooltipValueMinDecimals/number;tooltipValueMaxDecimals/number;">

        <div class="vis-widget materialdesign-widget materialdesign-chart <%== this.data.attr('class') %>" style="width:400px; height: 270px; background-color: <%= this.data.attr('backgroundColor')%>" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.chart.pie(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-ColorScheme-Preview"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/materialdesign/img/prev_color_schemes.png"></img>'
        data-vis-set="materialdesign"
        data-vis-type="static"
        data-vis-name="Preview Color Schemes"
        data-vis-update-style="true">

        <%
            let preview = vis.binds.materialdesign.colorScheme.preview(data);
        %>

        <div class="vis-widget materialdesign-widget materialdesign-colorscheme mdc-card <%== this.data.attr('class') %>" style="width: 620px; height: 300px; left: 333px; top: 497px; padding: 16px; overflow-y: auto; background: white" id="<%= this.data.attr('wid') %>">
            <span class="mdc-typography--headline6" style="color: #44739e; margin-bottom: 16px;">Material Design Widgets Color Schemes Preview</span>
            <div>   
                <%== preview %>
            </div>
        </div>
</script> 

<script id="tplVis-materialdesign-Vuetify-Dialog-View"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/materialdesign/img/prev_dialog_view.png"></img>'
        data-vis-set="materialdesign"
        data-vis-type="dialog,stateful,container,view"
        data-vis-name="Dialog"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,dialogView;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,dialogView;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;showDialogMethod[button]/select,button,datapoint;showDialogOid/id;contains_view/views;fullscreenResolutionLower[360]/number;vibrateOnMobilDevices[50]/number;debug/checkbox;"
        data-vis-attrs0="group.buttonLayout;buttonStyle[raised]/select,text,raised,unelevated,outlined,icon;buttontext/html;mdwButtonPrimaryColor[#mdwTheme:vis-materialdesign.0.colors.button.default.primary]/color;mdwButtonSecondaryColor[#mdwTheme:vis-materialdesign.0.colors.button.default.secondary]/color;mdwButtonColorPress/color;textFontFamily[#mdwTheme:vis-materialdesign.0.fonts.button.default.text]/fontname;textFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.button.default.text]/number;labelWidth/slider,0,100,1;image/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor[#mdwTheme:vis-materialdesign.0.colors.dialog.button_icon]/color;iconPosition[left]/select,left,right;iconHeight/slider,0,200,1;"
        data-vis-attrs1="group.layoutDialog;dialogMaxWidth/dimension;viewHeight/dimension;z_index/number;closingClickOutside[true]/checkbox;viewDistanceToBorder/number;backgroundColor[#mdwTheme:vis-materialdesign.0.colors.dialog.background]/color;headerHeight/number;headerBackgroundColor[#mdwTheme:vis-materialdesign.0.colors.dialog.header_background]/color;footerHeight/number;footerBackgroundColor[#mdwTheme:vis-materialdesign.0.colors.dialog.footer_background]/color;showDivider/checkbox;dividerColor[#mdwTheme:vis-materialdesign.0.colors.dialog.divider]/color;overlayColor[#mdwTheme:vis-materialdesign.0.colors.dialog.overlay]/color;overlayOpacity/slider,0,1,0.1;"
        data-vis-attrs2="group.layoutTitle;showTitle[true]/checkbox;title/html;titleFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.dialog.title]/number;titleFont[#mdwTheme:vis-materialdesign.0.fonts.dialog.title]/fontname;titleColor[#mdwTheme:vis-materialdesign.0.colors.dialog.header_text]/color;"
        data-vis-attrs3="group.layoutdialogCloseButton;buttonPosition[flex-end]/select,flex-start,center,flex-end;buttonSize[medium]/select,small,medium,large;buttonFullWidth/checkbox;buttonText;buttonFontSize/number;buttonFont[#mdwTheme:vis-materialdesign.0.fonts.dialog.button]/fontname;buttonFontColor[#mdwTheme:vis-materialdesign.0.colors.dialog.close_button_text]/color;pressColor[#mdwTheme:vis-materialdesign.0.colors.dialog.close_button_press]/color;fullscreenCloseIcon/custom,materialdesign.viseditor.materialDesignIcons;fullscreenCloseIconColor[#mdwTheme:vis-materialdesign.0.colors.dialog.close_button_icon]/color;fullscreenCloseIconPressColor[#mdwTheme:vis-materialdesign.0.colors.dialog.close_button_fullscreen_press]/color;">
        
        <div class="vis-widget materialdesign-widget materialdesign-vuetify-dialog <%== this.data.attr('class') %>" style="width: 100px; height: 30px; padding: 0px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.dialog.vue(el, data) %>>
            <div class="vis-widget materialdesign-widget materialdesign-button" style="width: 100%; height: 100%;"></div>
        </div>
</script>

<script id="tplVis-materialdesign-Vuetify-Dialog-iFrame"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/materialdesign/img/prev_dialog_view.png"></img>'
        data-vis-set="materialdesign"
        data-vis-type="dialog,stateful,container,view"
        data-vis-name="Dialog iFrame"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,dialogView;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,dialogView;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;showDialogMethod[button]/select,button,datapoint;showDialogOid/id;fullscreenResolutionLower[360]/number;vibrateOnMobilDevices[50]/number;debug/checkbox;"
        data-vis-attrs0="group.iFrame;src;refreshInterval[0]/slider,0,180000,100;noSandbox/checkbox;refreshOnWakeUp/checkbox;refreshOnViewChange/checkbox;refreshWithNoQuery/checkbox;scrollX/checkbox;scrollY/checkbox;seamless[true]/checkbox;"
        data-vis-attrs1="group.buttonLayout;buttonStyle[raised]/select,text,raised,unelevated,outlined,icon;buttontext/html;mdwButtonPrimaryColor[#mdwTheme:vis-materialdesign.0.colors.button.default.primary]/color;mdwButtonSecondaryColor[#mdwTheme:vis-materialdesign.0.colors.button.default.secondary]/color;mdwButtonColorPress/color;textFontFamily[#mdwTheme:vis-materialdesign.0.fonts.button.default.text]/fontname;textFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.button.default.text]/number;labelWidth/slider,0,100,1;image/custom,materialdesign.viseditor.imagesAndMaterialDesignIcons;imageColor[#mdwTheme:vis-materialdesign.0.colors.dialog.button_icon]/color;iconPosition[left]/select,left,right;iconHeight/slider,0,200,1;"
        data-vis-attrs2="group.layoutDialog;dialogMaxWidth/dimension;viewHeight/dimension;z_index/number;closingClickOutside[true]/checkbox;viewDistanceToBorder/number;backgroundColor[#mdwTheme:vis-materialdesign.0.colors.dialog.background]/color;headerHeight/number;headerBackgroundColor[#mdwTheme:vis-materialdesign.0.colors.dialog.header_background]/color;footerHeight/number;footerBackgroundColor[#mdwTheme:vis-materialdesign.0.colors.dialog.footer_background]/color;showDivider/checkbox;dividerColor[#mdwTheme:vis-materialdesign.0.colors.dialog.divider]/color;overlayColor[#mdwTheme:vis-materialdesign.0.colors.dialog.overlay]/color;overlayOpacity/slider,0,1,0.1;"
        data-vis-attrs3="group.layoutTitle;showTitle[true]/checkbox;title/html;titleFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.dialog.title]/number;titleFont[#mdwTheme:vis-materialdesign.0.fonts.dialog.title]/fontname;titleColor[#mdwTheme:vis-materialdesign.0.colors.dialog.header_text]/color;"
        data-vis-attrs4="group.layoutdialogCloseButton;buttonPosition[flex-end]/select,flex-start,center,flex-end;buttonSize[medium]/select,small,medium,large;buttonFullWidth/checkbox;buttonText;buttonFontSize/number;buttonFont[#mdwTheme:vis-materialdesign.0.fonts.dialog.button]/fontname;buttonFontColor[#mdwTheme:vis-materialdesign.0.colors.dialog.close_button_text]/color;pressColor[#mdwTheme:vis-materialdesign.0.colors.dialog.close_button_press]/color;fullscreenCloseIcon/custom,materialdesign.viseditor.materialDesignIcons;fullscreenCloseIconColor[#mdwTheme:vis-materialdesign.0.colors.dialog.close_button_icon]/color;fullscreenCloseIconPressColor[#mdwTheme:vis-materialdesign.0.colors.dialog.close_button_fullscreen_press]/color;">

        <div class="vis-widget materialdesign-widget materialdesign-vuetify-dialog <%== this.data.attr('class') %>" style="width: 100px; height: 30px; padding: 0px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.dialog.vue(el, data, true) %>>
            <div class="vis-widget materialdesign-widget materialdesign-button" style="width: 100%; height: 100%;"></div>
        </div>
</script>

<script id="tplVis-materialdesign-Table"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/materialdesign/img/prev_table.png"></img>'
        data-vis-set="materialdesign"
        data-vis-type="table"
        data-vis-name="Table"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,table;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,table;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;dataJson/html;countCols[1]/number;debug/checkbox;"
        data-vis-attrs0="group.tableLayout;tableLayout[standard]/select,standard,card,cardOutlined;showHeader[true]/checkbox;fixedHeader/checkbox;roundBorder[true]/checkbox;headerRowHeight/number;headerTextSize[#mdwTheme:vis-materialdesign.0.fontSizes.table.header]/auto,headline1,headline2,headline3,headline4,headline5,headline6,subtitle1,subtitle2,body1,body2,caption,button,overline,xx-small,x-small,small,medium,large,x-large,xx-large,smaller,larger;headerFontFamily[#mdwTheme:vis-materialdesign.0.fonts.table.header]/fontname;rowHeight/number;"
        data-vis-attrs1="group.color;colorBackground[#mdwTheme:vis-materialdesign.0.colors.table.background]/color;colorHeaderRowBackground[#mdwTheme:vis-materialdesign.0.colors.table.row_header_background]/color;colorHeaderRowText[#mdwTheme:vis-materialdesign.0.colors.table.row_header_text]/color;colorRowBackground[#mdwTheme:vis-materialdesign.0.colors.table.row_background]/color;colorRowBackgroundHover[#mdwTheme:vis-materialdesign.0.colors.table.row_hover]/color;colorRowText[#mdwTheme:vis-materialdesign.0.colors.table.row_text]/color;borderColor[#mdwTheme:vis-materialdesign.0.colors.table.border]/color;dividers[#mdwTheme:vis-materialdesign.0.colors.table.dividers]/color;"
        data-vis-attrs2="group.columnLayout/byindex;showColumn(0-countCols)[true]/checkbox;colType(0-countCols)[text]/select,text,image;columnWidth(0-countCols)/number;colNoWrap(0-countCols)/checkbox;label(0-countCols)/html;textAlign(0-countCols)[center]/select,left,right,center;colTextSize(0-countCols)[#mdwTheme:vis-materialdesign.0.fontSizes.table.row]/auto,headline1,headline2,headline3,headline4,headline5,headline6,subtitle1,subtitle2,body1,body2,caption,button,overline,xx-small,x-small,small,medium,large,x-large,xx-large,smaller,larger;padding_left(0-countCols)/number;padding_right(0-countCols)/number;fontFamily(0-countCols)[#mdwTheme:vis-materialdesign.0.fonts.table.row]/fontname;colTextColor(0-countCols)/color;prefix(0-countCols)/html;suffix(0-countCols)/html;imageSize(0-countCols)/number;sortKey(0-countCols);">

        <div class="vis-widget materialdesign-widget materialdesign-table <%== this.data.attr('class') %>" style="width: 400px; height: 250px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.table.handle(el, data) %>>

        </div>
</script>

<script id="tplVis-materialdesign-Masonry-Views"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/materialdesign/img/prev_masonry_views.png"></img>'
        data-vis-set="materialdesign"
        data-vis-type="container,view"
        data-vis-name="Masonry Views"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,masonry;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,masonry;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;countCols/number;desktopGaps/number;countViews[3]/number;viewAlignment[center]/select,left,center,right,justify;showResolutionAssistant[true]/checkbox;debug/checkbox;"
        data-vis-attrs0="group.handySettings;handyPortraitWidth/number;handyPortraitCols/number;handyPortraitGaps/number;handyLandscapeWidth/number;handyLandscapeCols/number;handyLandscapeGaps/number;"
        data-vis-attrs1="group.tabletSettings;tabletPortraitWidth/number;tabletPortraitCols/number;tabletPortraitGaps/number;tabletLandscapeWidth/number;tabletLandscapeCols/number;tabletLandscapeGaps/number;"
        data-vis-attrs2="group.View/byindex;View(0-countViews)/views;viewsHeight(0-countViews)/number;viewsWidth(0-countViews);viewSortOrder(0-countViews)/number;visibleResolutionGreaterThan(0-countViews)/number;visibleResolutionLessThan(0-countViews)/number;visibilityOid(0-countViews)/id;visibilityCondition(0-countViews)[==]/custom,materialdesign.viseditor.visibilityCondition;visibilityConditionValue(0-countViews);">

        <div class="vis-widget materialdesign-widget materialdesign-masonry-views <%== this.data.attr('class') %>" style="width: 100%; height: 100%;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.views.masonry(el, data) %>> 

        </div>
</script>

<script id="tplVis-materialdesign-Grid-Views"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/materialdesign/img/prev_grid_views.png"></img>'
        data-vis-set="materialdesign"
        data-vis-type="container,view"
        data-vis-name="Grid Views"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,grid;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,grid;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;countViews[3]/number;desktopGaps/number;viewVertAlignment[center]/select,center,flex-start,flex-end;viewHorAlignment[center]/select,center,flex-start,flex-end,space-around,space-between;viewColSpan/number,1,12,1;showResolutionAssistant[true]/checkbox;debug/checkbox;"
        data-vis-attrs0="group.handySettings;handyGridPortraitColSpan/number,1,12,1;handyPortraitWidth/number;handyPortraitGaps/number;handyGridLandscapeColSpan/number,1,12,1;handyLandscapeWidth/number;handyLandscapeGaps/number;"
        data-vis-attrs1="group.tabletSettings;tabletGridPortraitColSpan/number,1,12,1;tabletPortraitWidth/number;tabletPortraitGaps/number;tabletGridLandscapeColSpan/number,1,12,1;tabletLandscapeWidth/number;tabletLandscapeGaps/number;"
        data-vis-attrs2="group.View/byindex;View(0-countViews)/views;viewsHeight(0-countViews)/number;viewSortOrder(0-countViews)/number;viewColSpan(0-countViews)/number,1,12,1;handyGridPortraitColSpan(0-countViews)/number,1,12,1;handyGridLandscapeColSpan(0-countViews)/number,1,12,1;tabletGridPortraitColSpan(0-countViews)/number,1,12,1;tabletGridLandscapeColSpan(0-countViews)/number,1,12,1;visibleResolutionGreaterThan(0-countViews)/number;visibleResolutionLessThan(0-countViews)/number;visibilityOid(0-countViews)/id;visibilityCondition(0-countViews)[==]/custom,materialdesign.viseditor.visibilityCondition;visibilityConditionValue(0-countViews);">

        <div class="vis-widget materialdesign-widget materialdesign-grid-views <%== this.data.attr('class') %>" style="width: 100%; height: 100%;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.views.grid(el, data) %>> 

        </div>
</script>

<script id="tplVis-materialdesign-Alerts"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/materialdesign/img/prev_alerts.png"></img>'
        data-vis-set="materialdesign"
        data-vis-type="messages"
        data-vis-name="Alerts"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,alerts;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,alerts;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;showMaxAlerts[3]/number;minScreenResolution/number;debug/checkbox;"
        data-vis-attrs0="group.alertLayout;alertLayouts[normal]/select,normal,outlined,tile;alertDense[true]/checkbox;alertElevation[1]/slider,0,24,1;alertMarginBottom[16]/number;alertBorderLayout[none]/select,none,top,right,left,bottom;alertFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.alerts.text]/number;alertFontFamily[#mdwTheme:vis-materialdesign.0.fonts.alerts.text]/fontname;alertIconSize/number;closeIcon[close-circle-outline]/custom,materialdesign.viseditor.materialDesignIcons;closeIconColor[#mdwTheme:vis-materialdesign.0.colors.alerts.close_icon]/color;closeIconPressColor[#mdwTheme:vis-materialdesign.0.colors.alerts.close_icon_hover]/color;">

        <div class="vis-widget materialdesign-widget materialdesign-alerts <%== this.data.attr('class') %>" style="width: 150px; height: 38px; overflow: visible; pointer-events:none;" id="<%= this.data.attr('wid') %>"> 
            <div class="materialdesign-vuetify-alerts" style="width: 100%; pointer-events: auto;" <%= (el) -> vis.binds.materialdesign.alerts(el, data) %>>
            
            </div>
        </div>
</script>

<script id="tplVis-materialdesign-Calendar"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/materialdesign/img/calendar.png"></img>'
        data-vis-set="materialdesign"
        data-vis-type="messages"
        data-vis-name="Calendar"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,calendar;questionsAndAnswers/custom,materialdesign.viseditor.questionsAndAnswers,calendar;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;oid;calendarView[month]/select,month,week,day;vibrateOnMobilDevices[50]/number;debug/checkbox;"
        data-vis-attrs0="group.calendarLayout;calendarWeekdays[1,2,3,4,5,6,0];calendarShortWeekdays/checkbox;calendarBorderColor[#mdwTheme:vis-materialdesign.0.colors.calendar.border]/color;calendarDayBackgroundColor[#mdwTheme:vis-materialdesign.0.colors.calendar.background_day]/color;calendarDayBackgroundOutsideColor[#mdwTheme:vis-materialdesign.0.colors.calendar.background_other_month]/color;"
        data-vis-attrs1="group.calendarHeaderLayout;calendarHeaderBackground[#mdwTheme:vis-materialdesign.0.colors.calendar.header_background]/color;calendarDayLabelFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.calendar.header]/number;calendarDayLabelFontFamily[#mdwTheme:vis-materialdesign.0.fonts.calendar.header]/fontname;calendarDayLabelFontColor[#mdwTheme:vis-materialdesign.0.colors.calendar.header_text]/color;calendarDayLabelPreviousFontColor[#mdwTheme:vis-materialdesign.0.colors.calendar.header_text_past]/color;calendarDayLabelTodayFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.calendar.today]/number;calendarDayLabelTodayFontFamily[#mdwTheme:vis-materialdesign.0.fonts.calendar.today]/fontname;calendarDayLabelTodayFontColor[{mode:vis-materialdesign.0.colors.darkTheme§light:vis-materialdesign.0.colors.light.calendar.header_text_today§dark:vis-materialdesign.0.colors.dark.calendar.header_text_today§ mode === ^true^ ? dark : light}]/color;"
        data-vis-attrs2="group.calendarWeekNumbersLayout;calendarWeeksNumbersShow[true]/checkbox;calendarWeeksNumbersBackground[#mdwTheme:vis-materialdesign.0.colors.calendar.weeks_background]/color;calendarWeeksNumbersFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.calendar.weeks]/number;calendarWeeksNumbersFont[#mdwTheme:vis-materialdesign.0.fonts.calendar.weeks]/fontname;calendarWeeksNumbersFontColor[#mdwTheme:vis-materialdesign.0.colors.calendar.weeks_text]/color;"
        data-vis-attrs3="group.calendarButtonsLayout;calendarDayButtonMonthViewGoTo[week]/select,week,day;calendarDayButtonWeekViewGoTo[day]/select,month,day;calendarDayButtonDayViewGoTo[week]/select,month,week;calendarDayButtonRippleEffectColor[#mdwTheme:vis-materialdesign.0.colors.calendar.button_hover]/color;calendarDayButtonColor[#mdwTheme:vis-materialdesign.0.colors.calendar.button_background]/color;calendarDayButtonFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.calendar.button]/number;calendarDayButtonFontFamily[#mdwTheme:vis-materialdesign.0.fonts.calendar.button]/fontname;calendarDayButtonFontColor[#mdwTheme:vis-materialdesign.0.colors.calendar.button_text]/color;calendarDayButtonTodayColor[#mdwTheme:vis-materialdesign.0.colors.calendar.button_background_today]/color;calendarDayButtonTodayFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.calendar.button_today]/number;calendarDayButtonTodayFontFamily[#mdwTheme:vis-materialdesign.0.fonts.calendar.button_today]/fontname;calendarDayButtonTodayFontColor[#mdwTheme:vis-materialdesign.0.colors.calendar.button_text_today]/color;"
        data-vis-attrs4="group.controlLayout;controlShow[true]/checkbox;controlButtonLayout[text]/select,text,raised,unelevated,outlined;controlPosition[stretch]/select,stretch,left,right,center;controlMinWidth/number;controlShowLabel[true]/checkbox;controlButtonColor[#mdwTheme:vis-materialdesign.0.colors.calendar.control_panel_background]/color;controlButtonRippelEffectColor[#mdwTheme:vis-materialdesign.0.colors.calendar.control_panel_hover]/color;controlIconSize/number;controlIconColor[#mdwTheme:vis-materialdesign.0.colors.calendar.control_panel_icon]/color;controlTextSize[#mdwTheme:vis-materialdesign.0.fontSizes.calendar.control]/number;controlTextFont[#mdwTheme:vis-materialdesign.0.fonts.calendar.control]/fontname;controlTextColor[#mdwTheme:vis-materialdesign.0.colors.calendar.control_panel_text]/color;"
        data-vis-attrs5="group.calendarTimeAxisLayout;calendarTimeAxisStartTime/number,0,24,1;calendarTimeAxisEndTime/number,1,24,1;calendarTimeAxisIntervalMinutes/number;calendarTimeAxisBackgroundColor[#mdwTheme:vis-materialdesign.0.colors.calendar.time_axis_background]/color;calendarTimeAxisWidth/number;calendarTimeAxisHeight/number;calendarTimeAxisShortIntervals[true]/checkbox;calendarTimeAxisHeaderBackgroundColor[#mdwTheme:vis-materialdesign.0.colors.calendar.time_axis_background_header]/color;calendarTimeAxisFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.calendar.time_axis]/number;calendarTimeAxisFont[#mdwTheme:vis-materialdesign.0.fonts.calendar.time_axis]/fontname;calendarTimeAxisFontColor[#mdwTheme:vis-materialdesign.0.colors.calendar.time_axis_text]/color;"
        data-vis-attrs6="group.calendarEventLayout;calendarEventOverlapMode[column]/select,column,stack;calendarEventHeight/number;calendarEventFontSize[#mdwTheme:vis-materialdesign.0.fontSizes.calendar.event]/number;calendarEventFont[#mdwTheme:vis-materialdesign.0.fonts.calendar.event]/fontname;"
        data-vis-attrs7="group.calendarCustomFormats;calendarMonthViewHeaderFormat;calendarMonthViewDayFormat;calendarWeekViewHeaderFormat;calendarWeekViewDayFormat;calendarDayViewHeaderFormat;calendarDayViewDayFormat;">
        
        <div class="vis-widget materialdesign-widget materialdesign-calendar <%== this.data.attr('class') %>" style="width: 500px; height: 300px; overflow: visible;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.calendar(el, data) %> > 
            
        </div>
</script>

<script id="tplVis-materialdesign-Icon"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="materialdesign"
        data-vis-type="static"
        data-vis-prev='<img src="widgets/materialdesign/img/prev_icon.png"></img>'
        data-vis-name="Material Design Icon"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,materialdesignicon;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;mdwIcon/custom,materialdesign.viseditor.materialDesignIcons;mdwIconSize/number;mdwIconColor[#mdwTheme:vis-materialdesign.0.colors.material_design_icon.color]/color;generateHtmlControl/custom,materialdesign.viseditor.generateHtmlControl,materialdesignicons;debug/checkbox;">

        <div class="vis-widget materialdesign-widget materialdesign-icon <%== this.data.attr('class') %>" style="width: 50px; height: 50px; display: flex; align-items: center; justify-content: center;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.materialdesignicons.initialize(el, data) %> > 
            
        </div>
</script>


<script id="tplVis-materialdesign-Installed-Version"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplVis-materialdesign-Installed-Version" style="position: relative; text-align: initial; padding: 4px "><div class="vis-widget_prev materialdesign-installed-version vis-tpl-materialdesign-Installed Version " style="width: 120px; height: 22px; text-align: center; left: calc(50% - 170px); top: calc(50% + 55px); font-family: Tahoma, Geneva, sans-serif; position: absolute; z-index: 4;" data-tmodified="true" data-zmodified="true"> <div class="materialdesign-version-container"> <div class="materialdesign-version-content" style="background: #5a5a5a; border-radius: 4px 0 0 4px;">installed</div> <div id="versionNumber" class="materialdesign-version-content" style="background: #45b31b; border-radius: 0 4px 4px 0;">x.x.x</div> </div> <div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div></div></div>'
        data-vis-set="materialdesign"
        data-vis-type="tools"        
        data-vis-name="Installed Version"
        data-vis-update-style="true"
        data-vis-attrs="manual/custom,materialdesign.viseditor.manualLink,columnViews;donate/custom,materialdesign.viseditor.bmc;onlineExampleProject/custom,materialdesign.viseditor.onlineExample;useTheme/custom,materialdesign.viseditor.useTheme;debug/checkbox;">    

        <div class="vis-widget materialdesign-widget materialdesign-installed-version <%== this.data.attr('class') %>" style="width: 120px; height: 20px; text-align: center;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.materialdesign.helper.installedVersion(el, data) %>> 
            <div class="materialdesign-version-container">
                <div class="materialdesign-version-content" style="background: #5a5a5a; border-radius: 4px 0 0 4px;">installed</div>
                <div id="versionNumber" class="materialdesign-version-content" style="background: #45b31b; border-radius: 0 4px 4px 0;">0.2.39</div>  
            </div>
        </div>
</script>
<!-- --------------materialdesign.html--- END -->
<!-- --------------plumb.html--- START -->
<!--
    ioBroker.vis plumb widgets

    version: "1.0.1"

    Copyright 2015-2017 smiling_Jack <smiling_Jack@ioBroker.net>

-->
<link rel="stylesheet" type="text/css" href="widgets/plumb/css/plumb.css"/>

<script type="text/javascript" >
    "use strict";

    if (vis.editMode) {
        $.extend(true, systemDictionary, {
            "color_off": 		{"en": "color_off",             "de": "Farbe aus", "ru": "color_off"},
            "color_on": 		{"en": "color_on",              "de": "Farbe an", "ru": "color_on"},
            "group_conTop": 	{"en": "group_conTop",          "de": "Verbindung oben", "ru": "group_conTop"},
            "conTop_show": 		{"en": "conTop_show",           "de": "Anzeigen", "ru": "conTop_show"},
            "conTop_size": 		{"en": "conTop_size",           "de": "Größe", "ru": "conTop_size"},
            "conTop_pos": 		{"en": "conTop_pos",            "de": "Position", "ru": "conTop_pos"},
            "conTop": 			{"en": "conTop",                "de": "Verbindung oben", "ru": "conTop"},
            "group_conBottom": 	{"en": "group_conBottom",       "de": "Verbindung unten", "ru": "group_conBottom"},
            "conBottom_show": 	{"en": "conBottom_show",        "de": "Anzeigen", "ru": "conBottom_show"},
            "conBottom_size": 	{"en": "conBottom_size",        "de": "Größe", "ru": "conBottom_size"},
            "conBottom_pos": 	{"en": "conBottom_pos",         "de": "Position", "ru": "conBottom_pos"},
            "conBottom": 		{"en": "conBottom",             "de": "Verbindung unten", "ru": "conBottom"},
            "group_conLeft": 	{"en": "group_conLeft",         "de": "Verbindung links", "ru": "group_conLeft"},
            "conLeft_show": 	{"en": "conLeft_show",          "de": "Anzeigen", "ru": "conLeft_show"},
            "conLeft_size": 	{"en": "conLeft_size",          "de": "Größe", "ru": "conLeft_size"},
            "conLeft_pos": 		{"en": "conLeft_pos",           "de": "Position", "ru": "conLeft_pos"},
            "conLeft": 			{"en": "conLeft",               "de": "Verbindung links", "ru": "conLeft"},
            "group_conRight": 	{"en": "group_conRight",        "de": "Verbindung rechts", "ru": "group_conRight"},
            "conRight_show": 	{"en": "conRight_show",         "de": "Anzeigen", "ru": "conRight_show"},
            "conRight_size": 	{"en": "conRight_size",         "de": "Größe", "ru": "conRight_size"},
            "conRight_pos": 	{"en": "conRight_pos",          "de": "Position", "ru": "conRight_pos"},
            "conRight": 		{"en": "conRight",              "de": "Verbindung rechts", "ru": "conRight"},
            "type": 			{"en": "type", 					"de": "Art", "ru": "type"},
            "fix": 				{"en": "fix", 					"de": "Fix", "ru": "fix"},
            "bool_on": 			{"en": "bool_on", 				"de": "An", "ru": "bool_on"},
            "bool_off": 		{"en": "bool_off", 				"de": "Aus", "ru": "bool_off"},
            "level_min": 		{"en": "level_min", 			"de": "Wert min", "ru": "level_min"},
            "level_max": 		{"en": "level_max", 			"de": "Wert max", "ru": "level_max"},
            "water_color": 		{"en": "water_color", 			"de": "Wasserfabe", "ru": "water_color"},
            "is_filter": 		{"en": "is_filter", 			"de": "ist Filter", "ru": "is_filter"},
            "top_water": 		{"en": "top_water", 			"de": "Wasser oben", "ru": "top_water"},
            "bottom_water": 	{"en": "bottom_water", 			"de": "Wasser unten", "ru": "bottom_water"},
            "filter_pattern": 	{"en": "filter_pattern", 		"de": "Filter Bild", "ru": "filter_pattern"},
            "filter_size": 		{"en": "filter_size", 			"de": "Filter gröse ", "ru": "filter_size"},
            "filter_opa": 		{"en": "filter_opa", 			"de": "Filter trans.", "ru": "filter_opa"},
            "conTop_water": 	{"en": "conTop_water", 			"de": "Wasserfarbe", "ru": "conTop_water"},
            "conBottom_water": 	{"en": "conBottom_water", 		"de": "Wasserfarbe", "ru": "conBottom_water"},
            "conLeft_water": 	{"en": "conLeft_water", 		"de": "Wasserfarbe", "ru": "conLeft_water"},
            "conRight_water": 	{"en": "conRight_water", 		"de": "Wasserfarbe", "ru": "conRight_water"},
            "ctrl": 			{"en": "ctrl", 					"de": "ctrl", "ru": "ctrl"},
            "show_pipe": 		{"en": "show_pipe", 			"de": "Zeige Rohr", "ru": "show_pipe"},
            "show_symbol": 		{"en": "show_symbol", 			"de": "Zeige Symbol", "ru": "show_symbol"},
            "turn_direction": 	{"en": "turn_direction", 		"de": "Richtung", "ru": "turn_direction"},
            "position": 		{"en": "position", 				"de": "Position", "ru": "position"},
            "time": 			{"en": "time", 					"de": "Geschwindigkeit", "ru": "time"},
            "start": 			{"en": "start", 				"de": "Anfang", "ru": "start"},
            "ende": 			{"en": "ende", 					"de": "Ende", "ru": "ende"},
            "stroke": 			{"en": "stroke", 				"de": "Strahlbreite", "ru": "stroke"},
            "head_color": 		{"en": "head_color", 			"de": "Kopffarbe", "ru": "head_color"},
            "fog": 				{"en": "fog", 					"de": "Sprühnebel", "ru": "fog"},
            "head_show": 		{"en": "head_show", 			"de": "Kopf anzeigen", "ru": "head_show"},
            "head_round": 		{"en": "head_round", 			"de": "Kopf rund", "ru": "head_round"},
            "pipe_size": 		{"en": "Pipe size", 			"de": "Rohr größe", "ru": "pipe_size"},
            "spray_width": 		{"en": "spray_width", 			"de": "Sprühweite", "ru": "spray_width"},
            "spray_range": 		{"en": "spray_range", 			"de": "Sprühbereich", "ru": "spray_range"},
            "test": 			{"en": "test", 					"de": "Test", "ru": "test"},
            "head_size": 		{"en": "head_size", 			"de": "Kopfgröse", "ru": "head_size"},
            "opacity": 			{"en": "opacity", 				"de": "Transparenz", "ru": "opacity"},

            "group_filter": 	{"en": "group_filter", 			"de": "Filter", "ru": "group_filter"},
            "conTop_level": 	{"en": "conTop_level", 			"de": "Füllstand", "ru": "conTop_level"},
            "conTop_color_off": {"en": "conTop_color_off", 		"de": "Farbe aus", "ru": "conTop_color_off"},
            "conTop_color_on": 	{"en": "conTop_color_on", 		"de": "Farbe an", "ru": "conTop_color_on"},
            "conBottom_level": 	{"en": "conBottom_level", 		"de": "Füllstand", "ru": "conBottom_level"},
            "conBottom_color_off": {"en": "conBottom_color_off", "de": "Farbe aus", "ru": "conBottom_color_off"},
            "conBottom_color_on": {"en": "conBottom_color_on", 	"de": "Farbe an", "ru": "conBottom_color_on"},
            "conLeft_level": 	{"en": "conLeft_level", 		"de": "Füllstand", "ru": "conLeft_level"},
            "conLeft_color_off": {"en": "conLeft_color_off", 	"de": "Farbe aus", "ru": "conLeft_color_off"},
            "conLeft_color_on": {"en": "conLeft_color_on", 		"de": "Farbe an", "ru": "conLeft_color_on"},
            "conRight_level": 	{"en": "conRight_level", 		"de": "Füllstand", "ru": "conRight_level"},
            "conRight_color_off": {"en": "conRight_color_off", 	"de": "Farbe aus", "ru": "conRight_color_off"},
            "conRight_color_on": {"en": "conRight_color_on", 	"de": "Farbe an", "ru": "conRight_color_on"},
        });

        $(document).keydown(function (e) {
            if (vis.binds.plumb.dragging) {
                $("#visview_" + vis.activeView).find(".plumb_dock_bottom, .plumb_dock_left, .plumb_dock_right, .plumb_dock_top").droppable("option", "disabled", true).removeClass("drop-hover");
                e.preventDefault();
            }
            if (e.keyCode === 76) {
                if ($('#' + vis.activeWidgets[0]).hasClass("plumb_pipe")) {
                    vis.binds.plumb.check_lengh(vis.activeWidgets[0])
                }
            }
        });
    }

    vis.binds.plumb = {
		version: "1.0.0",
		showVersion: function () {
            if (vis.binds.plumb.version) {
                console.log('Version vis-plumb: ' + vis.binds.plumb.version);
                vis.binds.plumb.version = null;
            }
        },
        dragging: false,
        data: {},
        plumb_drop: function ($this, no_pos) {
            var drag_id;
            var self_id;
            var left;
            var top;
            if (vis.editMode) {

                $($this).find(".plumb_dock_top").droppable({
                    accept: ".pl_b:not(#" + $($this).attr('id') + ")",
                    hoverClass: "drop-hover",
                    tolerance: "touch",
                    drop: function (event, ui) {

                        drag_id = $(ui.draggable).attr('id');
                        self_id = $this.attr('id');
                        top = Math.round(parseInt($this.css('top')) - ui.draggable.height()) + 'px';
                        left = Math.round(parseInt($this.css('left')) + $(this).position().left - $(ui.draggable).find('.plumb_dock_bottom').position().left + (($(this).width() - $(ui.draggable).find('.plumb_dock_bottom').width()) / 2 )) + 'px';


                        vis.views[vis.activeView].widgets[self_id].data.conTop = drag_id;
                        vis.views[vis.activeView].widgets[drag_id].data.conBottom = self_id;
                        vis.views[vis.activeView].widgets[drag_id].style.top = top;
                        vis.views[vis.activeView].widgets[drag_id].style.left = left;

                        $('#inspect_conBottom').val(self_id);

                        $(ui.draggable).css({
                            top: top,
                            left: left
                        });

                        $('.widget-helper').css({
                            top: parseInt(top) - 1  + 'px',
                            left: parseInt(left) - 1 + 'px'
                        });
                        vis.save();

                    }
                });

                $($this).find('.plumb_dock_bottom').droppable({
                    accept: ".pl_t:not(#" + $($this).attr('id') + ")",
                    hoverClass: "drop-hover",
                    tolerance: "touch",
                    drop: function (event, ui) {
                        drag_id = $(ui.draggable).attr('id');
                        self_id = $this.attr('id');
                        left = Math.round(parseInt($this.css("left")) + $(this).position().left - $(ui.draggable).find(".plumb_dock_top").position().left + (($(this).width() - $(ui.draggable).find(".plumb_dock_top").width()) / 2 )) + 'px';
                        top = Math.round(parseInt($this.css("top")) + $this.height()) + 'px';

                        vis.views[vis.activeView].widgets[self_id].data.conBottom = drag_id;
                        vis.views[vis.activeView].widgets[drag_id].data.conTop = self_id;
                        vis.views[vis.activeView].widgets[drag_id].style.top = top;
                        vis.views[vis.activeView].widgets[drag_id].style.left = left;

                        $("#inspect_conTop").val(self_id);

                        $(ui.draggable).css({
                            "top": top,
                            "left": left
                        });

                        $('.widget-helper').css({
                            top: parseInt(top) - 1  + 'px',
                            "left": parseInt(left) - 1 + 'px'
                        });
                        vis.save();
                    }
                });

                $($this).find(".plumb_dock_left").droppable({
                    accept: ".pl_r:not(#" + $($this).attr('id') + ")",
                    hoverClass: "drop-hover",
                    tolerance: "touch",
                    drop: function (event, ui) {
                        drag_id = $(ui.draggable).attr('id');
                        self_id = $this.attr('id');
                        left = Math.round(parseInt($this.css("left")) - ui.draggable.width()) + 'px';
                        top = Math.round(parseInt($this.css("top")) + $(this).position().top - $(ui.draggable).find(".plumb_dock_right").position().top + (($(this).height() - $(ui.draggable).find(".plumb_dock_right").height()) / 2 )) + 'px';

                        vis.views[vis.activeView].widgets[self_id].data.conLeft = drag_id;
                        vis.views[vis.activeView].widgets[drag_id].data.conRight = self_id;
                        vis.views[vis.activeView].widgets[drag_id].style.top = top;
                        vis.views[vis.activeView].widgets[drag_id].style.left = left;

                        $("#inspect_conRight").val(self_id);

                        $(ui.draggable).css({
                            top: top,
                            "left": left
                        });

                        $('.widget-helper').css({
                            top: parseInt(top) - 1  + 'px',
                            "left": parseInt(left) - 1 + 'px'
                        });
                        vis.save();
                    }
                });

                $($this).find(".plumb_dock_right").droppable({
                    accept: ".pl_l:not(#" + $($this).attr('id') + ")",
                    hoverClass: "drop-hover",
                    tolerance: 'touch',
                    drop: function (event, ui) {
                        drag_id = $(ui.draggable).attr('id');
                        self_id = $this.attr('id');
                        left = Math.round(parseInt($this.css("left")) + $this.width()) + 'px';
                        top = Math.round(parseInt($this.css("top")) + $(this).position().top - $(ui.draggable).find(".plumb_dock_left").position().top + (($(this).height() - $(ui.draggable).find(".plumb_dock_left").height()) / 2 )) + 'px';

                        vis.views[vis.activeView].widgets[self_id].data.conRight = drag_id;
                        vis.views[vis.activeView].widgets[drag_id].data.conLeft = self_id;
                        vis.views[vis.activeView].widgets[drag_id].style.top = top;
                        vis.views[vis.activeView].widgets[drag_id].style.left = left;

                        $("#inspect_conLeft").val(self_id);

                        $(ui.draggable).css({
                            top: top,
                            "left": left
                        });

                        $('.widget-helper').css({
                            top: parseInt(top) - 1 + 'px',
                            "left": parseInt(left) - 1 + 'px'
                        });
                        vis.save();
                    }
                });

                $this.on("dragstart", function (event, ui) {
                    vis.binds.plumb.dragging = true;
                    $("#visview_" + vis.activeView).find(".plumb_dock_bottom, .plumb_dock_left, .plumb_dock_right, .plumb_dock_top").droppable("option", "disabled", false);
                });

                $this.on("dragstop", function (event, ui) {
                    vis.binds.plumb.dragging = false;
                });
            }
        },
        check_lengh: function (id) {
            if ($('#' + id).hasClass("plumb_pipe")) {
                var data = vis.views[vis.activeView].widgets[id].data;

                if (data.conLeft !== "" && data.conRight !== "" && data.conLeft !== undefined && data.conRight !== undefined) {
                    var $left = $('#' + data.conLeft);
                    var $right = $('#' + data.conRight);
                    var length;

                    length = parseInt($right.css("left")) - (parseInt($left.css("left")) + parseInt($left.css("width")));

                    if (length > 0) {
                        vis.views[vis.activeView].widgets[id].style.width = length + 'px';
                        vis.views[vis.activeView].widgets[id].style.left = parseInt($left.css("left")) + parseInt($left.css("width")) + 'px';
                        vis.save();
                        $('#' + id).css({
                            width: length + 'px',
                            "left": parseInt($left.css("left")) + parseInt($left.css("width")) + 'px'
                        });
                        $('.widget-helper').css({
                            width: length + 'px',
                            "left": parseInt($left.css("left")) + parseInt($left.css("width")) + 'px'
                        });
                    }

                } else if (data.conTop !== "" && data.conBottom !== "" && data.conTop !== undefined && data.conBottom !== undefined) {
                    var $top = $('#' + data.conTop);
                    var $bottom = $('#' + data.conBottom);

                    length = parseInt($bottom.css("top")) - (parseInt($top.css("top")) + parseInt($top.css('height')));
                    if (length > 0) {
                        vis.views[vis.activeView].widgets[id].style.height = length + 'px';
                        vis.views[vis.activeView].widgets[id].style.top = parseInt($top.css("top")) + parseInt($top.css('height')) + 'px';
                        vis.save();
                        $('#' + id).css({
                            height: length + 'px',
                            top: parseInt($top.css("top")) + parseInt($top.css('height')) + 'px'
                        });
                        $('.widget-helper').css({
                            height: length + 'px',
                            top: parseInt($top.css("top")) + parseInt($top.css('height')) + 'px'
                        });
                    }
                }
            }
        },
        check: function (id, event, back) {
            var data = {
                type:   'plumb_change',
                from:   event.from,
                color:  event.color,
                status: event.status
            };
            vis.binds.plumb.set_normal(id, data, back, event.list);

//            var $this = $('#' + id);
//            var plumb = vis.binds.plumb.data;
//            var self = vis.binds.plumb.data[id];

//            if (self.coli) {
//                if (!event.status) {
//                    vis.binds.plumb.rest_collision(id, data)
//                }
//            } else {
//                if (event.status) {
//                    if ((self.status == true && event.status == true && self.color.c != event.color.c && self.color.c_from != event.color.c_from && self.type != "tpice" )) {
//                        vis.binds.plumb.set_collision(id)
//                    } else {
//                        if (self.color.c != event.color.c || self.color.c_from != event.color.c_from) {
//                            vis.binds.plumb.set_normal(id, data)
//                        }
//                    }
//                } else {
//
////                    if (self.color.c != event.color.c || self.color.c_from != event.color.c_from) {
//                    vis.binds.plumb.set_normal(id, data)
////                    }
//                }
//            }

        },
        set_normal: function (id, event, back, list) {
            list = list || [];
            var self = vis.binds.plumb.data[id];
            $('#' + id + '_fill').attr('fill', event.color.c);

            self.status = event.status;
            self.color  = event.color;

            if (list.indexOf(id) === -1) {
                list.push(id);
                event.list = list;
                if (back) {
                    vis.binds.plumb.trigger_b(id, event);
                } else {
                    vis.binds.plumb.trigger(id, event);
                }
            } else {
                console.warn('Detected cyclic structure: ' + list.join(', ') + ' => ' + id);
            }
        },
        set_collision: function (id) {
            var plumb = vis.binds.plumb.data;
            var self = vis.binds.plumb.data[id];
            self.status = true;
            self.coli = true;

            if (self.conLeft && self.conRight) {
                $('#' + id + "_coli_l").attr("stop-color", plumb[self.conLeft].color.c);
                $('#' + id + "_coli_r").attr("stop-color", plumb[self.conRight].color.c);
                $('#' + id + "_fill").attr("fill", "url(#" + id + "_coli)");
            } else if (self.conTop && self.conBottom) {
                $('#' + id + "_coli_t").attr("stop-color", plumb[self.conTop].color.c);
                $('#' + id + "_coli_b").attr("stop-color", plumb[self.conBottom].color.c);
                $('#' + id + "_fill").attr("fill", "url(#" + id + "_coli)");
            }
        },
        rest_collision: function (id, event) {
            var plumb = vis.binds.plumb.data;
            var self = vis.binds.plumb.data[id];
            var e = JSON.parse(JSON.stringify(event));

            e.status = true;

            $.each(self.cons, function () {
                if (self[this] && self[this] !== event.from) {
                    e.color = plumb[self[this]].color;
                    self.color = e.color;
                }
            });

            $('#' + id + '_fill').attr('fill', e.color.c);

            vis.binds.plumb.trigger_b(id, e);
            self.coli = false;
        },
        trigger: function (id, event) {
            var self = vis.binds.plumb.data[id];
            var e = JSON.parse(JSON.stringify(event));
            $.each(self.cons, function () {
                if (self[this] && self[this] !== event.from) {
                    e.from = id;
                    var conArr = self[this].split(',');
                    conArr.forEach(function(value) {
                        $('#' + value).trigger(e);
                    });
                }
            });
        },
        trigger_b: function (id, event) {
            var self = vis.binds.plumb.data[id];
            var e = JSON.parse(JSON.stringify(event));
            $.each(self.cons, function () {
                if (self[this] && self[this] === event.from) {
                    e.from = id;
                    var conArr = self[this].split(',');
                    conArr.forEach(function(value) {
                        $('#' + value).trigger(e);
                    });
                }
            });
        },

        svg_tpiece: function (id) {
            $('#' + id + "_svg").append('\
            <svg\
            width="100%"\
            height="100%"\
            preserveAspectRatio="none"\
            viewBox="0 0 600 600"\
            >\
            <defs>\
            <radialGradient id="' + id + '_c" gradientUnits="userSpaceOnUse" cy="400" cx="400" gradientTransform="matrix(0 -1.393 1.4925 0 -197.01 957.21)" r="100">\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".666"/>\
            <stop stop-color="#000000" stop-opacity="0" offset="1"/>\
            </radialGradient>\
            <radialGradient id="' + id + '_b" gradientUnits="userSpaceOnUse" cy="400" cx="600" gradientTransform="matrix(-1.4925 0 0 -1.393 1295.5 757.21)" r="100">\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".666"/>\
            <stop stop-color="#000000" stop-opacity="0" offset="1"/>\
            </radialGradient>\
            <linearGradient id="' + id + '_e" y2="400" gradientUnits="userSpaceOnUse" x2="500" y1="200" x1="500">\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".5"/>\
            <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
            </linearGradient>\
            <linearGradient id="' + id + '_d" y2="300" gradientUnits="userSpaceOnUse" x2="400" y1="300" x1="200">\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".5"/>\
            <stop stop-color="#000000" stop-opacity="0" offset="1"/>\
            </linearGradient>\
            <linearGradient id="' + id + '_a" y2="500" gradientUnits="userSpaceOnUse" x2="400" y1="500" x1="200">\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".5"/>\
            <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
            </linearGradient>\
            </defs>\
            <g>\
            <path id="' + id + '_fill"  d="m400 200h200v200h-200zm-200-200h200v600h-200z" fill="#c0c0c0"/>\
            <g>\
            <rect height="200" width="200" y="200" x="200" fill="url(#' + id + '_c)"/>\
            <rect height="200" width="200" y="200" x="200" fill="url(#' + id + '_b)"/>\
            <rect height="200" width="200" y="200" x="200" fill="url(#' + id + '_d)"/>\
            <rect height="200" width="200" y="200" x="400" fill="url(#' + id + '_e)"/>\
            <rect height="200" width="200" y="400" x="200" fill="url(#' + id + '_a)"/>\
            <rect height="200" width="200" y="0" x="200"   fill="url(#' + id + '_a)"/>\
            </g>\
            </g>\
            </svg>\
            ');
        },
        svg_bogen: function (id) {
            $('#' + id + "_svg").append('\
            <svg\
            width="100%"\
            height="100%"\
            preserveAspectRatio="none"\
            viewBox="0 0 600 600"\
            >\
            <defs>\
            <clipPath id="' + id + '_clip">\
            <path d="m600 0a600 600 0 0 1 -600 600v-600z"/>\
            </clipPath>\
            <radialGradient id="' + id + '_a" gradientUnits="userSpaceOnUse" cy="0" cx="0" gradientTransform="matrix(0 2 -2 0 0 0)" r="300">\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".5"/>\
            <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
            <stop stop-color="#000000" stop-opacity="0" offset="1"/>\
            </radialGradient>\
            </defs>\
            <g clip-path="url(#' + id + '_clip)">\
            <path id="' + id + '_fill" fill="#c0c0c0" d="m600 0a600 600 0 0 1 -600 600v-600z"/>\
            <rect height="600" width="600" y="0" x="0" fill="url(#' + id + '_a)"/>\
            </g>\
            </svg>\
            ');
        },
        svg_pipe_v: function (id) {
            $('#' + id + '_svg').append('\
            <svg \
            width="100%"\
            height="100%"\
            preserveAspectRatio="none"\
            viewBox="0 0 100 100" ">\
            <defs>\
            <linearGradient id="' + id + '_a" gradientUnits="userSpaceOnUse" x2="100" y1="50" y2="50">\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".5"/>\
            <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
            </linearGradient>\
            <linearGradient id="' + id + '_coli" gradientUnits="userSpaceOnUse" y2="100" x1="50" x2="50">\
            <stop id="' + id + '_coli_t" stop-color="#000000" offset="0"/>\
            <stop id="' + id + '_coli_b" stop-color="#000000" offset="1"/>\
            </linearGradient>\
            </defs>\
            <rect  id="' + id + '_fill"  height="100" width="100" y="0" x="0" fill="#c0c0c0"/>\
            <rect height="100" width="100" y="0" x="0" fill="url(#' + id + '_a)"/>\
            </svg>\
            ');
        },
        svg_pipe_h: function (id) {
            $('#' + id + "_svg").append('\
            <svg \
            width="100%"\
            height="100%"\
            preserveAspectRatio="none"\
            viewBox="0 0 100 100" ">\
            <defs>\
            <linearGradient id="' + id + '_a"  gradientUnits="userSpaceOnUse" y2="100" x1="50" x2="50">\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".5"/>\
            <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
            </linearGradient>\
            <linearGradient id="' + id + '_coli" gradientUnits="userSpaceOnUse" x2="100" y1="50" y2="50">\
            <stop id="' + id + '_coli_l" stop-color="#000000" offset="0"/>\
            <stop id="' + id + '_coli_r" stop-color="#000000" offset="1"/>\
            </linearGradient>\
            </defs>\
            <rect  id="' + id + '_fill"  height="100" width="100" y="0" x="0" fill="#c0c0c0"/>\
            <rect height="100" width="100" y="0" x="0" fill="url(#' + id + '_a)"/>\
            </svg>\
            ');
        },
        svg_check_valve_h: function (id) {
            $('#' + id + "_svg").append('\
             <svg\
             width="100%"\
            height="100%"\
            preserveAspectRatio="none"\
             viewBox="0 0 500 200">\
            <defs>\
            <radialGradient id="' + id + '_a" gradientUnits="userSpaceOnUse" cy="80" cx="260" r="75">\
            <stop stop-color="#eeeeee" offset="0"/>\
            <stop stop-color="#bbbbbb" offset=".25"/>\
            <stop stop-color="#666666" offset="1"/>\
            </radialGradient>\
            <linearGradient id="' + id + '_b"  gradientUnits="userSpaceOnUse" x2="250" x1="250" y2="200">\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".5"/>\
            <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
            </linearGradient>\
            </defs>\
            <path id="' + id + '_fill_right"  d="m500 0h-250l-41 40v120l41 40h250v-200z"  fill="#c0c0c0"/>\
            <path id="' + id + '_fill_left" d="m0 0h250l-40 41v119l40 40h-249z"  fill="#c0c0c0"/>\
            <rect height="200" width="500" y="0" x="0" fill="url(#' + id + '_b)"/>\
            <g>\
            <path d="m250 200-100-100m100-100-100 100" stroke-linecap="round" stroke="#000000" stroke-width="20" />\
            <path d="m30 100 120 .26" stroke-linecap="round" stroke="#000000" stroke-width="20" />\
            <circle cy="100" cx="270" r="75" fill="url(#' + id + '_a)"/>\
            </g>\
            </svg>\
            ');
        },
        svg_check_valve_v: function (id) {
            $('#' + id + "_svg").append('\
             <svg\
             width="100%"\
            height="100%"\
            preserveAspectRatio="none"\
            viewBox="0 0 200 500">\
            <defs>\
            <radialGradient id="' + id + '_d" gradientUnits="userSpaceOnUse" cy="210" cx="90" r="75">\
            <stop stop-color="#eeeeee" offset="0"/>\
            <stop stop-color="#bbbbbb" offset=".25"/>\
            <stop stop-color="#666666" offset="1"/>\
            </radialGradient>\
            <linearGradient id="' + id + '_c" y2="250" gradientUnits="userSpaceOnUse" y1="250" gradientTransform="rotate(90)" x2="200" >\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".5"/>\
            <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
            </linearGradient>\
            </defs>\
            <path id="' + id + '_fill_top" d="m0 0v250l40 41h120l40-41v-250h-200z" fill="#c0c0c0"/>\
            <path id="' + id + '_fill_bottom"  d="m0 500v-250l41 40h119l40-40v250z"  fill="#c0c0c0"/>\
            <rect transform="rotate(-90)" height="200" width="500" y="0" x="-500" fill="url(#' + id + '_c)"/>\
            <g>\
            <path d="m200 252.4-100 100m-100-100 100 100" stroke="#000000" stroke-linecap="round" stroke-width="20" fill="none"/>\
            <circle cy="235" cx="100" r="75" fill="url(#' + id + '_d)"/>\
            <path d="m99.87 470.13.26-120" stroke="#000000" stroke-linecap="round" stroke-width="20" fill="none"/>\
            </g>\
            </svg>\
            ');
        },

        pump: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');
            var plumb = vis.binds.plumb.data;

            vis.binds.plumb.data[id] = {
                type: "pump",
                cons: [],
                coli: false,
                conLeft:   data.conLeft   || null,
                conRight:  data.conRight  || null,
                conTop:    data.conTop    || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            var self = plumb[id];

            setTimeout(function () {
                $this.find(".plumb_dock_right, .plumb_dock_left, .plumb_dock_top, .plumb_dock_bottom").remove();
                var l;
                var t;
                var s;

                if (data.conTop && data.conTop != "") {
                    self.cons.push("conTop");
                    if (data.conTop_show) {
                        $this.find(".pump").append('<div id="' + id + '_dock_top_svg" class="plumb_dock_top"></div>');
                        vis.binds.plumb.svg_pipe_v(id + "_dock_top");

                        s = (data.conTop_size || 20);
                        t = '-10';
                        l = (($this.width() - s) / 100 * (data.conTop_pos || 50));

                        $this.find(".plumb_dock_top").css({
                            top: t + 'px',
                            left: l + 'px',
                            height: '20px',
                            width: s + 'px'
                        });

                        $('#' + id + "_dock_top_fill").attr("fill", data.color_off);
                    }
                }

                if (data.conBottom && data.conBottom != "") {
                    self.cons.push("conBottom");
                    if (data.conBottom_show) {
                        $this.find(".pump").append('<div id="' + id + '_dock_bottom_svg" class="plumb_dock_bottom"></div>');
                        vis.binds.plumb.svg_pipe_v(id + "_dock_bottom");
                        s = (data.conBottom_size || 20);
                        t = '-10';
                        l = (($this.width() - s) / 100 * (data.conBottom_pos || 50));

                        $this.find(".plumb_dock_bottom").css({
                            bottom: t + 'px',
                            left: l + 'px',
                            height: '20px',
                            width: s + 'px'
                        });
                        $('#' + id + "_dock_bottom_fill").attr("fill", data.color_off);
                    }
                }

                if (data.conLeft && data.conLeft != "") {
                    self.cons.push("conLeft");
                    if (data.conLeft_show) {
                        $this.find(".pump").append('<div id="' + id + '_dock_left_svg" class="plumb_dock_left"></div>');
                        vis.binds.plumb.svg_pipe_h(id + "_dock_left");
                        s = (data.conLeft_size || 20);
                        l = '-10';
                        t = (($this.height() - s) / 100 * (data.conLeft_pos || 50));

                        $this.find(".plumb_dock_left").css({
                            top: t + 'px',
                            left: l + 'px',
                            height: s + 'px',
                            width: '20px'
                        });
                        $('#' + id + "_dock_left_fill").attr("fill", data.color_off);
                    }
                }

                if (data.conRight && data.conRight != "") {
                    self.cons.push("conRight");
                    if (data.conRight_show) {
                        $this.find(".pump").append('<div id="' + id + '_dock_right_svg" class="plumb_dock_right"></div>');
                        vis.binds.plumb.svg_pipe_h(id + "_dock_right");
                        s = (data.conRight_size || 20);
                        l = '-10';
                        t = (($this.height() - s) / 100 * (data.conRight_pos || 50));

                        $this.find(".plumb_dock_right").css({
                            top: t + 'px',
                            right: l + 'px',
                            height: s + 'px',
                            width: '20px'
                        });
                        $('#' + id + "_dock_right_fill").attr("fill", data.color_off);
                    }
                }
                vis.binds.plumb.plumb_drop($this);
            });

            $this.bind('plumb_change', function (event) {
                if (vis.states[data.oid + '.val'] >= 1 && !event.status && event.color.c_from !== id) {
                    setTimeout(function () {
                        var ev = {
                            type: 'plumb_change',
                            from: id,
                            status: true,
                            list: event.list,
                            color: {
                                c_from: id,
                                c_default: data.color_off,
                                c: data.color_on
                            }
                        };
                        self.color = ev.color;
                        $('#' + event.from).trigger(ev);
                    }, 0);
                }
            });

            vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                vis.binds.plumb.stop = 0;
                var ev = {
                    type: 'plumb_change',
                    from: id,
                    color: {
                        c_from: id,
                        c_default: data.color_off
                    }
                };
                if (newVal >= 1) {
                    ev.color.c = data.color_on;
                    ev.status = true
                } else {
                    ev.color.c = data.color_off;
                    ev.status = false
                }
                self.color = ev.color;
                $.each(self.cons, function () {
                    $('#' + id + "_dock_top_fill").attr("fill", ev.color.c);
                    $('#' + id + "_dock_bottom_fill").attr("fill", ev.color.c);
                    $('#' + id + "_dock_left_fill").attr("fill", ev.color.c);
                    $('#' + id + "_dock_right_fill").attr("fill", ev.color.c);
                    var conArr = self[this].split(',');
                    conArr.forEach(function(value) {
                        $('#' + value).trigger(ev);
                    });
                });
            });

            setTimeout(function () {
                $($this.parent()).on("rendered", function () {
                    var ev = {
                        type: 'plumb_change',
                        from: id,
                        color: {
                            c_from: id,
                            c_default: data.color_off
                        }
                    };
                    if (vis.states[data.oid + '.val'] >= 1) {
                        ev.color.c = data.color_on;
                        ev.status = true;
                        self.status = true;
                    } else {
                        ev.color.c = data.color_off;
                        ev.status = false;
                        self.status = true;
                    }
                    self.color = ev.color;
                    $.each(self.cons, function () {
                        $('#' + id + "_dock_top_fill").attr("fill", ev.color.c);
                        $('#' + id + "_dock_bottom_fill").attr("fill", ev.color.c);
                        $('#' + id + "_dock_left_fill").attr("fill", ev.color.c);
                        $('#' + id + "_dock_right_fill").attr("fill", ev.color.c);
                        var conArr = self[this].split(',');
                        conArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    });
                })
            });
        },
        sprinkler_i: function (el, data) {
            var $this = $(el).parent();
            var $head = $(el);
            var $wp = $this.find(".plumb_sprinkler_i");
            var $water = $this.find(".plumb_sprinkler_i_water");
            var id = $this.attr('id');
            var plumb = vis.binds.plumb.data;

            vis.binds.plumb.data[id] = {
                type: "pump",
                cons: ["conTop", "conBottom", "conLeft", "conRight"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            var self = plumb[id];

            $this.css('overflow', 'visible');

            vis.binds.plumb.plumb_drop($this);

            $($this).on('resize', function () {
                set();
            });

            $this.bind('plumb_change', function (event) {
                self.status = event.status;
                if (event.status) {
                    $wp.show();
                    $head.css({
                        "background-color": data.head_color
                    });
                } else {
                    $wp.hide();
                    if (!data['head-show']) {
                        $head.css({
                            "background-color": 'transparent'
                        });
                    }
                }
            });

            function set() {
                $('#' + id + '_style').remove();

                $('<style id="' + id + '_style">\
                    @-webkit-keyframes ' + id + '-ANIMATION {\
                        0%   { -webkit-transform: rotate(' + data.start + 'deg);}\
                        80%  { -webkit-transform: rotate(' + data.ende + 'deg);}\
                        100% { -webkit-transform: rotate(' + data.start + 'deg);}\
                    }\
                    @keyframes ' + id + '-ANIMATION {\
                        0%   { transform: rotate(' + data.start + 'deg);}\
                        80%  { transform: rotate(' + data.ende + 'deg); }\
                        100% { transform: rotate(' + data.start + 'deg);}\
                    }\
                <style>').appendTo("head");


                $wp.css({
                    "-webkit-animation": id + "-ANIMATION " + data.time + "s infinite linear",
                    "animation": id + "-ANIMATION " + data.time + "s infinite linear"
                });
                $water.css({
                    height: data.spray_width + 'px',
                    width: data.stroke + 'px',
                    left: parseInt($($wp).width() / 2 - data.stroke / 2) + 'px',
                    top: parseInt($($wp).height() / 2 - data.spray_width) + 'px',
                    position: "relative",
                    "background-color": data.water_color,
                    opacity: data.opacity,
                    "border-radius": "100px"
                });


                if (data.fog) {
                    $water.css({
                        "box-shadow": '0 0 ' + (data.stroke * 2) + 'px ' + data.stroke + 'px ' + data.water_color
                    })
                }

                if (data.head_round === 'true' || data.head_round === true) {
                    $head.css({
                        "border-radius": '100%'
                    });
                }

                if (self.status || (vis.editMode && data.test)) {
                    $wp.show()
                } else {
                    $wp.hide()
                }

                if ((self.status === true || data.head_show === "true" || data.head_show === true ) || (vis.editMode && (data.test === "true" || data.test === true))) {
                    $head.css({
                        "background-color": data.head_color
                    });
                } else {
                    $head.css({
                        "background-color": 'transparent'
                    });
                }
            }

            setTimeout(function () {
                set();
            });
        },
        sprinkler_r: function (el, data) {
            var $this = $(el).parent();
            var $head = $this.find(".plumb_sprinkler_r_head");
            var $water = $this.find(".plumb_sprinkler_r");
            var id = $this.attr('id');
            var plumb = vis.binds.plumb.data;

            vis.binds.plumb.data[id] = {
                type: 'pump',
                cons: ["conTop", "conBottom", "conLeft", "conRight"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            var self = plumb[id];

            vis.binds.plumb.plumb_drop($this);

            $this.bind('plumb_change', function (event) {
                self.status = event.status;
                if (event.status) {
                    $water.show();
//                    $head.css({
//                        "background-color": data.head_color
//                    });
                } else {
                    $water.hide();
                    if (!data["head-show"]) {
//                        $head.css({
//                            "background-color": "transparent"
//                        });
                    }
                }
            });

            function set() {
                var time   = data.time   || 36;
                var start  = data.start  || 0;
                var end    = data.ende   || 180;
                var stroke = data.stroke || 10;
                var set_w  = parseInt(data.spray_width);
                var svg_w  = set_w;
                var svg_t;
                var svg_l;
                var spray_w;
                var spray_t;
                var spray_h;
                var spray_l;
                var radius;
                var head = parseInt(data.head_size, 10) / 2;

                if (data.spray_range === '270-90') {
                    svg_t = 0;
                    svg_l = 0;
                    spray_w = set_w;
                    spray_h = set_w / 2;
                    spray_t = -set_w / 2 + head;
                    spray_l = -set_w / 2 + head;

                    start = 180 / 100 * parseInt(start, 10) + 270;
                    end = 180 / 100 * parseInt(end, 10) + 270;
                } else if (data.spray_range === '90-270') {
                    svg_t = -set_w / 2;
                    svg_l = 0;
                    spray_w = set_w;
                    spray_h = set_w / 2;
                    spray_t = head;
                    spray_l = -set_w / 2 + head;

                    start = 180 / 100 * parseInt(start, 10) + 90;
                    end = 180 / 100 * parseInt(end, 10) + 90;
                } else if (data.spray_range === '180-360') {
                    svg_t = 0;
                    svg_l = 0;
                    spray_w = set_w / 2;
                    spray_h = set_w;
                    spray_t = -set_w / 2 + head;
                    spray_l = -set_w / 2 + head;

                    start = 180 / 100 * parseInt(start, 10) + 180;
                    end = 180 / 100 * parseInt(end, 10) + 180;
                } else if (data.spray_range === '0-180') {
                    svg_t = 0;
                    svg_l = -set_w / 2;
                    spray_w = set_w / 2;
                    spray_h = set_w;
                    spray_t = -set_w / 2 + head;
                    spray_l = head;

                    start = 180 / 100 * parseInt(start, 10);
                    end = 180 / 100 * parseInt(end, 10);
                } else if (data.spray_range === '270-360') {
                    svg_t = 0;
                    svg_l = 0;
                    spray_w = set_w / 2;
                    spray_h = set_w / 2;
                    spray_t = -set_w / 2 + head;
                    spray_l = -set_w / 2 + head;

                    start = 90 / 100 * parseInt(start, 10) + 270;
                    end = 90 / 100 * parseInt(end, 10) + 270;
                } else if (data.spray_range === '0-90') {
                    svg_t = 0;
                    svg_l = -set_w / 2;
                    spray_w = set_w / 2;
                    spray_h = set_w / 2;
                    spray_t = -set_w / 2 + head;
                    spray_l = head;

                    start = 90 / 100 * parseInt(start, 10);
                    end = 90 / 100 * parseInt(end, 10);
                } else if (data.spray_range === '180-270') {
                    svg_t = -set_w / 2;
                    svg_l = 0;
                    spray_w = set_w / 2;
                    spray_h = set_w / 2;
                    spray_t = head;
                    spray_l = -set_w / 2 + head;

                    start = 90 / 100 * parseInt(start, 10) + 180;
                    end = 90 / 100 * parseInt(end, 10) + 180;
                } else if (data.spray_range === '90-180') {
                    svg_t = -set_w / 2;
                    svg_l = -set_w / 2;
                    spray_w = set_w / 2;
                    spray_h = set_w / 2;
                    spray_t = head;
                    spray_l = head;

                    start = 90 / 100 * parseInt(start, 10) + 90;
                    end = 90 / 100 * parseInt(end, 10) + 90;
                } else if (data.spray_range === '360') {
                    svg_t = 0;
                    svg_l = 0;
                    spray_w = set_w;
                    spray_h = set_w;
                    spray_t = -set_w / 2 + head;
                    spray_l = -set_w / 2 + head;
                    start = 360 / 100 * parseInt(start, 10);
                    if (end === '100') {
                        end = 359.99;
                    } else {
                        end = 360 / 100 * parseInt(end, 10);
                    }
                }
                if (data.head_round) {
                    radius = '100%';
                } else {
                    radius = '0';
                }
                $water.css({
                    top: parseInt(spray_t) + 'px',
                    left: parseInt(spray_l) + 'px',
                    height: spray_h + 'px',
                    width: spray_w + 'px',
                    position: 'absolute',
                    overflow: 'hidden'
                });

                $this.css({
                    "border-radius": radius,
                    width: data.head_size + 'px',
                    height: data.head_size + 'px'
                });

                $('#widget_helper_' + id).css({
                    width: parseInt(data.head_size) + 2 + 'px',
                    height: parseInt(data.head_size) + 2 + 'px'
                });


                var _turn_winkel = start * Math.PI / 180;
                var r = 250;
                var x1 = 250 + r * Math.sin(_turn_winkel);
                var y1 = 250 - r * Math.cos(_turn_winkel);
                var x2 = 250 + r * Math.sin(end * Math.PI / 180);
                var y2 = 250 - r * Math.cos(end * Math.PI / 180);
                var p;
                if ((end - start) < 180) {
                    p = "M" + x1 + "," + y1 + " A" + r + "," + r + " 0 0,1 " + x2 + "," + y2 + "L 250 250 z";
                } else {
                    p = "M" + x1 + "," + y1 + " A" + r + "," + r + " 0 1,1 " + x2 + "," + y2 + " L 250 250 z"
                }

                $('#' + id + "_svg").remove();
                $water.append('\
                    <svg\
                    xmlns:svg="http://www.w3.org/2000/svg"\
                    xmlns="http://www.w3.org/2000/svg"\
                    id = "' + id + '_svg"\
                    width="100%"\
                    height="100%"\
                    viewBox="0 0 500 500"\
                    >\
                <clipPath id="starfoo_' + id + '">\
                    <path d="' + p + '"/>\
                    </clipPath>\
                         <g transform="translate(0,0)" clip-path="url(#starfoo_' + id + ')">\
                            <g style="stroke:' + data.water_color + ';stroke-width:' + stroke + ';stroke-linecap:round;stroke-opacity:' + data.opacity + '" >\
                                <path d="M 250,500 250,0"/>\
                                <path d="M 293,496 207,3.8"/>\
                                <path d="M 335,485 165,14.7"/>\
                                <path d="M 375,467 125,33"/>\
                                <path d="M 411,442 89.2,58"/>\
                                <path d="M 442,411 58.3,88.9"/>\
                                <path d="M 467,375 33.2,125"/>\
                                <path d="M 485,335 14.8,165"/>\
                                <path d="M 496,293 3.61,207"/>\
                                <path d="M 500,250 -0.117,250"/>\
                                <path d="M 496,207 3.68,293"/>\
                                <path d="M 485,165 14.9,335"/>\
                                <path d="M 467,125 33.2,375"/>\
                                <path d="M 442,89.2 58.2,411"/>\
                                <path d="M 411,58.3 89.1,442"/>\
                                <path d="M 375,33.3 125,467"/>\
                                <path d="M 335,14.9 165,485"/>\
                                <path d="M 293,3.71 207,496"/>\
                                <animateTransform id="t_two_' + id + '" attributeName="transform" type="rotate" from="0 250 250" to=" 360 250 250" begin="0s" dur="' + time + '" repeatCount="indefinite"   />\
                            </g>\
                        </g>\
                    </svg>\
                ');
                //                    <circle cx="250" cy="250" r="' + data.head_size + '"  fill="' + data.head_color + '"  />\

                if (self.status || (vis.editMode && data.test)) {
                    $water.show()
                } else {
                    $water.hide()
                }

                var $svg = $this.find("svg");
                $svg.css({
                    width: svg_w + 'px',
                    height: svg_w + 'px',
                    top: parseInt(svg_t) + 'px',
                    left: parseInt(svg_l) + 'px',
                    position: 'absolute'
                });

                if (data.head_round === 'true' || data.head_round === true) {
                    $head.css({
                        "border-radius": '100%'
                    });
                }
            }

            setTimeout(function () {
                set();
            });
        },
        pipe_h: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');

            $($this).on('resize', function () {
                $('#widget_helper_' + id).css({
                    top: parseInt($this.css('top')) - 2 + 'px',
                    left: parseInt($this.css('left')) - 2 + 'px'
                })
            });

            $($this).on('resizestop', function (event, ui) {
                vis.views[vis.activeView].widgets[id].style.left = ui.position.left;
                vis.views[vis.activeView].widgets[id].style.top = ui.position.top;
                vis.save();
            });
            vis.binds.plumb.data[id] = {
                type: 'pipe',
                cons: ["conLeft", "conRight"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            setTimeout(function () {
                vis.binds.plumb.svg_pipe_h(id);

                $($this).css('height', data.pipe_size + 'px');
                $('#widget_helper_' + id).css({
                    height: parseInt(data.pipe_size) + 2 + 'px'
                });
                if (data.oid) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(vis.states[data.oid + '.val']) ? $this.data('color_on') : $this.data('color_off'));
                }
            });

            vis.binds.plumb.plumb_drop($this);
            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || '#c0c0c0');

            if (data.oid) {
                vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(newVal) ? $this.data('color_on') : $this.data('color_off'));
                });
            } else {
                $this.bind('plumb_change', function (event) {
                    vis.binds.plumb.check(id, event);
                });
            }
        },
        pipe_v: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');

            vis.binds.plumb.data[id] = {
                type:       'pipe',
                cons:       ['conTop', 'conBottom'],
                coli:       false,
                conLeft:    data.conLeft    || null,
                conRight:   data.conRight   || null,
                conTop:     data.conTop     || null,
                conBottom:  data.conBottom  || null,
                status:     false,
                color: {
                    c:          null,
                    c_from:     null,
                    c_default:  null
                }
            };
            $($this).on('resize', function () {
                $('#widget_helper_' + id).css({
                    top:    parseInt($this.css('top'))  - 2 + 'px',
                    left:   parseInt($this.css('left')) - 2 + 'px'
                })
            });

            $($this).on("resizestop", function (event, ui) {
                vis.views[vis.activeView].widgets[id].style.left = ui.position.left;
                vis.views[vis.activeView].widgets[id].style.top = ui.position.top;
                vis.save();
            });

            setTimeout(function () {
                vis.binds.plumb.svg_pipe_v(id);

                $($this).css('width', data.pipe_size + 'px');
                $('#widget_helper_' + id).css({
                    width: parseInt(data.pipe_size) + 2 + 'px'
                });
                if (data.oid) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(vis.states[data.oid + '.val']) ? $this.data('color_on') : $this.data('color_off'));
                }
            });

            vis.binds.plumb.plumb_drop($this);

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || '#c0c0c0');

            if (data.oid) {
                vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(newVal) ? $this.data('color_on') : $this.data('color_off'));
                });
            } else {
                $this.bind('plumb_change', function (event) {
                    vis.binds.plumb.check(id, event);
                });
            }
        },
        bogen_br: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');

            vis.binds.plumb.data[id] = {
                type: 'pipe',
                cons: ["conRight", "conBottom"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            setTimeout(function () {
                vis.binds.plumb.svg_bogen(id);
                $($this).css({
                    height: data.pipe_size + 'px',
                    width: data.pipe_size + 'px'
                });
                $('#widget_helper_' + id).css({
                    height: parseInt(data.pipe_size) + 2 + 'px',
                    width: parseInt(data.pipe_size) + 2 + 'px'
                });
                if (data.oid) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(vis.states[data.oid + '.val']) ? $this.data('color_on') : $this.data('color_off'));
                }
            });

            vis.binds.plumb.plumb_drop($this);

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || '#c0c0c0');

            if (data.oid) {
                vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(newVal) ? $this.data('color_on') : $this.data('color_off'));
                });
            } else {
                $this.bind('plumb_change', function (event) {
                    vis.binds.plumb.check(id, event);
                });
            }
        },
        bogen_bl: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');

            vis.binds.plumb.data[id] = {
                type: 'pipe',
                cons: ["conLeft", "conBottom"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            setTimeout(function () {
                vis.binds.plumb.svg_bogen(id);
                $($this).css({
                    height: data.pipe_size + 'px',
                    width: data.pipe_size + 'px'
                });
                $('#widget_helper_' + id).css({
                    height: parseInt(data.pipe_size) + 2 + 'px',
                    width: parseInt(data.pipe_size) + 2 + 'px'
                });
                if (data.oid) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(vis.states[data.oid + '.val']) ? $this.data('color_on') : $this.data('color_off'));
                }
            });

            vis.binds.plumb.plumb_drop($this);

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || '#c0c0c0');

            if (data.oid) {
                vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(newVal) ? $this.data('color_on') : $this.data('color_off'));
                });
            } else {
                $this.bind('plumb_change', function (event) {
                    vis.binds.plumb.check(id, event);
                });
            }
        },
        bogen_tr: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');

            vis.binds.plumb.data[id] = {
                type:       'pipe',
                cons:       ["conRight", "conTop"],
                coli:       false,
                conLeft:    data.conLeft || null,
                conRight:   data.conRight || null,
                conTop:     data.conTop || null,
                conBottom:  data.conBottom || null,
                status:     false,
                color: {
                    c:          null,
                    c_from:     null,
                    c_default:  null
                }
            };

            setTimeout(function () {
                vis.binds.plumb.svg_bogen(id);
                $($this).css({
                    height: data.pipe_size + 'px',
                    width: data.pipe_size + 'px'
                });
                $('#widget_helper_' + id).css({
                    height: parseInt(data.pipe_size) + 2 + 'px',
                    width:  parseInt(data.pipe_size) + 2 + 'px'
                });
                if (data.oid) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(vis.states[data.oid + '.val']) ? $this.data('color_on') : $this.data('color_off'));
                }
            });

            vis.binds.plumb.plumb_drop($this);

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || '#c0c0c0');

            if (data.oid) {
                vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(newVal) ? $this.data('color_on') : $this.data('color_off'));
                });
            } else {
                $this.bind('plumb_change', function (event) {
                    vis.binds.plumb.check(id, event);
                });
            }
        },
        bogen_tl: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');

            vis.binds.plumb.data[id] = {
                type: 'pipe',
                cons: ["conLeft", "conTop"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            setTimeout(function () {
                vis.binds.plumb.svg_bogen(id);
                $($this).css({
                    height: data.pipe_size + 'px',
                    width: data.pipe_size + 'px'
                });
                $('#widget_helper_' + id).css({
                    height: parseInt(data.pipe_size) + 2 + 'px',
                    width: parseInt(data.pipe_size) + 2 + 'px'
                });
                if (data.oid) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(vis.states[data.oid + '.val']) ? $this.data('color_on') : $this.data('color_off'));
                }
            });

            vis.binds.plumb.plumb_drop($this);

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || '#c0c0c0');

            if (data.oid) {
                vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(newVal) ? $this.data('color_on') : $this.data('color_off'));
                });
            } else {
                $this.bind('plumb_change', function (event) {
                    vis.binds.plumb.check(id, event);
                });
            }
        },
        valve_h: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');
            var plumb = vis.binds.plumb.data;
            var last_from;

            plumb[id] = {
                type: 'pipe',
                cons: ["conLeft", "conRight"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            var self = plumb[id];

            $($this).css({
                height: parseInt(data.pipe_size) + 'px',
                width: parseInt(parseInt(data.pipe_size) * 1.5) + 'px'
            });
            $('#widget_helper_' + id).css({
                height: parseInt(data.pipe_size) + 2 + 'px',
                width: parseInt(parseInt(data.pipe_size) * 1.5) + 2 + 'px'
            });

            vis.binds.plumb.plumb_drop($this);

            if (data.ctrl) {
                $(el).on('click touchstart', function () {
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    if (vis.states[data.oid + '.val'] >= 1) {
                        vis.setValue(data.oid, 0);
                    } else {
                        vis.setValue(data.oid, 1);
                    }
                });
            }

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || 'red');

            $this.bind('plumb_change', function (event) {
                if (event.status) {
                    last_from = event.from;
                }

                if (vis.states[data.oid + '.val'] >= 1) {
                    vis.binds.plumb.check(id, event);
                }
            });

            function set(newVal) {
                var ev = {
                    type:   'plumb_change',
                    from:   id,
                    status: true
                };

                function check_ev(ev) {
                    var x = ev;
                    x.color = x.color || {};
                    if (!x.color.c) x.color.c = '#c0c0c0';
                    if (!x.color.c_default) x.color.c_default = '#c0c0c0';
                    return x
                }

                if (newVal === true) newVal = 1;
                    else if (newVal === false) newVal = 0;
                var conLeftArr = self.conLeft.split(',');
                var conRightArr = self.conRight.split(',');
                if (newVal >= 1) {
                    $this.find('path').attr('fill', $this.data('color_on'));
                    if (self.conLeft == last_from && last_from !== undefined && plumb[self.conLeft] && plumb[self.conLeft].status) {
                        ev.color        = JSON.parse(JSON.stringify(plumb[self.conLeft].color));
                        ev.status       = JSON.parse(JSON.stringify(plumb[self.conLeft].status));
                        ev              = check_ev(ev);
                        self.color      = ev.color;
                        self.status     = ev.status;
                        conRightArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    } else if (plumb[self.conRight] && plumb[self.conRight].status) {
                        last_from   = self.conRight;
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conRight].color));
                        ev.status   = JSON.parse(JSON.stringify(plumb[self.conRight].status));
                        ev          = check_ev(ev);
                        self.color  = ev.color;
                        self.status = ev.status;
                        conRightArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    } else {
                        if (conLeftArr.length <= 1) {
                            last_from   = self.conLeft;
                            ev.color    = JSON.parse(JSON.stringify(plumb[self.conLeft] ? plumb[self.conLeft].color : {c_default: $this.data('color_on')}));
                            ev.status   = JSON.parse(JSON.stringify(plumb[self.conLeft] ? plumb[self.conLeft].status : false));
                        }
                        else if (conRightArr.length <= 1) {
                            last_from   = self.conRight;
                            ev.color    = JSON.parse(JSON.stringify(plumb[self.conRight] ? plumb[self.conRight].color : {c_default: $this.data('color_on')}));
                            ev.status   = JSON.parse(JSON.stringify(plumb[self.conRight] ? plumb[self.conRight].status : false));
                        }
                        ev          = check_ev(ev);
                        self.color  = ev.color;
                        self.status = ev.status;
                        conRightArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    }
                } else {
                    $this.find('path').attr('fill', $this.data('color_off'));
                    if (self.conLeft == last_from) {
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conLeft] ? plumb[self.conLeft].color : {c_default: $this.data('color_off')}));
                        ev.status   = false;
                        ev.color.c  = ev.color.c_default;
                        ev          = check_ev(ev);
                        self.color  = ev.color;
                        self.status = false;
                        conRightArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    }

                    if (self.conRight == last_from) {
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conRight] ? plumb[self.conRight].color : {c_default: $this.data('color_off')}));
                        ev.status   = false;
                        ev.color.c  = ev.color.c_default;
                        ev          = check_ev(ev);
                        self.color  = ev.color;
                        self.status = false;
                        conLeftArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    }
                }
            }

            vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                set(newVal)
            });

            if (vis.states[data.oid + '.val'] >= 1) {
                $this.find("path").attr("fill", $this.data('color_on'));
            } else {
                $this.find("path").attr("fill", $this.data('color_off'));
            }
        },
        valve_v: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');
            var plumb = vis.binds.plumb.data;
            var last_from;
            vis.binds.plumb.data[id] = {
                type:       'pipe',
                cons:       ["conTop", "conBottom"],
                coli:       false,
                conLeft:    data.conLeft || null,
                conRight:   data.conRight || null,
                conTop:     data.conTop || null,
                conBottom:  data.conBottom || null,
                status:     false,
                color: {
                    c:          null,
                    c_from:     null,
                    c_default:  null
                }
            };

            var self = plumb[id];

            $($this).css({
                height: parseInt(parseInt(data.pipe_size) * 1.5) + 'px',
                width:  parseInt(data.pipe_size) + 'px'
            });
            $('#widget_helper_' + id).css({
                height: parseInt(parseInt(data.pipe_size) * 1.5) + 2 + 'px',
                width: parseInt(data.pipe_size) + 2 + 'px'
            });

            vis.binds.plumb.plumb_drop($this);

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || 'red');

            if (data.ctrl) {
                $(el).on('click touchstart', function () {
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    if (vis.states[data.oid + '.val'] >= 1) {
                        vis.setValue(data.oid, 0);
                    } else {
                        vis.setValue(data.oid, 1);
                    }
                });
            }

            $this.bind('plumb_change', function (event) {
                if (vis.states[data.oid + '.val'] >= 1) {
                    vis.binds.plumb.check(id, event);
                }
            });

            function set(newVal) {
                var ev = {
                    type:   'plumb_change',
                    from:   id,
                    status: true
                };

                function check_ev(ev) {
                    var x = ev;
                    x.color = x.color || {};
                    if (!x.color.c)         x.color.c = '#c0c0c0';
                    if (!x.color.c_default) x.color.c_default = '#c0c0c0';
                    return x
                }

                if (newVal === true) newVal = 1;
                    else if (newVal === false) newVal = 0;
                var conBottomArr = self.conBottom.split(',');
                var conTopArr = self.conTop.split(',');
                if (newVal >= 1) {
                    $this.find('path').attr('fill', $this.data('color_on'));

                    if (self.conTop == last_from && last_from !== undefined && plumb[self.conTop] && plumb[self.conTop].status) {
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conTop].color));
                        ev.status   = JSON.parse(JSON.stringify(plumb[self.conTop].status));
                        ev          = check_ev(ev);
                        self.color  = ev.color;
                        self.status = ev.status;
                        conBottomArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    } else if (plumb[self.conBottom] && plumb[self.conBottom].status) {
                        last_from   = self.conBottom;
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conBottom].color));
                        ev.status   = JSON.parse(JSON.stringify(plumb[self.conBottom].status));
                        ev          = check_ev(ev);
                        self.color  = ev.color;
                        self.status = ev.status;
                        conTopArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    } else {
                        if (conTopArr.length <= 1) {
                            last_from   = self.conTop;
                            ev.color    = JSON.parse(JSON.stringify(plumb[self.conTop] ? plumb[self.conTop].color : {c_default: $this.data('color_on')}));
                            ev.status   = JSON.parse(JSON.stringify(plumb[self.conTop] ? plumb[self.conTop].status : false));
                        }
                        else if (conBottomArr.length <= 1) {
                            last_from   = self.conBottom;
                            ev.color    = JSON.parse(JSON.stringify(plumb[self.conBottom] ? plumb[self.conBottom].color : {c_default: $this.data('color_on')}));
                            ev.status   = JSON.parse(JSON.stringify(plumb[self.conBottom] ? plumb[self.conBottom].status : false));
                        }
                        ev          = check_ev(ev);
                        self.color  = ev.color;
                        self.status = ev.status;
                        conBottomArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    }
                } else {
                    $this.find('path').attr('fill', $this.data('color_off'));

                    if (self.conTop == last_from) {
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conTop] ? plumb[self.conTop].color : {c_default: $this.data('color_off')}));
                        ev.status   = false;
                        ev.color.c  = ev.color.c_default;
                        ev          = check_ev(ev);
                        self.color  = ev.color;
                        self.status = false;
                        conBottomArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    }

                    if (self.conBottom == last_from) {
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conBottom] ? plumb[self.conBottom].color : {c_default: $this.data('color_off')}));
                        ev.status   = false;
                        ev.color.c  = ev.color.c_default;
                        ev          = check_ev(ev);
                        self.color  = ev.color;
                        self.status = false;
                        conTopArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    }
                }
            }

            vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                set(newVal);
            });

            if (vis.states[data.oid + '.val'] >= 1) {
                $this.find('path').attr('fill', $this.data('color_on'));
            } else {
                $this.find('path').attr('fill', $this.data('color_off'));
            }
        },
        c_valve_h: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');
            var plumb = vis.binds.plumb.data;
            var last_true;

            vis.binds.plumb.data[id] = {
                type: 'pipe',
                cons: ["conLeft", "conRight"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            var self = plumb[id];

            setTimeout(function () {
                vis.binds.plumb.svg_check_valve_h(id);
                $($this).css({
                    height: parseInt(data.pipe_size) + 'px',
                    width: parseInt(parseInt(data.pipe_size) * 2.5) + 'px'
                });
                $('#widget_helper_' + id).css({
                    height: parseInt(data.pipe_size) + 2 + 'px',
                    width: parseInt(parseInt(data.pipe_size) * 2.5) + 2 + 'px'
                });

                if (data.turn_direction) {
                    $this.find('svg').css({
                        "-webkit-transform": "rotate(180deg)",
                        "transform": "rotate(180deg)"
                    })
                }
            });

            $($this).find(".plumb_c_valve_h_back_r").css({right: "0px"});

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || 'red');

            vis.binds.plumb.plumb_drop($this);

            $this.bind('plumb_change', function (event) {

                if (self.conLeft == event.from && !data.turn_direction) {
                    $('#' + id + "_fill_left").attr("fill", event.color.c);
                    $('#' + id + "_fill_right").attr("fill", event.color.c);
                    if (event.status) {
                        last_true = event;
                    } else {
                        last_true = undefined;
                    }
                    vis.binds.plumb.check(id, event);
                } else if (self.conLeft == event.from) {
                    if (last_true) {
                        $('#' + id + "_fill_left").attr("fill", last_true.color.c);
                        $('#' + id + "_fill_right").attr("fill", last_true.color.c);
                        vis.binds.plumb.check(id, last_true);
                    } else {
                        $('#' + id + "_fill_right").attr("fill", event.color.c);
                    }
                }

                if (self.conRight == event.from && data.turn_direction) {
                    $('#' + id + "_fill_left").attr("fill", event.color.c);
                    $('#' + id + "_fill_right").attr("fill", event.color.c);
                    if(event.status){
                        last_true = event;
                    }else{
                        last_true = undefined;
                    }
                    vis.binds.plumb.check(id, event)
                } else if (self.conRight == event.from) {
                    if(last_true){
                        $('#' + id + "_fill_left").attr("fill", last_true.color.c);
                        $('#' + id + "_fill_right").attr("fill", last_true.color.c);
                        vis.binds.plumb.check(id, last_true)
                    }else{
                        $('#' + id + "_fill_right").attr("fill", event.color.c);
                    }
                }
            });

            function set(newVal) {
                var ev = {
                    type:   'plumb_change',
                    from:   id,
                    status: true
                };
                var self_color;
                if (newVal >= 1) {
                    self_color = $this.data('color_on');
                    $this.find(".plumb_valve_l").css({"border-color": "rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) " + self_color});
                    $this.find(".plumb_valve_r").css({"border-color": "rgba(0, 0, 0, 0) " + self_color + " rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)"});

                    if (plumb[self.conLeft] && plumb[self.conLeft].status) {
                        ev.color = JSON.parse(JSON.stringify(plumb[self.conLeft].color));
                        self.color = ev.color;

                        $('#' + data.conRight).trigger(ev);
                    }

                    if (plumb[self.conRight] && plumb[self.conRight].status) {
                        ev.color = JSON.parse(JSON.stringify(plumb[self.conRight].color));
                        self.color = ev.color;
                        $('#' + data.conLeft).trigger(ev);
                    }
                } else {
                    self_color = $this.data('color_off');
                    $this.find(".plumb_valve_l").css({"border-color": "rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) " + self_color});
                    $this.find(".plumb_valve_r").css({"border-color": "rgba(0, 0, 0, 0) " + self_color + " rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)"});

                    if (plumb[self.conLeft] && plumb[self.conLeft].status) {
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conLeft].color));
                        ev.color.c  = ev.color.c_default;
                        ev.status   = false;
                        self.color  = ev.color;
                        $('#' + data.conLeft).trigger(ev);
                    }

                    if (plumb[self.conRight] && plumb[self.conRight].status) {
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conRight].color));
                        ev.color.c  = ev.color.c_default;
                        ev.status   = false;
                        self.color  = ev.color;
                        $('#' + data.conRight).trigger(ev);
                    }
                }
            }
        },
        c_valve_v: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');
            var plumb = vis.binds.plumb.data;
            var last_true;

            vis.binds.plumb.data[id] = {
                type: 'pipe',
                cons: ["conTop", "conBottom"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || 'red');

            var self = plumb[id];

            setTimeout(function () {
                vis.binds.plumb.svg_check_valve_v(id);
                $($this).css({
                    height: parseInt(parseInt(data.pipe_size) * 2.5) + 'px',
                    width:  parseInt(data.pipe_size) + 'px'
                });
                $('#widget_helper_' + id).css({
                    height: parseInt(parseInt(data.pipe_size) * 2.5) + 2 + 'px',
                    width:  parseInt(data.pipe_size) + 2 + 'px'
                });

                if (data.turn_direction) {
                    $this.find('svg').css({
                        "-webkit-transform": "rotate(180deg)",
                        "transform": "rotate(180deg)"
                    })
                }
            });

            $($this).trigger('resize');

            $($this).find(".plumb_c_valve_h_back_r").css({right: 0});

            vis.binds.plumb.plumb_drop($this);

            $this.bind('plumb_change', function (event) {
                if (self.conTop == event.from && data.turn_direction) {
                    $('#' + id + "_fill_top").attr("fill", event.color.c);
                    $('#' + id + "_fill_bottom").attr("fill", event.color.c);
                    if (event.status){
                        last_true = event;
                    }else{
                        last_true = undefined;
                    }
                    vis.binds.plumb.check(id, event)
                } else if (self.conTop == event.from) {
                    if (last_true) {
                        $('#' + id + "_fill_top").attr("fill",last_true);
                        $('#' + id + "_fill_bottom").attr("fill", last_true);
                        vis.binds.plumb.check(id, last_true)
                    } else {
                        $('#' + id + "_fill_top").attr("fill", event.color.c);
                    }
                }

                if (self.conBottom == event.from && !data.turn_direction) {
                    $('#' + id + "_fill_top").attr("fill", event.color.c);
                    $('#' + id + "_fill_bottom").attr("fill", event.color.c);
                    if (event.status) {
                        last_true = event;
                    } else {
                        last_true = undefined;
                    }

                    vis.binds.plumb.check(id, event);
                } else if (self.conBottom == event.from) {
                    if (last_true) {
                        $('#' + id + "_fill_top").attr("fill",last_true);
                        $('#' + id + "_fill_bottom").attr("fill", last_true);
                        vis.binds.plumb.check(id, last_true)
                    } else {
                        $('#' + id + "_fill_top").attr("fill", event.color.c);
                    }
                }
            });

            function set(newVal) {
                var ev = {
                    type:   'plumb_change',
                    from:   id,
                    status: true
                };
                var self_color;
                if (newVal >= 1) {
                    self_color = $this.data('color_on');
                    $this.find(".plumb_valve_l").css({"border-color": "rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) " + self_color});
                    $this.find(".plumb_valve_r").css({"border-color": "rgba(0, 0, 0, 0) " + self_color + " rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)"});

                    if (plumb[self.conLeft] && plumb[self.conLeft].status) {
                        ev.color = JSON.parse(JSON.stringify(plumb[self.conLeft].color));
                        self.color = ev.color;
                        $('#' + data.conRight).trigger(ev);
                    }

                    if (plumb[self.conRight] && plumb[self.conRight].status) {
                        ev.color = JSON.parse(JSON.stringify(plumb[self.conRight].color));
                        self.color = ev.color;
                        $('#' + data.conLeft).trigger(ev);
                    }
                } else {
                    self_color = $this.data('color_off');
                    $this.find(".plumb_valve_l").css({"border-color": "rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) " + self_color});
                    $this.find(".plumb_valve_r").css({"border-color": "rgba(0, 0, 0, 0) " + self_color + " rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)"});

                    if (plumb[self.conLeft] && plumb[self.conLeft].status) {
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conLeft].color));
                        ev.color.c  = ev.color.c_default;
                        ev.status   = false;
                        self.color  = ev.color;

                        $('#' + data.conLeft).trigger(ev);
                    }

                    if (plumb[self.conRight] && plumb[self.conRight].status) {
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conRight].color));
                        ev.color.c  = ev.color.c_default;
                        ev.status   = false;
                        self.color  = ev.color;
                        $('#' + data.conRight).trigger(ev);
                    }
                }
            }
        },
        tpice_hb: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');

            vis.binds.plumb.data[id] = {
                type: "tpice",
                cons: ["conLeft", "conRight", "conBottom"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            setTimeout(function () {
                vis.binds.plumb.svg_tpiece(id);
                $($this).css({
                    height: parseInt(data.pipe_size) * 3 + 'px',
                    width: parseInt(data.pipe_size) * 3 + 'px'
                });
                $('#widget_helper_' + id).css({
                    height: parseInt(data.pipe_size) * 3 + 2 + 'px',
                    width: parseInt(data.pipe_size) * 3 + 2 + 'px'
                });
                if (data.oid) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(vis.states[data.oid + '.val']) ? $this.data('color_on') : $this.data('color_off'));
                }
            });

            vis.binds.plumb.plumb_drop($this);

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || '#c0c0c0');

            if (data.oid) {
                vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(newVal) ? $this.data('color_on') : $this.data('color_off'));
                });
            } else {
                $this.bind('plumb_change', function (event) {
                    vis.binds.plumb.check(id, event)
                });
            }
        },
        tpice_ht: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');

            vis.binds.plumb.data[id] = {
                type:       "tpice",
                cons:       ["conLeft", "conRight", "conTop"],
                coli:       false,
                conLeft:    data.conLeft || null,
                conRight:   data.conRight || null,
                conTop:     data.conTop || null,
                conBottom:  data.conBottom || null,
                status:     false,
                color: {
                    c:          null,
                    c_from:     null,
                    c_default:  null
                }
            };

            setTimeout(function () {
                vis.binds.plumb.svg_tpiece(id);
                $($this).css({
                    height: parseInt(data.pipe_size) * 3 + 'px',
                    width: parseInt(data.pipe_size) * 3 + 'px'
                });
                $('#widget_helper_' + id).css({
                    height: parseInt(data.pipe_size) * 3 + 2 + 'px',
                    width: parseInt(data.pipe_size) * 3 + 2 + 'px'
                });
                if (data.oid) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(vis.states[data.oid + '.val']) ? $this.data('color_on') : $this.data('color_off'));
                }
            });

            vis.binds.plumb.plumb_drop($this);

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || '#c0c0c0');

            if (data.oid) {
                vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(newVal) ? $this.data('color_on') : $this.data('color_off'));
                });
            } else {
                $this.bind('plumb_change', function (event) {
                    vis.binds.plumb.check(id, event)
                });
            }
        },
        tpice_vl: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');

            vis.binds.plumb.data[id] = {
                type: "tpice",
                cons: ["conLeft", "conTop", "conBottom"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            setTimeout(function () {
                vis.binds.plumb.svg_tpiece(id);
                $($this).css({
                    height: parseInt(data.pipe_size) * 3 + 'px',
                    width: parseInt(data.pipe_size) * 3 + 'px'
                });
                $('#widget_helper_' + id).css({
                    height: parseInt(data.pipe_size) * 3 + 2 + 'px',
                    width: parseInt(data.pipe_size) * 3 + 2 + 'px'
                });
                if (data.oid) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(vis.states[data.oid + '.val']) ? $this.data('color_on') : $this.data('color_off'));
                }
            });

            vis.binds.plumb.plumb_drop($this);

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || '#c0c0c0');

            if (data.oid) {
                vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(newVal) ? $this.data('color_on') : $this.data('color_off'));
                });
            } else {
                $this.bind('plumb_change', function (event) {
                    vis.binds.plumb.check(id, event)
                });
            }
        },
        tpice_vr: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');

            vis.binds.plumb.data[id] = {
                type: "tpice",
                cons: ["conRight", "conTop", "conBottom"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            setTimeout(function () {
                vis.binds.plumb.svg_tpiece(id);
                $($this).css({
                    height: parseInt(data.pipe_size) * 3 + 'px',
                    width: parseInt(data.pipe_size) * 3 + 'px'
                });
                $('#widget_helper_' + id).css({
                    height: parseInt(data.pipe_size) * 3 + 2 + 'px',
                    width: parseInt(data.pipe_size) * 3 + 2 + 'px'
                });
                if (data.oid) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(vis.states[data.oid + '.val']) ? $this.data('color_on') : $this.data('color_off'));
                }
            });

            vis.binds.plumb.plumb_drop($this);

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || '#c0c0c0');

            if (data.oid) {
                vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(newVal) ? $this.data('color_on') : $this.data('color_off'));
                });
            } else {
                $this.bind('plumb_change', function (event) {
                    vis.binds.plumb.check(id, event)
                });
            }
        },
        ent_e_top: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');
            var plumb = vis.binds.plumb.data;

            vis.binds.plumb.data[id] = {
                type: "pump",
                cons: ["conTop", "conBottom", "conLeft", "conRight"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            var self = plumb[id];

            vis.binds.plumb.plumb_drop($this);

            $this.find(".tank_simple_svg").append('\
            <svg\
            height="100%"\
            viewBox="0 0 300 600"\
            width="100%"\
            preserveAspectRatio="none"\
             >\
            <defs>\
            <clipPath id="e_' + id + '" clipPathUnits="userSpaceOnUse">\
            <path d="m146.46.013672a150 50 0 0 0 -71.46 6.6855 150 50 0 0 0 -75 43.301v499.8.20h.013672a150 50.2 0 0 0 74.986 43.28 150 50.2 0 0 0 150 0 150 50.2 0 0 0 74.97 -43.28h.03v-.20-499.8a150 50 0 0 0 -75 -43.301 150 50 0 0 0 -78.54 -6.6853z" fill="' + data.color + '"/>\
            </clipPath>\
            <linearGradient id="d_' + id + '" gradientUnits="userSpaceOnUse" y1="300" x2="300" y2="300">\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".5"/>\
            <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
            </linearGradient>\
            <linearGradient id="a_' + id + '">\
            <stop stop-color="#000000" stop-opacity="0" offset="0"/>\
            <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
            </linearGradient>\
            <radialGradient id="c_' + id + '" xlink:href="#a_' + id + '" gradientUnits="userSpaceOnUse" cy="172.7" cx="153.34" gradientTransform="matrix(.98033 .00033848 -.00012370 .35826 3.079 -12.306)" r="150"/>\
            <radialGradient id="b_' + id + '" xlink:href="#a_' + id + '" gradientUnits="userSpaceOnUse" cy="427.04" cx="150" gradientTransform="matrix(-1 0 0 -.37168 300 709.06)" r="150"/>\
            <linearGradient x1="25" y1="10" x2="25" y2="90" id="spray_grad_' + id + '" gradientUnits="userSpaceOnUse">\
            <stop offset="0.3" style="stop-color:#353575;stop-opacity:1" />\
            <stop offset="1" style="stop-color:#bb5500;stop-opacity:1"  />\
            </linearGradient>\
            <linearGradient x1="150" y1="300" x2="150" y2="550" id="fill_grad_' + id + '" gradientUnits="userSpaceOnUse">\
            <stop id="fill_grad_top' + id + '"    offset="0" style="stop-color:#bb5500;stop-opacity:0" />\
            <stop id="fill_grad_bottom' + id + '" offset="1" style="stop-color:' + data.water_color + ';stop-opacity:1"  />\
            </linearGradient>\
            <pattern id="kies_' + id + '" x="0" y="0" height="' + data.filter_size + '" width="' + data.filter_size + '" patternUnits="userSpaceOnUse">\
                    <image height="' + data.filter_size + '" width="' + data.filter_size + '"  xlink:href="' + data.filter_pattern + '"></image>\
            </pattern>\
            </defs>\
            <path d="m146.46.013672a150 50 0 0 0 -71.46 6.6855 150 50 0 0 0 -75 43.301v499.8.20h.013672a150 50.2 0 0 0 74.986 43.28 150 50.2 0 0 0 150 0 150 50.2 0 0 0 74.97 -43.28h.03v-.20-499.8a150 50 0 0 0 -75 -43.301 150 50 0 0 0 -78.54 -6.6853z" fill="' + data.color + '"/>\
            <rect id="' + id + '_fill" clip-path="url(#e_' + id + ')" height="400" width="300" y="200" x="0" fill="url(#fill_grad_' + id + ')"/>\
            <rect id="' + id + '_kies" clip-path="url(#e_' + id + ')" height="450" width="300" y="250" x="0" style="opacity:' + data.filter_opa / 100 + '" fill="url(#kies_' + id + ')"/>\
            <rect class="' + id + '_spray" style="color:#000000" fill="#bb5500" stroke="#000000" stroke-linecap="round" stroke-width="0" height="60" width="300" y="120" x="0"></rect>\
            <polyline points="0,180 300,180" stroke="black" stroke-width="5"></polyline>\
            <path d="m0 50h300v500h-300z" fill="url(#d_' + id + ')" />\
            <path fill="url(#b_' + id + ')" d="m300 550a150 50 0 0 1 -75 43 150 50 0 0 1 -150 0 150 50 0 0 1 -75 -43h150z"/>\
            <path fill="url(#c_' + id + ')" d="m0  50a150 50 0 0 1 75 -43 150 50 0 0 1 150 -0 150 50 0 0 1 75 43h-0z"/>\
            <path class="' + id + '_spray" style="stroke-dasharray:10,7,3; stroke:url(#spray_grad_' + id + ');stroke-width:3;stroke-linecap:none;stroke-opacity:1" d="M 150,120 100,5 M 140,120 100,5 M 130,120 100,5 M 120,120 100,5 M 110,120 100,5 M 100,120 100,5 M  90,120 100,5 M  80,120 100,5 M  70,120 100,5 M  60,120 100,5 M  50,120 100,10"></path>\
            <path class="' + id + '_spray" style="stroke-dasharray:10,7,3; stroke:url(#spray_grad_' + id + ');stroke-width:3;stroke-linecap:none;stroke-opacity:1" d="M 250,120 200,5 M 240,120 200,5 M 230,120 200,5 M 220,120 200,5 M 210,120 200,5 M 200,120 200,5 M 190,120 200,5 M 180,120 200,5 M 170,120 200,5 M 160,120 200,5 M 150,120 200,10"></path>\
            </svg>\
            ');
            $this.bind('plumb_change', function (event) {
                if (self.conTop == event.from) {
                    if (event.status) {
                        $("." + id + "_spray").show()
                    } else {
                        $("." + id + "_spray").hide()
                    }
                }
                if (self.conRight == event.from) {
                    if (event.status) {
                        $('#fill_grad_top' + id).css("stop-opacity", "1");

                        var ev = {
                            type: 'plumb_change',
                            from: id,
                            status: true,
                            color: {
                                c_from: id,
                                c_default: event.color.c_default,
                                c: data.water_color
                            }
                        };
                        $('#' + self.conBottom).trigger(ev);
                    } else {
                        var ev = {
                            type: 'plumb_change',
                            from: id,
                            status: false,
                            color: {
                                c_from: id,
                                c_default: event.color.c_default,
                                c: event.color.c_default
                            }
                        };
                        $('#' + self.conBottom).trigger(ev);
                        $('#fill_grad_top' + id).css("stop-opacity", '0')
                    }
                }
                if (self.conBottom == event.from) {
                    if (event.status) {
                        $('#fill_grad_top' + id).css("stop-opacity", '1');
                        var ev = {
                            type: 'plumb_change',
                            from: id,
                            status: true,
                            color: {
                                c_from: id,
                                c_default: event.color.c_default,
                                c: "#bb5500"
                            }

                        };
                        $('#' + self.conRight).trigger(ev);
                    } else {
                        var ev = {
                            type: 'plumb_change',
                            from: id,
                            status: false,
                            color: {
                                c_from: id,
                                c_default: event.color.c_default,
                                c: event.color.c_default
                            }

                        };
                        $('#' + self.conRight).trigger(ev);
                        $('#fill_grad_top' + id).css("stop-opacity", "0")
                    }
                }
            });
        },
        tank_simple: function (el, data) {
            if (data.conRight_pos !== undefined) {
                var $this = $(el).parent();
                var id = $this.attr('id');
                var plumb = vis.binds.plumb.data;
                var last_event;
                vis.binds.plumb.data[id] = {
                    type: "pump",
                    cons: [],
                    coli: false,
                    conLeft: data.conLeft || null,
                    conRight: data.conRight || null,
                    conTop: data.conTop || null,
                    conBottom: data.conBottom || null,
                    status: false,
                    color: {
                        c: null,
                        c_from: null,
                        c_default: null
                    }
                };

                var self = plumb[id];

                vis.binds.plumb.plumb_drop($this);

                $this.find(".tank_simple_svg").append('\
                    <svg\
                    height="100%"\
                    viewBox="0 0 300 600"\
                    width="100%"\
                    preserveAspectRatio="none"\
                     >\
                    <defs>\
                    <clipPath id="e_' + id + '" clipPathUnits="userSpaceOnUse">\
                    <path d="m146.46.013672a150 50 0 0 0 -71.46 6.6855 150 50 0 0 0 -75 43.301v499.8.20h.013672a150 50.2 0 0 0 74.986 43.28 150 50.2 0 0 0 150 0 150 50.2 0 0 0 74.97 -43.28h.03v-.20-499.8a150 50 0 0 0 -75 -43.301 150 50 0 0 0 -78.54 -6.6853z" fill="' + data.color + '"/>\
                    </clipPath>\
                    <linearGradient id="d_' + id + '" gradientUnits="userSpaceOnUse" y1="300" x2="300" y2="300">\
                    <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
                    <stop stop-color="#000000" stop-opacity="0" offset=".5"/>\
                    <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
                    </linearGradient>\
                    <linearGradient id="a_' + id + '">\
                    <stop stop-color="#000000" stop-opacity="0" offset="0"/>\
                    <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
                    </linearGradient>\
                    <radialGradient id="c_' + id + '" xlink:href="#a_' + id + '" gradientUnits="userSpaceOnUse" cy="172.7" cx="153.34" gradientTransform="matrix(.98033 .00033848 -.00012370 .35826 3.079 -12.306)" r="150"/>\
                    <radialGradient id="b_' + id + '" xlink:href="#a_' + id + '" gradientUnits="userSpaceOnUse" cy="427.04" cx="150" gradientTransform="matrix(-1 0 0 -.37168 300 709.06)" r="150"/>\
                    <linearGradient x1="150" y1="300" x2="150" y2="600" id="fill_grad_' + id + '" gradientUnits="userSpaceOnUse">\
                    <stop id="fill_grad_top' + id + '"    offset="0" style="stop-color:' + data.top_water + ';stop-opacity:1" />\
                    <stop id="fill_grad_bottom' + id + '" offset="1" style="stop-color:' + data.bottom_water + ';stop-opacity:1"  />\
                    </linearGradient>\
                    <pattern id="kies_' + id + '" x="0" y="0" height="' + data.filter_size + '" width="' + data.filter_size + '" patternUnits="userSpaceOnUse">\
                            <image height="' + data.filter_size + '" width="' + data.filter_size + '"  xlink:href="' + data.filter_pattern + '"></image>\
                    </pattern>\
                    </defs>\
                    <path d="m146.46.013672a150 50 0 0 0 -71.46 6.6855 150 50 0 0 0 -75 43.301v499.8.20h.013672a150 50.2 0 0 0 74.986 43.28 150 50.2 0 0 0 150 0 150 50.2 0 0 0 74.97 -43.28h.03v-.20-499.8a150 50 0 0 0 -75 -43.301 150 50 0 0 0 -78.54 -6.6853z" fill="' + data.color + '"/>\
                    <rect id="' + data.wid + '_fill" style="color:#000000" clip-path="url(#e_' + id + ')" height="300" width="300" y="300" x="0" fill="url(#fill_grad_' + id + ')"/>\
                    <rect id="' + id + '_kies" clip-path="url(#e_' + id + ')" height="450" width="300" y="150" x="0" style="display: none; opacity:' + data.filter_opa / 100 + '" fill="url(#kies_' + id + ')"/>\
                    <path d="m0 50h300v500h-300z" fill="url(#d_' + id + ')"/>\
                    <path fill="url(#b_' + id + ')" d="m300 550a150 50 0 0 1 -75 43 150 50 0 0 1 -150 0 150 50 0 0 1 -75 -43h150z"/>\
                    <path fill="url(#c_' + id + ')" d="m0  50a150 50 0 0 1 75 -43 150 50 0 0 1 150 -0 150 50 0 0 1 75 43h-0z"/>\
                    </svg>\
                ');


                setTimeout(function () {
                    if (data.is_filter) {
                        $('#' + id + "_kies").show();
                    }

                    $this.find(".plumb_dock_right, .plumb_dock_left, .plumb_dock_top, .plumb_dock_bottom").remove();
                    $this.removeClass("pl_l");
                    $this.removeClass("pl_r");
                    $this.removeClass("pl_t");
                    $this.removeClass("pl_b");
                    var l;
                    var t;
                    var s;
                    var shadow;

                    if (data.conTop && data.conTop != "") {
                        self.cons.push("conTop");
                        if (data.conTop_show) {
                            $this.find(".tank_simple").append('<div id="' + id + '_dock_top_svg" class="plumb-dock-svg plumb_dock_top"></div>');
                            vis.binds.plumb.svg_pipe_v(id + "_dock_top");

                            s = (parseInt(data.conTop_size) || 20);
                            t = "-9";
                            l = (($this.width() - s) / 100 * (data.conTop_pos || 50));

                            $this.find(".plumb_dock_top").css({
                                top: t + 'px',
                                left: l + 'px',
                                height: "50px",
                                width: s + 'px',
                                overflow: "hidden"
                            }).find("svg").css({
                                position: 'absolute',
                                width: '100%',
                                height: '100%'
                            });

                            $('#' + id + "_dock_top_fill").attr("fill", data.color_off);
                            $this.addClass("pl_t");
                        }
                    }

                    if (data.conBottom && data.conBottom != "") {
                        self.cons.push("conBottom");
                        if (data.conBottom_show) {
                            $this.find(".tank_simple").append('<div id="' + id + '_dock_bottom_svg" class="plumb-dock-svg plumb_dock_bottom"></div>');
                            vis.binds.plumb.svg_pipe_v(id + "_dock_bottom");
                            s = (parseInt(data.conBottom_size) || 20);
                            t = "-9";
                            l = (($this.width() - s) / 100 * (data.conBottom_pos || 50));

                            $this.find(".plumb_dock_bottom").css({
                                bottom: t + 'px',
                                left: l + 'px',
                                height: "50px",
                                width: s + 'px',
                                overflow: "hidden"
                            }).find("svg").css({
                                position: 'absolute',
                                width: '100%',
                                height: '100%'
                            });
                            $('#' + id + "_dock_bottom_fill").attr("fill", data.color_off);
                            $this.addClass("pl_b")
                        }
                    }
                    if (data.conLeft && data.conLeft != "") {
                        self.cons.push("conLeft");
                        if (data.conLeft_show) {
                            $this.find(".tank_simple").append('<div id="' + id + '_dock_left_svg" class="plumb-dock-svg plumb_dock_left"></div>');
                            vis.binds.plumb.svg_pipe_h(id + "_dock_left");
                            s = (parseInt(data.conLeft_size) || 20);
                            l = "-9";
                            t = (($this.height() - s) / 100 * (data.conLeft_pos || 50));

                            $this.find(".plumb_dock_left").css({
                                top: t + 'px',
                                left: l + 'px',
                                height: s + 'px',
                                width: "20px",
                                overflow: "hidden"
                            }).find("svg").css({
                                position: 'absolute',
                                width: '100%',
                                height: '100%'
                            });
                            $('#' + id + "_dock_left_fill").attr("fill", data.color_off);
                            $this.addClass("pl_l")
                        }
                    }
                    if (data.conRight && data.conRight != "") {
                        self.cons.push("conRight");
                        if (data.conRight_show) {
                            $this.find(".tank_simple").append('<div id="' + id + '_dock_right_svg" class="plumb-dock-svg plumb_dock_right"></div>');
                            vis.binds.plumb.svg_pipe_h(id + "_dock_right");
                            s = (parseInt(data.conRight_size) || 20);
                            l = "-9";
                            t = (($this.height() - s) / 100 * (data.conRight_pos || 50));

                            $this.find(".plumb_dock_right").css({
                                top: t + 'px',
                                right: l + 'px',
                                height: s + 'px',
                                width: "20px",
                                overflow: "hidden"
                            }).find("svg").css({
                                position: 'absolute',
                                width: '100%',
                                height: '100%'
                            });
                            $('#' + id + "_dock_right_fill").attr("fill", data.color_off);
                            $this.addClass('pl_r')
                        }
                    }
                    vis.binds.plumb.plumb_drop($this);

                    if (data.oid) {
                        set(vis.states[data.oid + '.val']);
                    }
                    vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                        set(newVal);
                    });
                }, 0);

                $this.bind('plumb_change', function (event) {
                    if (event.status) {
                        last_event = event.from;
                    }
                });
            }

            function set(_newVal) {
                var newVal = _newVal || 0;
                var step = 600 / 100;
                var val;
                var level;
                if (data.type === 'level') {
                    step = 600 / (data.level_max - data.level_min );
                    val = (newVal - data.level_min) * step;
                    if (val < 0) {
                        val = 0
                    }
                    level = parseInt(100 / 600 * val);
                    $('#' + data.wid + "_fill").attr('height', val).attr('y', 600 - val);
                    $('#fill_grad_' + id).attr('y1', 600 - val);
                } else if (data.type === 'bool') {
                    step = 600 / 100;

                    if (newVal) {
                        val = data.level_max * step;
                    } else {
                        val = data.level_min * step;
                    }

                    level = parseInt(100 / 600 * val);
                    $('#' + data.wid + "_fill").attr('height', val).attr("y", 600 - val);
                    $('#fill_grad_' + id).attr("y1", 600 - val);
                } else if (data.type === 'fix') {
                    level = parseInt(100 / 600 * (data.level_min * step));
                    $('#' + data.wid + "_fill").attr('height', data.level_min * step).attr("y", 600 - data.level_min * step);
                    $('#fill_grad_' + id).attr("y1", 600 - data.level_min * step);
                }


//                --------------------------------------------------------------------------------------------------------------------
                var ev = {
                    type:   'plumb_change',
                    from:   id,
                    status: true,
                    color: {
                        c_from: id
//                        c_default: event.color.c_default || "#C0C0C0",
//                        c: event.color.c || "#C0C0C0"
                    }
                };
                if (self.conRight != last_event) {
                    if (level > parseInt(data.conRight_level)) {
                        ev.color.c = data.conRight_color_on;
                        ev.color.c_default = data.conRight_color_off;
                    } else {
                        ev.status = false;
                        ev.color.c = data.conRight_color_off;
                        ev.color.c_default = data.conRight_color_off;
                    }
                    $('#' + id + "_dock_right_fill").attr("fill", ev.color.c);
                    $('#' + self.conRight).trigger(ev);

                }
                if (self.conLeft != last_event) {
                    if (level >= parseInt(data.conLeft_level)) {
                        ev.color.c = data.conLeft_color_on;
                        ev.color.c_default = data.conLeft_color_off;
                    } else {
                        ev.status = false;
                        ev.color.c = data.conLeft_color_off;
                        ev.color.c_default = data.conLeft_color_off;
                    }
                    $('#' + id + "_dock_left_fill").attr("fill", ev.color.c);
                    $('#' + self.conLeft).trigger(ev);
                }
                if (self.conTop != last_event) {
                    if (level >= parseInt(data.conTop_level)) {
                        ev.color.c = data.conTop_color_on;
                        ev.color.c_default = data.conTop_color_off;
                    } else {
                        ev.status = false;
                        ev.color.c = data.conTop_color_off;
                        ev.color.c_default = data.conTop_color_off;
                    }
                    $('#' + id + "_dock_top_fill").attr("fill", ev.color.c);
                    $('#' + self.conTop).trigger(ev);
                }
                if (self.conBottom != last_event) {
                    if (level >= parseInt(data.conBottom_level)) {
                        ev.color.c = data.conBottom_color_on;
                        ev.color.c_default = data.conBottom_color_off;
                    } else {
                        ev.status = false;
                        ev.color.c = data.conBottom_color_off;
                        ev.color.c_default = data.conBottom_color_off;
                    }
                    $('#' + id + "_dock_bottom_fill").attr("fill", ev.color.c);
                    $('#' + self.conBottom).trigger(ev);
                }
//
//                if (self.conRight == last_event) {
//                    $('#' + id + "_dock_right_fill").attr("fill", event.color.c);
//                } else if (self.conLeft == last_event) {
//                    $('#' + id + "_dock_left_fill").attr("fill", event.color.c);
//                } else if (self.conTop == last_event) {
//                    $('#' + id + "_dock_top_fill").attr("fill", event.color.c);
//                } else if (self.conBottom == last_event) {
//                    $('#' + id + "_dock_bottom_fill").attr("fill", event.color.c);
//                }
            }

            setTimeout(function () {
                $($this.parent()).on('rendered', function () {
                    if (data.oid) {
                        set(vis.states[data.oid + '.val']);
                    }
                });
            }, 0);
        }
    };

    vis.binds.plumb.showVersion();
</script>

<script id="tplPlump_pump"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplPlump_pump" style="position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev pl_b pl_t ui-selectee ui-draggable-handle " data-vis-resizable="{}" style="top: 163px; left: 449px; width: 57px; height: 183px;" > <div class="vis-widget-prev-body">	<div class="pump" ><img style="position: absolute; width: 100%;" src="./widgets/plumb/img/pumpe.png"><div class="plumb_dock_top ui-droppable"></div><div class="plumb_dock_bottom ui-droppable"></div>	<div class="plumb_dock_left ui-droppable"></div>	<div class="plumb_dock_right ui-droppable"></div>	</div> </div> </div></div>'
        data-vis-set="plumb"
        data-vis-type="val"
        data-vis-name="Pump"
        data-vis-attrs="oid;src[widgets/plumb/img/pumpe.png]/image;color_off[#C0C0C0]/color;color_on[#00ff00]/color;group.conTop;conTop_show/checkbox;conTop_size[20]/slider,10,50,5;conTop_pos[50]/slider,0,100,1;conTop;group.conBottom;conBottom_show/checkbox;conBottom_size[20]/slider,10,50,5;conBottom_pos[50]/slider,0,100,1;conBottom;group.conLeft;conLeft_show/checkbox;conLeft_size[20]/slider,10,50,5;conLeft_pos[50]/slider,0,100,1;conLeft;group.conRight;conRight_show/checkbox;conRight_size[20]/slider,10,50,5;conRight_pos[50]/slider,0,100,1;conRight">
    <div class="vis-widget <%== this.data.attr('class') %> pl pl_b pl_t pl_l pl_r" data-vis-resizable='{}' style=" width: 65px; height: 205px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.pump(el, data) %>>
	<div class="pump" >
	  <% if (vis.editMode) { %>
                <div class="editmode-helper" style="z-index:0" />
            <% } %>
            <img class="pump_img" <%= this.data.attr('src') ? 'src="' + this.data.attr('src') + '"' : '' %> />
	<div id="<%= this.data.attr('wid') %>_dock_left_svg" class="plumb-dock-svg plumb_dock_left"></div>
	<div id="<%= this.data.attr('wid') %>_dock_left_svg" class="plumb-dock-svg plumb_dock_right"></div>
	<div id="<%= this.data.attr('wid') %>_dock_left_svg" class="plumb-dock-svg plumb_dock_top"></div>
	<div id="<%= this.data.attr('wid') %>_dock_left_svg" class="plumb-dock-svg plumb_dock_bottom"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_i-sprinkler"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplPlump_isprinkler" style="position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev pl pl_b pl_t pl_l pl_r ui-draggable-handle " data-vis-resizable="{"grid": [ 10, 10 ]}" style="width: 20px; height: 17px; overflow: visible; left: 242px; top: 228px; position: absolute;" > <div class="plumb_sprinkler_i_body vis-widget-prev-body" style="border-top-left-radius: 100%; border-top-right-radius: 100%; border-bottom-right-radius: 100%; border-bottom-left-radius: 100%; background-color: rgb(0, 0, 0);"> <div class="plumb_sprinkler_i" > <div class="plumb_splinkler_i_water" style="height: 60px; width: 5px; left: 7px; top: -51px; position: relative; background-color: rgb(27, 138, 222);"></div> </div> <div class="plumb_dock_top ui-droppable"></div> <div class="plumb_dock_bottom ui-droppable"></div> <div class="plumb_dock_left ui-droppable"></div> <div class="plumb_dock_right ui-droppable"></div> </div> </div></div>'
        data-vis-set="plumb"
        data-vis-type="val"
        data-vis-name="Sprinker I"
        data-vis-attrs="_no_resize[true]/hidden;test/checkbox;spray_width[100]/slider,10,500,1;head_size[20]/slider,10,50,5;time[4];start[0];ende[90];stroke[4];opacity[0.8];fog/checkbox;water_color[blue]/color;head_color[black]/color;head_show[true]/checkbox;head_round[true]/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %> pl pl_b pl_t pl_l pl_r" style=" width: 20px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="plumb_sprinkler_i_body vis-widget-body" <%= (el) -> vis.binds.plumb.sprinkler_i(el, data) %>>
            <% if (vis.editMode) { %><div class="editmode-helper" /><% } %>
            <div class="plumb_sprinkler_i" style="display: 'none'">
                <div class="plumb_sprinkler_i_water"></div>
            </div>
            <div class="plumb_dock_top"></div>
            <div class="plumb_dock_bottom"></div>
            <div class="plumb_dock_left"></div>
            <div class="plumb_dock_right"></div>
        </div>
    </div>
</script>

<script id="tplPlump_r-sprinkler"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplPlump_isprinkler" style="position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev pl pl_b pl_t pl_l pl_r ui-draggable-handle " data-vis-resizable="{"grid": [ 10, 10 ]}" style="width: 20px; height: 17px; overflow: visible; left: 242px; top: 228px; position: absolute;" > <div class="plumb_sprinkler_i_body vis-widget-prev-body" style="border-top-left-radius: 100%; border-top-right-radius: 100%; border-bottom-right-radius: 100%; border-bottom-left-radius: 100%; background-color: rgb(0, 0, 0);"> <div class="plumb_sprinkler_i" > <div class="plumb_splinkler_i_water" style="height: 60px; width: 5px; left: 7px; top: -51px; position: relative; background-color: rgb(27, 138, 222);"></div> </div> <div class="plumb_dock_top ui-droppable"></div> <div class="plumb_dock_bottom ui-droppable"></div> <div class="plumb_dock_left ui-droppable"></div> <div class="plumb_dock_right ui-droppable"></div> </div> </div></div>'
        data-vis-set="plumb"
        data-vis-type="val"
        data-vis-name="Sprinker R"
        data-vis-attrs="_no_resize[true]/hidden;spray_width[100]/slider,10,500,1;"
        data-vis-attrs0="spray_range[360]/nselect,360,0-180,90-270,270-90,0-90,90-180,180-270,270-360;test/checkbox;time[30];head_size[20]/slider,10,50,5;start[0]/slider,0,100,1;ende[100]/slider,0,100,1;stroke[4];opacity[0.8]/slider,0,1,0.01;water_color[blue]/color;head_color[black]/color;head_round[true]/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %> pl pl_b pl_t pl_l pl_r" style=" width: 20px; height: 20px;overflow: visible" id="<%= this.data.attr('wid') %>">
        <div style="overflow: visible" class="plumb_sprinkler_r_body vis-widget-body" <%= (el) -> vis.binds.plumb.sprinkler_r(el, data) %>>
            <div class="plumb_sprinkler_r_head"></div>
            <div class="plumb_dock_top"></div>
            <div class="plumb_dock_bottom"></div>
            <div class="plumb_dock_left"></div>
            <div class="plumb_dock_right"></div>
            <div class="plumb_sprinkler_r" style="display: 'none'">
            </div>
        </div>
    </div>
</script>

<script id="tplPlump_pipe_V"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/plumb/img/prev_pipe_v.png" ></img>'
        data-vis-set="plumb"
        data-vis-type="static"
        data-vis-name="Pipe_V"
        data-vis-attrs="pipe_size[20]/slider,10,50,5;conTop;conBottom;"
        data-vis-attrs0="group.custom_control;oid;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class') %> plumb_pipe pl pl_b pl_t" data-vis-resizable='{"handles": "n,s" }' style="width: 20px; height: 100px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.pipe_v(el, data) %>>
	<div class="pipe_v" >
	   <div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg"></div>
	<div class="plumb_dock_top"></div>
	<div class="plumb_dock_bottom"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_pipe_H"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/plumb/img/prev_pipe_h.png" class=""></img>'
        data-vis-set="plumb"
        data-vis-type="static"
        data-vis-name="Pipe_H"
        data-vis-attrs="pipe_size[20]/slider,10,50,5;conLeft;conRight;"
        data-vis-attrs0="group.custom_control;oid;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class') %> plumb_pipe pl pl_l pl_r " data-vis-resizable='{"handles": "e, w"}' style=" width: 100px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.pipe_h(el, data) %>>
	<div class="pipe_h" >
	<div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg"></div>
	<div class="plumb_dock_left"></div>
	<div class="plumb_dock_right"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_bogen_br"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/plumb/img/prev_bogen.png" class=""></img>'
        data-vis-set="plumb"
        data-vis-type="static"
        data-vis-name="Bogen_br"
        data-vis-attrs="_no_resize[true]/hidden;pipe_size[20]/slider,10,50,5;conBottom;conRight;"
        data-vis-attrs0="group.custom_control;oid;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class')%>  pl pl_r pl_b "  style=" width: 20px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.bogen_br(el, data) %>>
	<div class="bogen_br">
	<div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg plumb-rotate180"></div>
	<div class="plumb_dock_right"></div>
	<div class="plumb_dock_bottom"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_bogen_bl"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/plumb/img/prev_bogen.png" class="plumb-flip-x"></img>'
        data-vis-set="plumb"
        data-vis-type="static"
        data-vis-name="Bogen_bl"
        data-vis-attrs="_no_resize[true]/hidden;pipe_size[20]/slider,10,50,5;conBottom;conLeft;"
        data-vis-attrs0="group.custom_control;oid;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class')%>  pl pl_l pl_b " style=" width: 20px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.bogen_bl(el, data) %>>
	<div class="bogen_bl plumb_body">
	<div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg plumb-flip-y"></div>
	<div class="plumb_dock_left"></div>
	<div class="plumb_dock_bottom"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_bogen_tr"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/plumb/img/prev_bogen.png" class="plumb-flip-y"></img>'
        data-vis-set="plumb"
        data-vis-type="static"
        data-vis-name="Bogen_tr"
        data-vis-attrs="_no_resize[true]/hidden;pipe_size[20]/slider,10,50,5;conTop;conRight;"
        data-vis-attrs0="group.custom_control;oid;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class')%>  pl pl_t pl_r " style=" width: 20px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.bogen_tr(el, data) %>>
	<div class="bogen_tr plumb_body">
	<div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg plumb-flip-x"></div>
	<div class="plumb_dock_top"></div>
	<div class="plumb_dock_right"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_bogen_tl"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/plumb/img/prev_bogen.png" class="plumb-rotate180"></img>'
        data-vis-set="plumb"
        data-vis-type="static"
        data-vis-name="Bogen_tl"
        data-vis-attrs="_no_resize[true]/hidden;pipe_size[20]/slider,10,50,5;conTop;conLeft;"
        data-vis-attrs0="group.custom_control;oid;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class')%>  pl pl_t pl_l " style=" width: 20px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.bogen_tl(el, data) %>>
	<div class="bogen_tl plumb_body">
	<div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg"></div>
	<div class="plumb_dock_top"></div>
	<div class="plumb_dock_left"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_valve_H"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplPlump_valve_H" style="position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev pl_l pl_r ui-selectee ui-draggable-handle " data-vis-resizable="{"grid": [ 20, 10 ],"aspectRatio": true}" style="top: 245px; left: 240px; width: 40px; height: 20px;" > <div class="vis-widget-prev-body">   <div class="valve_h" >    <div class="plumb_valve_l" style="border-color: rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgb(255, 0, 0); border-width: 10px 0px 10px 20px;"></div>    <div class="plumb_valve_r" style="border-color: rgba(0, 0, 0, 0) rgb(255, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0); border-width: 10px 20px 10px 0px;"></div>    <div class="plumb_dock_left ui-droppable"></div>    <div class="plumb_dock_right ui-droppable"></div>   </div> </div> </div></div>'
        data-vis-set="plumb"
        data-vis-type="val"
        data-vis-name="valve_H"
        data-vis-attrs="_no_resize[true]/hidden;oid;pipe_size[20]/slider,10,50,5;conLeft;conRight;ctrl/checkbox;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class') %> pl pl_l pl_r " style=" width: 30px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.valve_h(el, data) %>>
	<div class="valve_h " >
	<svg style="display: block"
	   preserveAspectRatio="none"
            	height="100%"
            	width="100%"
            	viewBox="0 0 350 200">
              <path d="m0 0v200l175-87.5 175 87.5v-200l-175 87.5-175-87.5z" fill-rule="evenodd" fill="#ff0000"/>
            </svg>
	<div class="plumb_dock_left"></div>
	<div class="plumb_dock_right"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_valve_V"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplPlump_valve_v" style="position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev pl_t pl_b ui-selectee ui-draggable-handle " data-vis-resizable="{"grid": [ 10, 20 ],"aspectRatio": true}" style="width: 20px; height: 35px; left: 121px; top: 469px; position: absolute;" > <div class="vis-widget-prev-body"> <div class="valve_v " > <div class="plumb_valve_t" style="border-color: rgb(255, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0); border-width: 20px 10px 0px;"></div> <div class="plumb_valve_b" style="border-color: rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgb(255, 0, 0); border-width: 0px 10px 20px;"></div> <div class="plumb_dock_top ui-droppable"></div> <div class="plumb_dock_bottom ui-droppable"></div> </div> </div> </div></div>'
        data-vis-set="plumb"
        data-vis-type="val"
        data-vis-name="valve_V"
        data-vis-attrs="_no_resize[true]/hidden;oid;pipe_size[20]/slider,10,50,5;conTop;conBottom;ctrl/checkbox;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class') %> pl pl_t pl_b " style=" width: 20px; height: 32px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.valve_v(el, data) %>>
	<div class="valve_v " >
	<svg style="display: block"
	   preserveAspectRatio="none"\
                	height="100%"
                	width="100%"
                	viewBox="0 0 200 350">
                 <path d="m0 350h200l-87.5-175 87.5-175h-200l87.5 175-87.5 175z" fill-rule="evenodd" fill="#ff0000"/>
                </svg>
	<div class="plumb_dock_top"></div>
	<div class="plumb_dock_bottom"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_check_valve_H"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/plumb/img/prev_c_valve_h.png"></img>'
        data-vis-set="plumb"
        data-vis-type="val"
        data-vis-name="Check Valve H"
        data-vis-attrs="_no_resize[true]/hidden;conLeft;conRight;pipe_size[20]/slider,10,50,5;turn_direction[false]/checkbox;color_on/color;color_off/color;">
         <div class="vis-widget <%== this.data.attr('class') %> pl pl_l pl_r " style=" width: 50px; height: 20px;" id="<%= this.data.attr('wid') %>">
             <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.c_valve_h(el, data) %>>
    	<div class="valve_h " >
    	<div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg"></div>
    	<div class="plumb_dock_left"></div>
    	<div class="plumb_dock_right"></div>
    	</div>
             </div>
         </div>
</script>

<script id="tplPlump_check_valve_V"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/plumb/img/prev_c_valve_v.png"></img>'
        data-vis-set="plumb"
        data-vis-type="val"
        data-vis-name="Check Valve V"
        data-vis-attrs="_no_resize[true]/hidden;conTop;conBottom;pipe_size[20]/slider,10,50,5;turn_direction[false]/checkbox;color_on/color;color_off/color;">
         <div class="vis-widget <%== this.data.attr('class') %> pl pl_t pl_b " style=" width: 20px; height: 50px;" id="<%= this.data.attr('wid') %>">
             <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.c_valve_v(el, data) %>>
    	<div class="valve_v " >
    	       <div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg"></div>
    	<div class="plumb_dock_top"></div>
    	<div class="plumb_dock_bottom"></div>
    	</div>
             </div>
         </div>
</script>

<script id="tplPlump_Tpiece_ht"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/plumb/img/prev_tpice.png" ></img>'
        data-vis-set="plumb"
        data-vis-type="static"
        data-vis-name="Pipe_HT"
        data-vis-attrs="_no_resize[true]/hidden;pipe_size[20]/slider,10,50,5;conLeft;conRight;conTop;"
        data-vis-attrs0="group.custom_control;oid;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class') %> pl pl_l pl_r pl_t" style="width: 60px; height: 60px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.tpice_ht(el, data) %>>
	<div class="tpice_ht" >
	   <div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg plumb-rotate270"></div>
	   <div class="tpice-hr plumb_body"></div>
	   <div class="tpice-t plumb_body"></div>
	<div class="plumb_dock_top"></div>
	<div class="plumb_dock_left"></div>
	<div class="plumb_dock_right"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_Tpiece_hb"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/plumb/img/prev_tpice.png" class="plumb-flip-y" ></img>'
        data-vis-set="plumb"
        data-vis-type="static"
        data-vis-name="Pipe_HB"
        data-vis-attrs="_no_resize[true]/hidden;pipe_size[20]/slider,10,50,5;conLeft;conRight;conBottom;"
        data-vis-attrs0="group.custom_control;oid;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class') %> pl pl_l pl_r pl_b" style="width: 60px; height: 60px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.tpice_hb(el, data) %>>
	<div class="tpice_ht " >
	           <div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg plumb-rotate90"></div>
	<div class="plumb_dock_bottom"></div>
	<div class="plumb_dock_left"></div>
	<div class="plumb_dock_right"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_Tpiece_vl"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/plumb/img/prev_tpice.png" class="plumb-rotate270" style="margin:15px"></img>'
        data-vis-set="plumb"
        data-vis-type="static"
        data-vis-name="Pipe_VL"
        data-vis-attrs="_no_resize[true]/hidden;pipe_size[20]/slider,10,50,5;conLeft;conBottom;conTop;"
        data-vis-attrs0="group.custom_control;oid;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class') %> pl pl_l pl_b pl_t" style="width: 60px; height: 60px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.tpice_vl(el, data) %>>
	<div class="tpice_vl " >
	   <div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg plumb-rotate180"></div>
	   <div class="tpice-vb plumb_body"></div>
	<div class="plumb_dock_top"></div>
	<div class="plumb_dock_bottom"></div>
	<div class="plumb_dock_left"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_Tpiece_vr"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/plumb/img/prev_tpice.png" class="plumb-rotate90" style="margin:15px"></img>'
        data-vis-set="plumb"
        data-vis-type="static"
        data-vis-name="Pipe_VR"
        data-vis-attrs="_no_resize[true]/hidden;pipe_size[20]/slider,10,50,5;conBottom;conRight;conTop;"
        data-vis-attrs0="group.custom_control;oid;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class') %> pl pl_b pl_r pl_t" style="width: 60px; height: 60px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.tpice_vr(el, data) %>>
	<div class="tpice_vr ">
	   <div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg "></div>
                <div class="plumb_dock_top"></div>
	<div class="plumb_dock_bottom"></div>
	<div class="plumb_dock_right"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_tank_simple"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/plumb/img/prev_tank_simple.png"></img>'
        data-vis-set="plumb"
        data-vis-type="static"
        data-vis-name="Tank"
        data-vis-attrs="type[level]/nselect,fix,bool,level;level_min[0];level_max[100];oid;color[#C0C0C0]/color;top_water[#0000ff]/color;bottom_water[#00ffff]/color;"
        data-vis-attrs0="group.filter;is_filter/checkbox;filter_pattern[widgets/plumb/img/kies.png]/image;filter_size[100];filter_opa[50]/slider,0,100,1;"
        data-vis-attrs1="group.conTop;conTop_show/checkbox;conTop_level[100]/slider,0,100,1;conTop_color_off[#C0C0C0]/color;conTop_color_on[#00ff00]/color;conTop_size[20]/slider,10,50,5;conTop_pos[50]/slider,0,100,1;conTop;"
        data-vis-attrs2="group.conBottom;conBottom_show/checkbox;conBottom_level[1]/slider,0,100,1;conBottom_color_off[#C0C0C0]/color;conBottom_color_on[#00ff00]/color;conBottom_size[20]/slider,10,50,5;conBottom_pos[50]/slider,0,100,1;conBottom;"
        data-vis-attrs3="group.conLeft;conLeft_show/checkbox;conLeft_level[50]/slider,0,100,1;conLeft_color_off[#C0C0C0]/color;conLeft_color_on[#00ff00]/color;conLeft_size[20]/slider,10,50,5;conLeft_pos[50]/slider,0,100,1;conLeft;"
        data-vis-attrs4="group.conRight;conRight_show/checkbox;conRight_level[50]/slider,0,100,1;conRight_color_off[#C0C0C0]/color;conRight_color_on[#00ff00]/color;conRight_size[20]/slider,10,50,5;conRight_pos[50]/slider,0,100,1;conRight">
    <div class="vis-widget <%== this.data.attr('class') %> pl pl_l pl_r pl_t pl_b" data-vis-resizable='{}' style="min-width: 70px; min-height: 135px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.tank_simple(el, data) %>>
	<div class="tank_simple" >
            	<div class="tank_simple_svg">
	<div id="<%= this.data.attr('wid') %>_dock_left_svg" class="plumb-dock-svg plumb_dock_left"></div>
	<div id="<%= this.data.attr('wid') %>_dock_right_svg" class="plumb-dock-svg plumb_dock_right"></div>
	<div id="<%= this.data.attr('wid') %>_dock_top_svg" class="plumb-dock-svg plumb_dock_top"></div>
	<div id="<%= this.data.attr('wid') %>_dock_bottom_svg" class="plumb-dock-svg plumb_dock_bottom"></div>
	</div>
        </div>
    </div>
</script>

<!--<script id="tplPlump_tank_ent_e"-->
<!--type="text/ejs"-->
<!--class="vis-tpl"-->
<!--data-vis-prev='<div id="prev_tplPlump_tank_ent_e" style="position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev pl pl_l pl_r pl_t ui-draggable-handle " data-vis-resizable="{"grid": [ 30, 30 ],"aspectRatio": true}" style="width: 110px; height: 240px; left: 330px; top: 47px; position: absolute;" > <div class="vis-widget-prev-body"> <div class="tank_ent-e " > <div class="ent-e_top_pipe-l" style="box-shadow: rgb(0, 0, 0) 10px 0px 10px -10px inset, rgb(0, 0, 0) -10px 0px 10px -10px inset;"></div> <div class="ent-e_top_pipe-r" style="box-shadow: rgb(0, 0, 0) 10px 0px 10px -10px inset, rgb(0, 0, 0) -10px 0px 10px -10px inset;"></div> <div class="ent-e_top" style="box-shadow: rgb(0, 0, 0) 90px 0px 90px -90px inset, rgb(0, 0, 0) -90px 0px 90px -90px inset, rgb(0, 0, 0) 0px 45px 45px -45px inset;"></div> <div class="ent-e_center" style="box-shadow: rgb(0, 0, 0) 90px 0px 90px -90px inset, rgb(0, 0, 0) -90px 0px 90px -90px inset;"> <div class="ent-e_schott"></div> <div class="ent-e_kies"></div> </div> <div class="ent-e_bottom" style="box-shadow: rgb(0, 0, 0) 90px 0px 90px -90px inset, rgb(0, 0, 0) -90px 0px 90px -90px inset;"></div> <div class="ent-e_bottom_pipe"></div> <div class="plumb_dock_top ui-droppable"></div> <div class="plumb_dock_left ui-droppable"></div> <div class="plumb_dock_right ui-droppable"></div> </div> </div> </div></div>'-->
<!--data-vis-set="plumb"-->
<!--data-vis-type="static"-->
<!--data-vis-name="Tank Enteisung"-->
<!--data-vis-attrs="color[#C0C0C0]/color;water_color[#0000ff]/color;conTop,cnBottom;conLeft;conRight;filter_pattern[widgets/plumb/img/kies.png]/image;filter_size[15];filter_opa[50]/slider,0,100,1">-->
<!--<div class="vis-widget <%== this.data.attr('class') %> pl pl_l pl_r pl_t" data-vis-resizable='{"grid": [ 5, 5 ],"aspectRatio": false,"handles": "n, e, s, w"}' style="min-width: 140px; min-height: 270px;" id="<%= this.data.attr('wid') %>">-->
<!--<div class="vis-widget-body" <%= (el) -> vis.binds.plumb.ent_e_top(el, data) %>>-->
<!--<div class="tank_ent-e " >-->
<!--<div class="tank_simple_svg">-->
<!--<div id="<%= this.data.attr('wid') %>_dock_left_svg" class="plumb-dock-svg plumb_dock_left"></div>-->
<!--<div id="<%= this.data.attr('wid') %>_dock_right_svg" class="plumb-dock-svg plumb_dock_right"></div>-->
<!--<div id="<%= this.data.attr('wid') %>_dock_top_svg" class="plumb-dock-svg plumb_dock_top"></div>-->
<!--<div id="<%= this.data.attr('wid') %>_dock_bottom_svg" class="plumb-dock-svg plumb_dock_bottom"></div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</script>-->

<!-- --------------plumb.html--- END -->
<!-- --------------swipe.html--- START -->
<style>
    .roundabout-holder {
        list-style: none;
        position: absolute;
        left:100px;
        top:10px;
        right: 0;
        margin: 0;
        overflow: visible;
        height: calc(100% - 20px);
        width: calc(100% - 200px);
    }

    .roundabout-moveable-item {
        text-align: center;
    }

    .li_carousel {
        background-color: rgba(0, 0, 0, 0);
        text-align: center;
        position: relative;
    }

    .carousel_blocking {
        position: relative;
        z-index: 149;
        width: 100%;
        height: 100%;
    }

    .roundabout-in-focus{
        z-index: 1000;
    }
</style>

<script type="text/javascript">
    if (vis.editMode) {
        // Add words for basic widgets
        $.extend(true, systemDictionary, {
            "group_left":           {"en": "Swipe to left",     "de": "Swipe nach links",   "ru": "Сдвиг влево"},
            "left_nav_view":        {"en": "View name",         "de": "Viewname",           "ru": "Имя страницы"},
            "left_in_effect":       {"en": "In effect",         "de": "In-Effekt",          "ru": "In эффект"},
            "left_in_eff_opt":      {"en": "In options",        "de": "In-Optionen",        "ru": "In опции"},
            "left_out_effect":      {"en": "Out effect",        "de": "Out-Effekt",         "ru": "Out эффект"},
            "left_out_eff_opt":     {"en": "Out options",       "de": "Out-Optionen",       "ru": "Out опции"},
            "group_right":          {"en": "Swipe to right",    "de": "Swipe nach rechts",  "ru": "Сдвиг вправо"},
            "right_nav_view":       {"en": "View name",         "de": "Viewname",           "ru": "Имя страницы"},
            "right_in_effect":      {"en": "In effect",         "de": "In-Effekt",          "ru": "In эффект"},
            "right_in_eff_opt":     {"en": "In options",        "de": "In-Optionen",        "ru": "In опции"},
            "right_out_effect":     {"en": "Out effect",        "de": "Out-Effekt",         "ru": "Out эффект"},
            "right_out_eff_opt":    {"en": "Out options",       "de": "Out-Optionen",       "ru": "Out опции"},
            "Swipe Navigation":     {"en": "Swipe Navigation",  "de": "Swipe Navigation",   "ru": "Swipe навигация"}
        });
    }
    
    vis.binds.swipe = {
        loadedSwipe: false,
        loadedRound: false,
        loadSwipeScripts: function (cb) {
            if (vis.binds.swipe.loadedSwipe) {
                cb && cb();
            } else {
                vis.binds.swipe.loadedSwipe = true;
                $.ajax({
                    url: 'widgets/swipe/js/jquery.touchSwipe.min.js',
                    dataType: 'script',
                    success: function () {
                        cb && cb();
                    },
                    async: false
                });
            }
        },
        loadRoundScripts: function (cb) {
            if (vis.binds.swipe.loadedRound) {
                cb && cb();
            } else {
                vis.binds.swipe.loadedRound = true;
                $.ajax({
                    url: 'widgets/swipe/js/jquery.roundabout.min.js',
                    dataType: 'script',
                    success: function () {
                        jQuery.ajax({
                            url: 'widgets/swipe/js/jquery.roundabout-shapes.js',
                            dataType: 'script',
                            success: function () {
                                cb && cb();
                            },
                            async: false
                        });
                    },
                    async: false
                });
            }
        },
        swipeNav: function (wid, view, data, style) {
            var $div = $('#' + wid);
            // if nothing found => wait
            if (!$div.length) {
                setTimeout(function () {
                    vis.binds.swipe.swipeNav(wid, view, data, style);
                }, 100);
                return;
            }
            
            if (vis.editMode) {
                $div.show()
                    .find('.translate-it')
                        .each(function () {
                            $(this).html(_($(this).text()));
                        });
            }

            var $view = $('#visview_' + view);

            if (!vis.editMode) {
                vis.binds.swipe.loadSwipeScripts(function () {
                    $view.swipe({
                        swipeLeft: function () {
                            vis.changeView(data['left_nav_view'], data['left_nav_view'], {
                                effect: data['left_out_effect'],
                                options: {
                                    direction: data['left_out_eff_opt'],
                                    queue: false
                                }, duration: $div.attr('duration')
                            }, {
                                effect: data['left_in_effect'],
                                options: {direction: data['left_in_eff_opt'], queue: false},
                                duration: $div.attr('duration')
                            }, true)
                        },
                        swipeRight: function () {
                            vis.changeView(data['right_nav_view'], data['right_nav_view'], {
                                effect: data['right_out_effect'],
                                options: {direction: data['right_out_eff_opt'], queue: false},
                                duration: $div.attr('duration')
                            }, {
                                effect: data['right_in_effect'],
                                options: {direction: data['right_in_eff_opt'], queue: false},
                                duration: $div.attr('duration')
                            }, true)
                        }
                    });
                });
            }
        },
        applyCarousel: function ($div, childView) {
            var $childView = $div.find('#visview_' + childView);
            var count = $div.data('count');
            count = count || 0;

            if (!$childView.length) {
                count++;
                if (count > 20) {
                    return;
                }
                $div.data('count', count);
                setTimeout(function () {
                    vis.binds.swipe.applyCarousel($div, childView);
                }, 100);
                return;
            }
            var $all = $div.find('.vis-widget');
            $all.each(function () {
                var $id = $(this);
                var id = $id.attr('id');
                var idOldPos = $id.position();

                var $idAndChilds = $childView.children('[id^=' + id + ']');

                if ($idAndChilds.length === 1) {
                    $id.css({top: 0, left: 0});

                    $idAndChilds.wrapAll('<li id="li_' + id + '" class="li_carousel" ></li>');
                    $('#li_' + id).css({height: $id.css('height'), width: $id.css('width')});
                } else {
                    $idAndChilds.wrapAll('<div id="wrap_' + id + '" style="position: absolute; height: 50px; width: 50px; left: ' + (idOldPos.left * -1) + 'px; top:' + (idOldPos.top * -1) + 'px"></div>');
                    $('#wrap_' + id).wrap('<li id="li_' + id + '" class="li_carousel"></li>');
                    $('#li_' + id).css({height: $id.css('height'), width: $id.css('width')});
                }
            });

            $childView.children('.li_carousel').append('<div class="carousel_blocking"></div>');
            $childView.children('.li_carousel').wrapAll('<ul class="parent_carousel"></ul>');

            $childView.find('.parent_carousel')
                .bind('ready', function () {
                    var child = $('.roundabout-in-focus').children();
                    $(child[1]).removeClass('carousel_blocking');
                })
                .roundabout({
                    clickToFocus: true,
                    enableDrag: true,
                    dragFactor: 2,
                    minZ: 1,
                    maxZ: 100,
                    tilt: -4,
                    minOpacity: 0.2,
                    minScale: 1,
                    childSelector: '.li_carousel',
                    triggerFocusEvents: true,
                    triggerBlurEvents: true
                });

            $childView.find('.li_carousel')
                .bind('focus', function () {
                    var child = $(this).children();
                    $(child[1]).removeClass('carousel_blocking');
                    $(this).removeClass('roundabout-moveable-item')
                })
                .bind('blur', function () {
                    var child = $(this).children();
                    $(child[1]).addClass('carousel_blocking');
                    $(this).addClass('roundabout-moveable-item')
                });
        },
        carousel: function (wid, view, data, style) {
            var $div = $('#' + wid);
            var childView = data.contains_view;
            
            // if nothing found => wait
            if (!$div.length) {
                setTimeout(function () {
                    vis.binds.swipe.carousel(wid, view, data, style);
                }, 100);
                return;
            }

            if (view === data.contains_view) {
                $div.find('.vis-widget-body').attr('data-vis-contains', '');
                $div.html('<div style="color: red">' + _('Cannot show itself') + '</div>');
                return;
            }

            if (vis.editMode) return;

            vis.binds.swipe.loadRoundScripts(function () {
                vis.binds.swipe.applyCarousel($div, childView);
            });
        }
    };
</script>

<script id="tplSwipe"
        type="text/ejs"
        class="vis-tpl" 
        data-vis-set="swipe"
        data-vis-prev='<img src="widgets/swipe/img/Prev_Swipe.png"></img>'
        data-vis-name="swipe Navigation"
        data-vis-attrs="duration;"
        data-vis-attrs0="group.left;left_nav_view;left_in_effect[slide];left_in_eff_opt[right];left_out_effect[slide];left_out_eff_opt[left];"
        data-vis-attrs1="group.right;right_nav_view;right_in_effect[slide];right_in_eff_opt[left];right_out_effect[slide];right_out_eff_opt[right];">
    <div class="vis-widget <%== this.data.attr('class') %>" style="display: none; width: 160px; height: 64px; background-color: #333; color: #eee; border: 2px dashed red; opacity:0.8;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.swipe.swipeNav(this.data.wid, this.view, this.data, this.style) %>>
        <div class="vis-widget-body">
            <div style="font-weight: bold" class="translate-it">Swipe Navigation</div>
            <table>
                <tr><td style="width: 40px" class="translate-it">left</td><td style="width: 20px">&gt;</td><td><%= this.data.attr('left_nav_view') %></td></tr>
                <tr><td style="width: 40px" class="translate-it">right</td><td style="width: 20px">&lt;</td><td><%= this.data.attr('right_nav_view') %></td></tr>
            </table>
        </div>
    </div>
</script>


<script id="tplCarousel" 
        type="text/ejs"
        class="vis-tpl" 
        data-vis-set="swipe"
        data-vis-prev='<img src="widgets/swipe/img/Prev_Carousel.png"></img>'
        data-vis-name="Carousel"
        data-vis-attrs="contains_view/views">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 300px; height: 100px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.swipe.carousel(this.data.wid, this.view, this.data, this.style) %>>
        <% if (vis.editMode) { %>
            <div class="editmode-helper" />
        <% } %>
        <div data-vis-contains="<%= this.data.attr('contains_view') %>" class="vis-widget-body vis-view-container"></div>
    </div>
</script>
<!-- --------------swipe.html--- END -->
<!-- --------------tabs.html--- START -->
<link rel="stylesheet" href="widgets/tabs/styles/jquery.sliderTabs.css">
<script src="widgets/tabs/jquery.sliderTabs.js"></script>
<script type="text/javascript">
    if (vis.editMode) {
        // Add words for widgets
        $.extend(true, systemDictionary, {
            "show_tabs":        {"en": "Tabs count",    "de": "Tabs-Anzahl",    "ru": "Количество закладок"},
            "title_tab_":       {"en": "Tab title",     "de": "Tab-Titel",      "ru": "Заголовок закладки"},
            "contains_view_":   {"en": "Contains view", "de": "View für Tab",   "ru": "Имя страницы"}
        });
    }

    vis.binds.tabs = {
        stabs: function (view, wid, data) {
            var $wid = $('#' + wid);
            var id = $wid.attr('id');
            if (id && id.match(/_removed$/)) {
                return;
            }

            if (!$wid.length) {
                return setTimeout(function () {
                    vis.binds.tabs.stabs(view, wid, data);
                }, 100);
            }
            // wait till widget will be visible
            if (!$wid.is(':visible')) {
                return setTimeout(function () {
                    vis.binds.tabs.stabs(view, wid, data);
                }, 1000);
            }

            $wid.find('.tabs-container').remove();
            var i;
            var text = '<span style="width: 100%; height: 100%" class="tabs-container">\n';
            text += '<ul>\n';

            data.show_tabs = parseInt(data.show_tabs, 10) || 1;

            for (i = 1; i <= data.show_tabs; i++) {
                text += '<li><a href="#' + wid + '_st' + i + '">' + (data['title_tab_' + i] || '') + '</a></li>';
            }
            text += '</ul>';

            for (i = 1; i <= data.show_tabs; i++) {
                text += '<div id="' + wid + '_st' + i + '" style="padding-left:0; height:100%">\n';
                if (vis.editMode) text += '    <div class="editmode-helper" />\n';
                text += '    <div data-vis-contains="' + (data['contains_view_' + i] || '') + '" class="vis-widget-body vis-view-container"></div>\n';
                text += '</div>\n';
            }
            text += '</span>';
            $wid.html(text);
            $wid.find('.tabs-container').sliderTabs({
                height: $wid.height() - 5
            });

            vis.updateContainers(view, view);

            if (vis.editMode && vis.activeWidgets.indexOf(wid) !== -1) {
                $wid.resizable('destroy');
                vis.resizable(vis.activeViewDiv, vis.activeView, $wid);
            }

            $wid.data('destroy', function (id, $widget) {
                try {
                    $widget.resizable('destroy');
                } catch (e) {

                }
            });
        }
    };
</script>

<script type="text/ejs" 
        id="tplSTab" 
        class="vis-tpl"
        data-vis-prev='<div id="prev_tplSTab" style=" position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev ui-selectee" style="top: 76px; left: 23px; width: 138px; height: 121px; position: absolute;" > <div class="vis-widget-prev-body"> <span style="width:100%;height:100%" class="ui-slider-tabs"> <!-- Unordered list representing the tabs --> <div class="ui-slider-tabs-list-wrapper"><div class="ui-slider-tabs-list-container" style="margin: 0px 35px;"><ul class="ui-slider-tabs-list" style="margin-left: 0px; width: 166px;"> <li class="selected" style="height: 32px;"><a href="#w00016_st1" style="height: 32px;">Tab</a></li><li style="height: 32px;"><a href="#w00016_st2" style="height: 32px;">Tab</a></li><li style="height: 32px;"><a href="#w00016_st3" style="height: 32px;">Tab</a></li></ul><a href="#" class="ui-slider-left-arrow edge" style="width: 35px; height: 32px;"><div></div></a><a href="#" class="ui-slider-right-arrow" style="width: 35px; height: 32px;"><div></div></a></div></div><div class="ui-slider-tabs-content-container" style="height: 86px;"><div style="padding-left: 0px; height: 100%; display: block; left: 0px; width: 126px;" class="ui-slider-tab-content selected"> <div class="editmode-helper"></div> <div data-vis-contains="hallo" class="vis-widget-body vis-view-container"></div> </div><div style="padding-left: 0px; height: 100%; left: 138px; width: 126px;" class="ui-slider-tab-content"> <div class="editmode-helper"></div> <div data-vis-contains="" class="vis-widget-body vis-view-container"></div> </div><div style="padding-left: 0px; height: 100%; left: 138px; width: 126px;" class="ui-slider-tab-content"> <div class="editmode-helper"></div> <div data-vis-contains="" class="vis-widget-body vis-view-container"></div> </div></div></span> </div> </div>'
        data-vis-set="tabs"
        data-vis-update-style="true"
        data-vis-name="SliderTabs" 
        data-vis-attrs="height[100]/slider,20,1000,1;show_tabs[1]/slider,1,8,1;title_tab_(1-show_tabs)[Tab];contains_view_(1-show_tabs)/views">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px; left: 0px; width: 250px; height: 250px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <% vis.binds.tabs.stabs(this.view, this.data.attr('wid'), data) %>
        </div>
    </div>
</script>

<!-- --------------tabs.html--- END -->
<!-- --------------vis-inventwo.html--- START -->
<!--
	ioBroker.vis vis-inventwo Widget-Set
	version: "3.x.x"
	Copyright 2022 jkvarel jkvarel@inventwo.com
-->

<script src="widgets/vis-inventwo/js/iro.min.js"></script>

<link rel="stylesheet" href="widgets/vis-inventwo/css/style.css"/>
<script type="text/javascript" src="widgets/vis-inventwo/js/vis-inventwo.js"></script>

<!--iText-GridSettings/custom,vis-inventwo.infoText,emptyText;
						 iGridId;
 						 iGridColumn/number,1,100,1;
 						 iGridRow/number,1,100,1;
 						 iGridColumnSpan[1]/number,1,100,1;
 						 iGridRowSpan[1]/number,1,100,1;"-->
<script id="i-vis-universal"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Universal.gif">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						iUniversalWidgetTypeInfo/custom,vis-inventwo.infoText,universalTypeInfo;
						iUniversalWidgetType[Switch]/select,Switch,State,Navigation,Background,IncreaseDecreaseValue,ViewInPopup,HTTP/updateUniversalDataFields();
						nav_view;
						oid/id;
						iValueType[boolean]/nselect,boolean,value;
						iValueTypeInfo/custom,vis-inventwo.infoText,valueType;
						iValueComparison[equal]/select,equal,greater,lower,not,greaterEqual,lowerEqual;
						iValueFalse/text;
						iValueTrue/text;
						value/text;
						iTextFalse/html;
						iTextTrue/html;
						iImageFalse/image;
						iImageTrue/image;
						iStateResponseTime[0]/slider,0,2000,100;
						iStateResetValueTime[0]/slider,0,2000,100;
						iNavWait[100]/number;
						iHttpType[iSend]/select,iSend,iOpenUrl,iOpenUrlNewTab;

						hide_effect/effect;
						hide_duration/slider,0,10000,100;
						hide_options/effect-options;

						iText-ViewPopUpSettings/custom,vis-inventwo.infoText,emptyText;
						iPopUpBackground[#666666]/color;
						iPopUpPreventClickOutside[]/checkbox;
						iPopUpShowTitle[true]/checkbox;
						iPopUpTitle[]/html;
						iPopUpTitleColor[#ffffff]/color;
						iPopUpCloseBtnColor[#dc2e2e]/color;
						iPopUpWidth[800px];
						iPopUpHeight[500px];
						iPopUpHeightTitle[50]/slider,0,100,1;
						iPopUpTitleSize[28]/slider,0,100,1;
						iPopUpPosition[center]/nselect,left,right,top,bottom,center,custom;
						iPopUpPositionX[0];
						iPopUpPositionY[0];
						iPopUpScrollX/checkbox;
						iPopUpScrollY/checkbox;
						iPopUpCloseAfterSeconds[0]/slider,1,3600,1;
						iPopUpCloseDp-oid/id;
						iPopUpCloseDpValue/text;
						iPopUpOpenDpValue/text;

						iText-ViewPopUpCornersSettings/custom,vis-inventwo.infoText,emptyText;
						iPopUpCornerRadiusUL[12]/slider,0,50,1;
						iPopUpCornerRadiusUR[0]/slider,0,50,1;
						iPopUpCornerRadiusLR[12]/slider,0,50,1;
						iPopUpCornerRadiusLL[0]/slider,0,50,1;

 						iText-ViewPopUpShadowSettings/custom,vis-inventwo.infoText,emptyText;
						iPopUpShadowXOffset[2]/slider,0,20,1;
						iPopUpShadowYOffset[2]/slider,0,20,1;
						iPopUpShadowBlur[2]/slider,0,20,1;
						iPopUpShadowSpread[1]/slider,0,20,1;
						iPopUpShadowColor[#111111]/color;"
		data-vis-attrs0="group.i-css;
						 iText-BackgroundSettings/custom,vis-inventwo.infoText,emptyText;
						 iButtonCol[#333333]/color;
						 iButtonActive[#455618]/color;
						 iButtonColHover[]/color;
						 iOpacityBack[1]/slider,0,1,0.1;

						 iText-CornerSettings/custom,vis-inventwo.infoText,emptyText;
						 iCornerRadiusUL[12]/slider,0,50,1;
						 iCornerRadiusUR[0]/slider,0,50,1;
						 iCornerRadiusLR[12]/slider,0,50,1;
						 iCornerRadiusLL[0]/slider,0,50,1;

						 iText-ContentSettings/custom,vis-inventwo.infoText,emptyText;
						 iContentFlexDirection[vertical]/select,horizontal,vertical;
						 iContentVertAlign[iSpace-between]/select,iStart,iCenter,iEnd,iSpace-between;
						 iContentOrder[orderImgText]/select,orderTextImg,orderImgText;
						 iOpacityCtn[1]/slider,0,1,0.1;
						 iContentType[image]/select,image,clock_analog,clock_digital,html_text/updateUniversalDataFields();

						 iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iTextColor[#ffffff]/color;
						 iTextColorActive[#ffffff]/color;
						 iTextSize[12]/slider,0,50,1;
						 iTextAlign[iStart]/select,iStart,iCenter,iEnd;
						 iTextDecoration[none]/nselect,none,underline,overline,line-through;
						 iTextSpaceTop[0]/slider,0,50,1;
						 iTextSpaceBottom[0]/slider,0,50,1;
						 iTextSpaceLeft[0]/slider,0,50,1;
						 iTextSpaceRight[0]/slider,0,50,1;

						 iText-ImageSettings/custom,vis-inventwo.infoText,emptyText;
						 iText-ClockSettings/custom,vis-inventwo.infoText,emptyText;
						 iText-HtmlTextSettings/custom,vis-inventwo.infoText,emptyText;
						 iIconSize[35]/slider,0,200,1;
						 iImgAlign[iCenter]/select,iStart,iCenter,iEnd;
						 iImgSpaceTop[5]/slider,0,50,1;
						 iImgSpaceBottom[0]/slider,0,50,1;
						 iImgSpaceLeft[0]/slider,0,50,1;
						 iImgSpaceRight[0]/slider,0,50,1;
						 iImgRotation[0]/slider,0,180,1;
						 iFlipImage/checkbox;
						 iImgBlinkFalse[0]/slider,0,2000,100;
						 iImgBlinkTrue[0]/slider,0,2000,100;
						 iImgColorFalse[]/color;
						 iImgColorTrue[]/color;
						 iImgColorInvertFalse/checkbox;
						 iImgColorInvertTrue/checkbox;
						 iImgClockFace[01]/nselect,01,02,03,04,05;
						 iImgClockHands[01]/nselect,01,02,03,04,05;
						 iImgClockShowBorder[1]/checkbox;
						 iImgColorClockFace[#ffffff]/color;
						 iImgColorHands[#ffffff]/color;
						 iImgColorHandSecond[#ff0000]/color;
						 iClockShowSeconds[]/checkbox;
						 iClockTimezone[Europe/Berlin]/text;
						 iHtmlTextFieldFalse[]/html;
						 iHtmlTextFieldTrue[]/html;

						 iText-ShadowSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowXOffset[2]/slider,0,20,1;
						 iShadowYOffset[2]/slider,0,20,1;
						 iShadowBlur[2]/slider,0,20,1;
						 iShadowSpread[1]/slider,0,20,1;
						 iShadowColor[#111111]/color;
						 iShadowColorActive[#111111]/color;
						 iShadowColorHover[]/color;

						 iText-ShadowInnerSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowInnerXOffset[0]/slider,0,20,1;
						 iShadowInnerYOffset[0]/slider,0,20,1;
						 iShadowInnerBlur[0]/slider,0,20,1;
						 iShadowInnerSpread[0]/slider,0,20,1;
						 iShadowInnerColor[#111111]/color;
						 iShadowInnerColorActive[#111111]/color;
						 iShadowInnerColorHover[]/color;

						 iText-TextShadowSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowTextXOffset[0]/slider,0,20,1;
						 iShadowTextYOffset[0]/slider,0,20,1;
						 iShadowTextBlur[0]/slider,0,20,1;
						 iShadowTextColor[#111111]/color;
						 iShadowTextColorActive[#111111]/color;

						 iText-BorderSettings/custom,vis-inventwo.infoText,emptyText;
						 iBorderSize[0]/slider,0,20,1;
						 iBorderStyle[none]/nselect,dotted,dashed,solid,double,groove,ridge,inset,outset,none;
						 iBorderColor[#ffffff]/color;
						 iBorderColorActive[#ffffff]/color;
						 iBorderColorHover[]/color;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Universal<br>
						<span style='color:#888888;'>Switch - State/Button - Navigation - Background</span>">

	<div class="vis-widget waves-effect waves-light vis-inventwo-universal-widget" style="width:110px; height:110px; overflow:visible; cursor:pointer;z-index:1" id="<%= this.data.attr('wid') %>">
		<%= (el) -> vis.binds['vis-inventwo'].universalButton2(el, this.data,'universal') %>
		<%= (el) -> vis.binds['vis-inventwo'].hideImgFilterFields(el) %>
	</div>
</script>

<!--iText-GridSettings/custom,vis-inventwo.infoText,emptyText;
 iGridColumn/number,1,100,1;
 iGridRow/number,1,100,1;
 iGridColumnSpan[1]/number,1,100,1;
 iGridRowSpan[1]/number,1,100,1;"-->
<script id="i-vis-multi"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Multi.gif">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						iUniversalWidgetTypeInfo/custom,vis-inventwo.infoText,universalTypeInfo;
						iUniversalWidgetType[Switch]/select,Switch,State,Navigation,Background,IncreaseDecreaseValue,ViewInPopup,HTTP/updateUniversalDataFields();
						nav_view;
						oid/id;
						iValueType[boolean]/select,boolean,value;
						iValueTypeInfo/custom,vis-inventwo.infoText,valueType;
						iValueFalse/text;
						iValueTrue/text;
						value/text;
						iTextFalse/html;
						iImageFalse/image;
						iStateResponseTime[0]/slider,0,2000,100;
						iStateResetValueTime[0]/slider,0,2000,100;
						iNavWait[100]/number;
						iHttpType[iSend]/select,iSend,iOpenUrl,iOpenUrlNewTab;

						hide_effect/effect;
						hide_duration/slider,0,10000,100;
						hide_options/effect-options;

						iText-ViewPopUpSettings/custom,vis-inventwo.infoText,emptyText;
						iPopUpBackground[#666666]/color;
						iPopUpPreventClickOutside[]/checkbox;
						iPopUpShowTitle[true]/checkbox;
						iPopUpTitle[]/html;
						iPopUpTitleColor[#ffffff]/color;
						iPopUpCloseBtnColor[#dc2e2e]/color;
						iPopUpWidth[800];
						iPopUpHeight[500];
						iPopUpHeightTitle[50]/slider,0,100,1;
						iPopUpTitleSize[28]/slider,0,100,1;
						iPopUpPosition[center]/nselect,left,right,top,bottom,center,custom;
						iPopUpPositionX[0];
						iPopUpPositionY[0];
						iPopUpScrollX/checkbox;
						iPopUpScrollY/checkbox;
						iPopUpCloseAfterSeconds[0]/slider,1,3600,1;
						iPopUpCloseDp-oid/id;
						iPopUpCloseDpValue/text;
						iPopUpOpenDpValue/text;

						iText-ViewPopUpCornersSettings/custom,vis-inventwo.infoText,emptyText;
						iPopUpCornerRadiusUL[12]/slider,0,50,1;
						iPopUpCornerRadiusUR[0]/slider,0,50,1;
						iPopUpCornerRadiusLR[12]/slider,0,50,1;
						iPopUpCornerRadiusLL[0]/slider,0,50,1;

 						iText-ViewPopUpShadowSettings/custom,vis-inventwo.infoText,emptyText;
						iPopUpShadowXOffset[2]/slider,0,20,1;
						iPopUpShadowYOffset[2]/slider,0,20,1;
						iPopUpShadowBlur[2]/slider,0,20,1;
						iPopUpShadowSpread[1]/slider,0,20,1;
						iPopUpShadowColor[#111111]/color;"
		data-vis-attrs0="iUniversalValueCount[1]/number,1,20,1/updateUniversalDataFields();group.iUniversalValues/byindex;

						 iCheckType(1-iUniversalValueCount)[iCheckDefault]/select,iCheckDefault,iCheckDpValue,iCheckView;
						 oid(1-iUniversalValueCount)/id;
						 iValueComparison(1-iUniversalValueCount)[equal]/select,equal,greater,lower,not,greaterEqual,lowerEqual;
						 iValue(1-iUniversalValueCount)/text;
						 iView(1-iUniversalValueCount)/views;
						 iTextTrue(1-iUniversalValueCount)/html;

						 iText-BackgroundSettings(1-iUniversalValueCount)/custom,vis-inventwo.infoText,emptyText;
						 iButtonActiveM(1-iUniversalValueCount)[#455618]/color;

						 iText-TextSettings(1-iUniversalValueCount)/custom,vis-inventwo.infoText,emptyText;
						 iTextColorActive(1-iUniversalValueCount)[#ffffff]/color;

						 iText-ShadowSettings(1-iUniversalValueCount)/custom,vis-inventwo.infoText,emptyText;
						 iShadowColorActiveM(1-iUniversalValueCount)[#111111]/color;

						 iText-ShadowInnerSettings(1-iUniversalValueCount)/custom,vis-inventwo.infoText,emptyText;
						 iShadowInnerColorActiveM(1-iUniversalValueCount)[#111111]/color;

						 iText-TextShadowSettings(1-iUniversalValueCount)/custom,vis-inventwo.infoText,emptyText;
						 iShadowTextColorActiveM(1-iUniversalValueCount)[#111111]/color;

						 iText-BorderSettings(1-iUniversalValueCount)/custom,vis-inventwo.infoText,emptyText;
						 iBorderColorActiveM(1-iUniversalValueCount)[#ffffff]/color;

						 iText-ImageSettings(1-iUniversalValueCount)/custom,vis-inventwo.infoText,emptyText;
						 iText-HtmlTextSettings(1-iUniversalValueCount)/custom,vis-inventwo.infoText,emptyText;
						 iImageTrue(1-iUniversalValueCount)/image;
						 iImgBlinkTrue(1-iUniversalValueCount)[0]/slider,0,2000,100;
						 iImgColorTrue(1-iUniversalValueCount)[]/color;
						 iImgColorInvert(1-iUniversalValueCount)/checkbox;
						 iHtmlTextFieldTrue(1-iUniversalValueCount)[]/html;"
		data-vis-attrs1="group.i-css;
						 iText-BackgroundSettings/custom,vis-inventwo.infoText,emptyText;
						 iButtonCol[#333333]/color;
						 iButtonColHover[]/color;
						 iOpacityBack[1]/slider,0,1,0.1;

						 iText-CornerSettings/custom,vis-inventwo.infoText,emptyText;
						 iCornerRadiusUL[12]/slider,0,50,1;
						 iCornerRadiusUR[0]/slider,0,50,1;
						 iCornerRadiusLR[12]/slider,0,50,1;
						 iCornerRadiusLL[0]/slider,0,50,1;

						 iText-ContentSettings/custom,vis-inventwo.infoText,emptyText;
						 iContentFlexDirection[vertical]/select,horizontal,vertical;
						 iContentVertAlign[iSpace-between]/select,iStart,iCenter,iEnd,iSpace-between;
						 iContentOrder[orderImgText]/select,orderTextImg,orderImgText;
						 iOpacityCtn[1]/slider,0,1,0.1;
						 iContentType[image]/select,image,clock_analog,clock_digital,html_text/updateUniversalDataFields();

						 iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iTextColor[#ffffff]/color;
						 iTextColorActive[#ffffff]/color;
						 iTextSize[12]/slider,0,50,1;
						 iTextAlign[iStart]/select,iStart,iCenter,iEnd;
						 iTextDecoration[none]/nselect,none,underline,overline,line-through;
						 iTextSpaceTop[0]/slider,0,50,1;
						 iTextSpaceBottom[0]/slider,0,50,1;
						 iTextSpaceLeft[0]/slider,0,50,1;
						 iTextSpaceRight[0]/slider,0,50,1;

						 iText-ImageSettings/custom,vis-inventwo.infoText,emptyText;
						 iText-ClockSettings/custom,vis-inventwo.infoText,emptyText;
						 iText-HtmlTextSettings/custom,vis-inventwo.infoText,emptyText;
						 iIconSize[35]/slider,0,200,1;
						 iImgAlign[iCenter]/select,iStart,iCenter,iEnd;
						 iImgRotation[0]/slider,0,180,1;
						 iImgSpaceTop[5]/slider,0,50,1;
						 iImgSpaceBottom[0]/slider,0,50,1;
						 iImgSpaceLeft[0]/slider,0,50,1;
						 iImgSpaceRight[0]/slider,0,50,1;
						 iFlipImage/checkbox;
						 iImgBlinkFalse[0]/slider,0,2000,100;
						 iImgColorFalse[]/color;
						 iImgColorInvert/checkbox;
						 iImgClockFace[01]/nselect,01,02,03,04,05;
						 iImgClockHands[01]/nselect,01,02,03,04,05;
						 iImgClockShowBorder[true]/checkbox;
						 iImgColorClockFace[#ffffff]/color;
						 iImgColorHands[#ffffff]/color;
						 iImgColorHandSecond[#ff0000]/color;
						 iClockShowSeconds[]/checkbox;
						 iClockTimezone[Europe/Berlin]/text;
						 iHtmlTextFieldFalse[]/html;

						 iText-ShadowSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowXOffset[2]/slider,0,20,1;
						 iShadowYOffset[2]/slider,0,20,1;
						 iShadowBlur[2]/slider,0,20,1;
						 iShadowSpread[1]/slider,0,20,1;
						 iShadowColor[#111111]/color;

						 iText-ShadowInnerSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowInnerXOffset[0]/slider,0,20,1;
						 iShadowInnerYOffset[0]/slider,0,20,1;
						 iShadowInnerBlur[0]/slider,0,20,1;
						 iShadowInnerSpread[0]/slider,0,20,1;
						 iShadowInnerColor[#111111]/color;

						 iText-TextShadowSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowTextXOffset[0]/slider,0,20,1;
						 iShadowTextYOffset[0]/slider,0,20,1;
						 iShadowTextBlur[0]/slider,0,20,1;
						 iShadowTextColor[#111111]/color;

						 iText-BorderSettings/custom,vis-inventwo.infoText,emptyText;
						 iBorderSize[0]/slider,0,20,1;
						 iBorderStyle[none]/nselect,dotted,dashed,solid,double,groove,ridge,inset,outset,none;
						 iBorderColor[#ffffff]/color;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Multi<br>
						<span style='color:#888888;'>Switch - State/Button - Navigation - Background</span>">

	<div class="vis-widget waves-effect waves-light vis-inventwo-multi-widget" style="width:110px; height:110px; overflow:visible; cursor:pointer;z-index:1" id="<%= this.data.attr('wid') %>">
		<%= (el) -> vis.binds['vis-inventwo'].universalButton2(el, this.data,'multi') %>
		<%= (el) -> vis.binds['vis-inventwo'].hideImgFilterFields(el) %>
	</div>


</script>



<script id="i-vis-slider-simple"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Slider1.gif">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						oid/id;
						iMinVal[1];
						iMaxVal[100];
						iStepVal[1]/slider,1,100,0.1;
						iVisibleStepVal[1]/slider,1,100,0.1;
						iSliderRotation[0]/slider,-45,45,1;
						iSliderLabel/text;
						iValuePreText/text;
						iValueAfterText/text;
						iShowMinMax/checkbox;
						iShowValue/checkbox;
						iChangeOnRelease/checkbox;
						iInvertMinMax/checkbox;
						iShowSteps/checkbox;"
		data-vis-attrs0="group.i-css;
						 iText-SliderBarSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderHeight[10]/slider,1,200,1;
						 iSliderColor[#ffffff]/color;
						 iSliderCorners[100]/slider,0,100,1;

						 iText-SliderKnobSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderKnobSize[20]/slider,1,200,1;
						 iSliderKnobColor[#455618]/color;
						 iSliderKnobCorners[100]/slider,0,100,1;

						 iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderTextColor[#ffffff]/color;
						 iValueTextColor[#455618]/color;
						 iTextSize[12]/slider,0,50,1;
						 iStepTextSize[12]/slider,0,50,1;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Simple Slider horizontal">

	<%

		let dataNew = Object.assign({},this.data);
		if(vis.editMode){
			dataNew = vis.binds['vis-inventwo'].getDatapointsValues(dataNew);
		}

		let elHeight;
		let topSpace = 0;
		if((dataNew.iSliderKnobSize < dataNew.iTextSize) && dataNew.iShowMinMax){
			elHeight = elHeight = parseInt(dataNew.iTextSize) * 2 + 15;
			topSpace = parseInt(dataNew.iTextSize) / 2;
		}
		else{
			elHeight = parseInt(dataNew.iSliderKnobSize) + parseInt(dataNew.iTextSize) + 15;
			topSpace = parseInt(dataNew.iSliderKnobSize) / 2;
		}

	%>

	<div class="vis-widget vis-inventwo-slider slider-horizontal <%== this.data.attr('class') %> waves-effect waves-light" id="<%= this.data.attr('wid') %>"
		style="width:200px; height:<%= elHeight%>px; overflow:visible; cursor:pointer;font-size:<%= dataNew.iTextSize %>px;color:<%= dataNew.iSliderTextColor %>;z-index:1" >
		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %> " style="position:relative; height: auto; display:flex;align-items:center;flex-wrap:wrap; top:<%= topSpace%>px;">

			<% if(dataNew.iShowMinMax){ %>
				<div style="margin-right: <%= (parseInt(dataNew.iSliderKnobSize) / 2) + 5 %>px">
					<% if (!dataNew.iInvertMinMax) { %>
						<%= dataNew.iMinVal %>
					<% } else { %>
						<%= dataNew.iMaxVal %>
					<% } %>
				</div>

				<div style="top:50%;flex-grow:1; border: 0px; border-radius: <%= dataNew.iSliderCorners %>px;background: <%= dataNew.iSliderColor %>; height: <%= dataNew.iSliderHeight %>px;"
					<%= (el) -> vis.binds['vis-inventwo'].handleSlider(el, dataNew,{orientation:"horizontal"},"normal") %> ></div>

				<div style="margin-left: <%= (parseInt(dataNew.iSliderKnobSize) / 2) + 5 %>px">
					<% if (!dataNew.iInvertMinMax) { %>
						<%= dataNew.iMaxVal %>
					<% } else { %>
						<%= dataNew.iMinVal %>
					<% } %>
				</div>

			<% } else { %>
				<div style="top:50%;flex-grow:1; border: 0px; border-radius: <%= dataNew.iSliderCorners %>px;background: <%= dataNew.iSliderColor %>; height: <%= dataNew.iSliderHeight %>px; margin: 0 <%= dataNew.iShowMinMax %>px;"
					<%= (el) -> vis.binds['vis-inventwo'].handleSlider(el, dataNew,{orientation:"horizontal"}, "normal") %> ></div>

			<% } %>

		</div>

		<div style="position:absolute; left:0px; bottom:0px;"><%= dataNew.iSliderLabel %></div>
		<% if(dataNew.iShowValue){ %>
			<div style="position:absolute; right:0px; bottom:0px;color:<%= dataNew.iValueTextColor%>">
				<%== dataNew.iValuePreText%>
				<span class="vis-inventwo-slider-currentvalue"><%= vis.states.attr(this.data.oid + '.val') %></span>
				<%== dataNew.iValueAfterText%>
			</div>
		<% } %>

	</div>

	<%
		vis.states.bind(this.data.oid + ".val", function (e, newVal, oldVal) {
			if(newVal != oldVal)
				$('#' + dataNew.wid + ' .vis-inventwo-slider-currentvalue').html(newVal);
		});
	%>

</script>

<script id="i-vis-slider-simple-2"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Slider2.gif">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						oid/id;
						iMinVal[1];
						iMaxVal[100];
						iStepVal[1]/slider,1,100,0.1;
						iVisibleStepVal[1]/slider,1,100,0.1;
						iSliderRotation[0]/slider,-45,45,1;
						iSliderLabel/text;
						iValuePreText/text;
						iValueAfterText/text;
						iShowMinMax/checkbox;
						iShowValue/checkbox;
						iChangeOnRelease/checkbox;
						iInvertMinMax/checkbox;
						iShowSteps/checkbox;"
		data-vis-attrs0="group.i-css;
						 iText-SliderBarSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderHeight[10]/slider,1,200,1;
						 iSliderColor[#ffffff]/color;
						 iSliderCorners[100]/slider,0,100,1;

						 iText-SliderKnobSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderKnobSize[20]/slider,1,200,1;
						 iSliderKnobColor[#455618]/color;
						 iSliderKnobCorners[100]/slider,0,100,1;

						 iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderTextColor[#ffffff]/color;
						 iValueTextColor[#455618]/color;
						 iTextSize[12]/slider,0,50,1;
						 iStepTextSize[12]/slider,0,50,1;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Simple Slider vertical">

	<%

		let dataNew = Object.assign({},this.data);
		if(vis.editMode){
			dataNew = vis.binds['vis-inventwo'].getDatapointsValues(dataNew);
		}

	%>
	<div class="vis-widget vis-inventwo-slider slider-vertical <%== this.data.attr('class') %> waves-effect waves-light" id="<%= this.data.attr('wid') %>"
		style="height:200px; width:<%= dataNew.iSliderHeight%>px; overflow:visible; cursor:pointer;font-size:<%= dataNew.iTextSize %>px;color:<%= dataNew.iSliderTextColor %>;z-index:1" >

		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %> " style="position:relative; height: 100%;display: flex;flex-direction: column;align-items: center;">

			<% if(dataNew.iShowMinMax){ %>
				<% if(dataNew.iShowValue && !dataNew.iInvertMinMax){ %>
					<div><span style="color:<%= dataNew.iValueTextColor%>"><%== dataNew.iValuePreText%></span></div>
					<div>
						<span class="vis-inventwo-slider-currentvalue" style="color:<%= dataNew.iValueTextColor%>"><%= vis.states.attr(this.data.oid + '.val') %></span> / <%= dataNew.iMaxVal %>
					</div>
					<div style="margin-bottom: <%= (parseInt(dataNew.iSliderKnobSize) / 2) + 5 %>px">
						<span style="color:<%= dataNew.iValueTextColor%>"><%== dataNew.iValueAfterText%></span>
					</div>
				<% } else { %>
					<div style="margin-bottom: <%= (parseInt(dataNew.iSliderKnobSize) / 2) + 5 %>px"><%if (dataNew.iInvertMinMax) { %><%= dataNew.iMinVal %><% } else{ %><%= dataNew.iMaxVal %><% } %></div>
				<% } %>

				<div style="border: 0px; border-radius: <%= dataNew.iSliderCorners %>px;background: <%= dataNew.iSliderColor %>; width: <%= dataNew.iSliderHeight %>px;flex-grow:1"
					<%= (el) -> vis.binds['vis-inventwo'].handleSlider(el, dataNew,{orientation:"vertical"}, "normal") %> ></div>

				<div style="margin-top: <%= (parseInt(dataNew.iSliderKnobSize) / 2) + 5 %>px">
				<% if(dataNew.iShowValue && dataNew.iInvertMinMax){ %>
					<div><span style="color:<%= dataNew.iValueTextColor%>"><%== dataNew.iValuePreText%></span></div>
					<div>
						<span class="vis-inventwo-slider-currentvalue" style="color:<%= dataNew.iValueTextColor%>"><%= vis.states.attr(this.data.oid + '.val') %></span> / <%= dataNew.iMaxVal %>
					</div>
					<div style="margin-bottom: <%= (parseInt(dataNew.iSliderKnobSize) / 2) + 5 %>px">
						<span style="color:<%= dataNew.iValueTextColor%>"><%== dataNew.iValueAfterText%></span>
					</div>
				<% } else { %>
					<div style="margin-bottom: <%= (parseInt(dataNew.iSliderKnobSize) / 2) + 5 %>px"><%if (dataNew.iInvertMinMax) { %><%= dataNew.iMaxVal %><% } else{ %><%= dataNew.iMinVal %><% } %></div>
				<% } %>
				</div>

				<div><%= dataNew.iSliderLabel %></div>

			<% } else { %>
				<div style="border: 0px; border-radius: <%= dataNew.iSliderCorners %>px;background: <%= dataNew.iSliderColor %>; width: <%= dataNew.iSliderHeight %>px;flex-grow:1"
					<%= (el) -> vis.binds['vis-inventwo'].handleSlider(el, dataNew,{orientation:"vertical"}, "normal") %> ></div>

				<div style="margin-top: <%= (parseInt(dataNew.iSliderKnobSize) / 2) + 5 %>px"><%= dataNew.iSliderLabel %></div>

			<% } %>



		</div>


	</div>

		<%
		vis.states.bind(this.data.oid + ".val", function (e, newVal, oldVal) {
			if(newVal != oldVal)
				$('#' + dataNew.wid + ' .vis-inventwo-slider-currentvalue').html(newVal);
		});
	%>


</script>


<script id="i-vis-slider-color-hor"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/ColorSliderHor.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						oid/id;
						iIdRed-oid/id;
						iIdGreen-oid/id;
						iIdBlue-oid/id;
						iSliderRotation[0]/slider,-45,45,1;
						iSliderLabel/text;
						iChangeOnRelease/checkbox;
						iColorSliderType[HEX]/nselect,HEX,RGB,CIE/updateColorSliderFields;"
		data-vis-attrs0="group.i-css;
						 iText-SliderBarSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderHeight[10]/slider,1,200,1;
						 iSliderCorners[100]/slider,0,100,1;

						 iText-SliderKnobSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderKnobSize[20]/slider,1,200,1;
						 iSliderKnobCorners[100]/slider,0,100,1;

                         iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderTextColor[#ffffff]/color;
						 iTextSize[12]/slider,0,50,1;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Color Slider horizontal<br>
						<span style='color:#888888;'>HEX, RGB, CIE/xy</span>">

	<%

		let dataNew = Object.assign({},this.data);
		if(vis.editMode){
			dataNew = vis.binds['vis-inventwo'].getDatapointsValues(dataNew);
		}

		let elHeight;
		let topSpace = 0;
		if((dataNew.iSliderKnobSize < dataNew.iTextSize) && dataNew.iShowMinMax){
			elHeight = elHeight = parseInt(dataNew.iTextSize) * 2 + 15;
			topSpace = parseInt(dataNew.iTextSize) / 2;
		}
		else{
			elHeight = parseInt(dataNew.iSliderKnobSize) + parseInt(dataNew.iTextSize) + 15;
			topSpace = parseInt(dataNew.iSliderKnobSize) / 2;
		}

	%>

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" id="<%= this.data.attr('wid') %>"
		style="width:200px; height:<%= elHeight%>px; overflow:visible; cursor:pointer;font-size:<%= dataNew.iTextSize %>px;color:<%= dataNew.iSliderTextColor %>;z-index:1" >
		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %> " style="position:relative; height: auto; display:flex;align-items:center;flex-wrap:wrap; top:<%= topSpace%>px;">

				<div style="top:50%;flex-grow:1; border: 0px; border-radius: <%= dataNew.iSliderCorners %>px; height: <%= dataNew.iSliderHeight %>px; margin: 0 <%= dataNew.iShowMinMax %>px; background: linear-gradient(90deg, rgba(255,0,0,1) 0%, rgba(255,255,0,1) 16%, rgba(0,255,0,1) 33%, rgba(0,255,255,1) 50%, rgba(0,0,158,1) 66%, rgba(255,0,255,1) 83%, rgba(255,0,0,1) 100%);"
					<%= (el) -> vis.binds['vis-inventwo'].handleSlider(el, dataNew,{orientation:"horizontal"}, "rgb") %> ></div>

		</div>

		<div style="position:absolute; left:0px; bottom:0px;"><%= dataNew.iSliderLabel %></div>
		<% if(dataNew.iShowValue){ %>
			<div style="position:absolute; right:0px; bottom:0px;color:<%= dataNew.iValueTextColor%>"><%== dataNew.iValuePreText%><%= vis.states.attr(this.data.oid + '.val') %></div>
		<% } %>

		<%= (el) -> vis.binds['vis-inventwo'].updateColorSliderFieldsClick(el) %>
	</div>

	<%
	if(vis.editMode){
		vis.binds['vis-inventwo'].updateColorSliderFields();
		if (vis.editMode) {
			setTimeout(function () {
				vis.binds["vis-inventwo"].updateColorSliderFields();
			}, 100);
		}
		}

	%>
</script>

<script id="i-vis-slider-color-vert"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/ColorSliderVert.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						oid/id;
						iIdRed-oid/id;
						iIdGreen-oid/id;
						iIdBlue-oid/id;
						iSliderRotation[0]/slider,-45,45,1;
						iSliderLabel/text;
						iChangeOnRelease/checkbox;
						iColorSliderType[HEX]/nselect,HEX,RGB,CIE/updateColorSliderFields;"
		data-vis-attrs0="group.i-css;
						 iText-SliderBarSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderHeight[10]/slider,1,200,1;
						 iSliderCorners[100]/slider,0,100,1;

						 iText-SliderKnobSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderKnobSize[20]/slider,1,200,1;
						 iSliderKnobCorners[100]/slider,0,100,1;

                         iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderTextColor[#ffffff]/color;
						 iTextSize[12]/slider,0,50,1;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Color Slider vertical<br>
						<span style='color:#888888;'>HEX, RGB, CIE/xy</span>">

	<%
		let dataNew = Object.assign({},this.data);
		if(vis.editMode){
			dataNew = vis.binds['vis-inventwo'].getDatapointsValues(dataNew);
		}

	%>
	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" id="<%= this.data.attr('wid') %>"
		style="height:200px; width:<%= dataNew.iSliderHeight%>px; overflow:visible; cursor:pointer;font-size:<%= dataNew.iTextSize %>px;color:<%= dataNew.iSliderTextColor %>;z-index:1" >

		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %> " style="position:relative; height: 100%;display: flex;flex-direction: column;align-items: center;">

		    <div style="border: 0px; border-radius: <%= dataNew.iSliderCorners %>px;background: linear-gradient(0deg, rgba(255,0,0,1) 0%, rgba(255,255,0,1) 16%, rgba(0,255,0,1) 33%, rgba(0,255,255,1) 50%, rgba(0,0,158,1) 66%, rgba(255,0,255,1) 83%, rgba(255,0,0,1) 100%); width: <%= dataNew.iSliderHeight %>px;flex-grow:1"
		    	<%= (el) -> vis.binds['vis-inventwo'].handleSlider(el, dataNew,{orientation:"vertical"}, "rgb") %> ></div>

		    <div style="margin-top: <%= (parseInt(dataNew.iSliderKnobSize) / 2) + 5 %>px"><%= dataNew.iSliderLabel %></div>

		</div>
		<%= (el) -> vis.binds['vis-inventwo'].updateColorSliderFieldsClick(el) %>
	</div>

	<%
		if(vis.editMode){
		vis.binds['vis-inventwo'].updateColorSliderFields();
		if (vis.editMode) {
			setTimeout(function () {
				vis.binds["vis-inventwo"].updateColorSliderFields();
			}, 100);
		}
		}

	%>
</script>


<script id="i-vis-color-picker"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/ColorSliderVert.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						oid/id;

						iColorPickerColor1-oid/id;
						iColorPickerColor2-oid/id;
						iColorPickerColor3-oid/id;

						iColorPickerTransparency-oid/id;

						iText/html;

						iText-ColorPickerSettings/custom,vis-inventwo.infoText,emptyText;
						iColorPickerFormat[HEX]/nselect,HEX,HEX 8,RGB,HSL,HSV,CIE/updateColorPickerFields;
						iColorPickerLayoutDirection[vertical]/select,vertical,horizontal;
						iColorPickerShowWheel[true]/checkbox;
						iColorPickerShowSliderHue[]/checkbox;
						iColorPickerShowSliderSaturation[]/checkbox;
						iColorPickerShowSliderValue[]/checkbox;
						iColorPickerShowSliderRed[]/checkbox;
						iColorPickerShowSliderGreen[]/checkbox;
						iColorPickerShowSliderBlue[]/checkbox;
						iColorPickerShowSliderAlpha[]/checkbox;
						iColorPickerShowSliderKelvin[]/checkbox;"
		data-vis-attrs0="group.i-css;
						 iText-ColorPickerSettings/custom,vis-inventwo.infoText,emptyText;
						 iColorPickerWidth[200]/slider,50,500,1;
						 iColorPickerComponentMargin[12]/slider,1,50,1;
						 iColorPickerHandleRadius[8]/slider,1,50,1;
						 iColorPickerHandlePadding[6]/slider,1,50,1;

						 iText-BackgroundSettings/custom,vis-inventwo.infoText,emptyText;
						 iButtonCol[#333333]/color;
						 iOpacityBack[1]/slider,0,1,0.1;

						 iText-CornerSettings/custom,vis-inventwo.infoText,emptyText;
						 iCornerRadiusUL[12]/slider,0,50,1;
						 iCornerRadiusUR[0]/slider,0,50,1;
						 iCornerRadiusLR[12]/slider,0,50,1;
						 iCornerRadiusLL[0]/slider,0,50,1;

						 iText-ContentSettings/custom,vis-inventwo.infoText,emptyText;
						 iContentFlexDirection[vertical]/select,horizontal,vertical;
						 iContentVertAlign[iSpace-between]/select,iStart,iCenter,iEnd,iSpace-between;
						 iContentOrder[orderImgText]/select,orderTextImg,orderImgText;
						 iOpacityCtn[1]/slider,0,1,0.1;

						 iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iTextColor[#ffffff]/color;
						 iTextSize[12]/slider,0,50,1;
						 iTextAlign[iStart]/select,iStart,iCenter,iEnd;
						 iTextDecoration[none]/nselect,none,underline,overline,line-through;
						 iTextSpaceTop[0]/slider,0,50,1;
						 iTextSpaceBottom[0]/slider,0,50,1;
						 iTextSpaceLeft[0]/slider,0,50,1;
						 iTextSpaceRight[0]/slider,0,50,1;

						 iText-ImageSettings/custom,vis-inventwo.infoText,emptyText;
						 iImgAlign[iCenter]/select,iStart,iCenter,iEnd;
						 iImgSpaceTop[5]/slider,0,50,1;
						 iImgSpaceBottom[0]/slider,0,50,1;
						 iImgSpaceLeft[0]/slider,0,50,1;
						 iImgSpaceRight[0]/slider,0,50,1;

						 iText-ShadowSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowXOffset[2]/slider,0,20,1;
						 iShadowYOffset[2]/slider,0,20,1;
						 iShadowBlur[2]/slider,0,20,1;
						 iShadowSpread[1]/slider,0,20,1;
						 iShadowColor[#111111]/color;

						 iText-ShadowInnerSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowInnerXOffset[0]/slider,0,20,1;
						 iShadowInnerYOffset[0]/slider,0,20,1;
						 iShadowInnerBlur[0]/slider,0,20,1;
						 iShadowInnerSpread[0]/slider,0,20,1;
						 iShadowInnerColor[#111111]/color;

						 iText-TextShadowSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowTextXOffset[0]/slider,0,20,1;
						 iShadowTextYOffset[0]/slider,0,20,1;
						 iShadowTextBlur[0]/slider,0,20,1;
						 iShadowTextColor[#111111]/color;

						 iText-BorderSettings/custom,vis-inventwo.infoText,emptyText;
						 iBorderSize[0]/slider,0,20,1;
						 iBorderStyle[none]/nselect,dotted,dashed,solid,double,groove,ridge,inset,outset,none;
						 iBorderColor[#ffffff]/color;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Color Picker<br>
						<span style='color:#888888;'>HEX, RGB, HSL, HSV, CIE/xy</span>">
	<div class="vis-widget waves-effect waves-light vis-inventwo-universal-widget" style="width:235px; height:235px; overflow:visible; cursor:pointer;z-index:1" id="<%= this.data.attr('wid') %>">
		<%= (el) -> vis.binds['vis-inventwo'].colorPicker(el, this.data) %>
		<%= (el) -> vis.binds['vis-inventwo'].updateColorPickerFieldsClick(el) %>
	</div>
</script>



<script id="i-vis-image-new"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Image.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						oid/id;
						iValue/text;
						iImageFalse/image;
						iImageTrue/image;
						iPointerEvents/checkbox;"
		data-vis-attrs0="group.i-css;
						 iText-CornerSettings/custom,vis-inventwo.infoText,emptyText;
						 iCornerRadiusUL[0]/slider,0,50,1;
						 iCornerRadiusUR[0]/slider,0,50,1;
						 iCornerRadiusLR[0]/slider,0,50,1;
						 iCornerRadiusLL[0]/slider,0,50,1;

						 iText-ImageSettings/custom,vis-inventwo.infoText,emptyText;
						 iImgRotation[0]/slider,0,180,1;
						 iFlipImage/checkbox;
						 iOpacityCtn[1]/slider,0,1,0.1;
						 iImgBlinkFalse[0]/slider,0,2000,100;
						 iImgBlinkTrue[0]/slider,0,2000,100;
						 iImgColorFalse[]/color;
						 iImgColorTrue[]/color;
						 iImgColorInvertFalse/checkbox;
						 iImgColorInvertTrue/checkbox;
						 iImgScaleType[Normal]/select,Normal,iRepeat,iStretch;
						 iImgTileSize[]/slider,1,100,1;

						 iText-ShadowSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowSpread[0]/slider,0,50,1;
						 iShadowSpreadInner[0]/slider,0,50,1;
						 iShadowBlur[0]/slider,0,50,1;
						 iShadowColor[#111111]/color;
						 iShadowColorActive[#111111]/color;"
		data-vis-set="vis-inventwo"
		data-vis-type="static,val"
		data-vis-name="Image">

	<%
	let pointer_event = "auto";
	if(this.data.iPointerEvents == true && !vis.editMode){
		pointer_event = "none";
	}

	%>

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light"
		 style="width:110px; height:110px; overflow:visible; cursor:default; z-index:1; pointer-events:<%== pointer_event %>;"
		 id="<%= this.data.attr('wid') %>" >
		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %>">

			<%
				let d = this.data;
				let imgColorFilter = "";
				let wid = "";
				let invertCol = "";

				function create(){

					let dataNew = Object.assign({},d);
					if(vis.editMode){
						dataNew = vis.binds['vis-inventwo'].getDatapointsValues(dataNew);
					}

					wid = dataNew.wid;

					let cssData = {};

					cssData.flip = 1;
            		if(dataNew.iFlipImage){
            			cssData.flip = -1;
            		}

            		let imgBlink;
            		let img = "";
            		let shadow = "";

            		let val = vis.binds["vis-inventwo"].convertValue(dataNew.iValue);

            		if(dataNew.oid != undefined && vis.states.attr(dataNew.oid + '.val') == val) {
            			imgBlink = dataNew.iImgBlinkTrue / 1000;

						imgColorFilter = dataNew.iImgColorTrue;

            			img = dataNew.iImageTrue;
            			shadow = "box-shadow: 0px 0px " + dataNew.iShadowBlur + "px " + dataNew.iShadowSpread + "px " + dataNew.iShadowColorActive;

						if(dataNew.iImgColorInvertTrue == true){
							invertCol = " filter: invert(1);";
						}
            		}
            		else{
            			imgBlink = dataNew.iImgBlinkFalse / 1000;

            			imgColorFilter = dataNew.iImgColorFalse;

            			img = dataNew.iImageFalse;
            			shadow = "box-shadow: 0px 0px " + dataNew.iShadowBlur + "px " + dataNew.iShadowSpread + "px " + dataNew.iShadowColor;

            			if(dataNew.iImgColorInvertFalse == true){
							invertCol = " filter: invert(1);";
						}
            		}

            		let scaleTypeCss = "";
            		switch(dataNew.iImgScaleType){
            			case "iRepeat":
            				scaleTypeCss = "background-repeat: repeat;";
            				scaleTypeCss += "background-size: " + dataNew.iImgTileSize + "%;";
            				break;
            			case "iStretch":
            				scaleTypeCss = "background-size: 100% 100%;";
            				break;
            		}

            		changeFilter();

            		return `
            		<div class="vis-inventwo-button-imageContainer"
            			 style="align-self: center;
            			 		display: flex;
    							justify-content: center;
    							align-items: center;
    							width:100%; height:100%;
    							opacity: ` + dataNew.iOpacityCtn + `;">

            			<div style="width: ` + dataNew.iShadowSpreadInner + `px; height: ` + dataNew.iShadowSpreadInner+
            			 			`px; position: absolute; background:` + dataNew.iShadowColor+ `; border-radius: 100%; ` + shadow + `;"></div>
            		    <div class='vis-inventwo-img'
            		    	 style="transform: scaleX(` + cssData.flip + `) rotateZ(` + dataNew.iImgRotation + `deg);
            		    	 		border-radius: ` + dataNew.iCornerRadiusUL + `px ` + data.iCornerRadiusUR+ `px ` + data.iCornerRadiusLR+ `px ` + data.iCornerRadiusLL+ `px;
            		    	 		animation:blink ` + imgBlink + `s infinite; ` + invertCol + `background-image: url('` + img + `');
            		    	 		width: 100%; height: 100%;` + scaleTypeCss + `"></div>

					</div>
            		`;

            	}

            	function changeFilter(){
            		setTimeout(function(){
            			vis.binds["vis-inventwo"].getImgColorFilter(imgColorFilter, wid, null, invertCol != '');
            		}, 10);

            	}
			%>

            <div class="vis-inventwo-button-new" style="width:100%; height:100%;">
            	<div style="width:100%; height:100%;">
            		<%== create() %>
            	</div>
            </div>


		</div>

	</div>


</script>


<script id="i-vis-jsontable"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Table.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						oid/id;
						iTblShowHead/checkbox;
						iTblFixedHead/checkbox;
						iTblRowLimit[1]/number;
						iVertScroll/checkbox;
						iHorScroll/checkbox;
						iTableRefreshRate[0]/number,0,3600,1;
						iTblDummyRow/html;
						iTblSortAttr/text;
						iTblSortOrder[asc]/select,asc,desc;"
		data-vis-attrs0="iColCount[1]/number,0,100,1;group.iTableCol/byindex;
						 iColShow(1-iColCount)[true]/checkbox;
						 iColName(1-iColCount)/text;
						 iColAttr(1-iColCount)/text;
						 iTblCellPlaceholder(1-iColCount)/text;
						 iColWidth(1-iColCount)/text;
						 iColPreText(1-iColCount)/html;
						 iColAfterText(1-iColCount)/html;

						 iTblHeadTextAlign(1-iColCount)[center]/nselect,left,center,right;
						 iTblTextAlign(1-iColCount)[left]/nselect,left,center,right;

						 iTblCellFormat(1-iColCount)[normal]/nselect,normal,datetime,image,boolean,number/updateJsonTableFields();

						 iTblCellDatetimeFormat(1-iColCount)/text;
						 iTblCellDatetimeFormatInfo(1-iColCount)/custom,vis-inventwo.infoText,tblDateInfo;

						 iTblCellImageSize(1-iColCount)[200]/slider,0,1000,1;

						 iTblCellBooleanCheckbox(1-iColCount)[false]/checkbox;
						 iTblCellBooleanColorFalse(1-iColCount)[#ff0000]/color;
						 iTblCellBooleanColorTrue(1-iColCount)[#00ff00]/color;

						 iTblCellNumberDecimals(1-iColCount)[2]/number;
						 iTblCellNumberDecimalSeperator(1-iColCount)[.]/text;
						 iTblCellNumberThousandSeperator(1-iColCount)[,]/text;
						 iTblCellThresholdsDp(1-iColCount)[]/id;
						 iTblCellThresholdsText(1-iColCount)[]/html;"
		data-vis-attrs1="group.i-css;
						 iText-BackgroundSettings/custom,vis-inventwo.infoText,emptyText;
						 iOpacityAll[1]/slider,0,1,0.1;
						 iTblRowEvenColor[#333333]/color;
						 iTblRowUnevenColor[#455618]/color;
						 iTblHeaderColor[#333333]/color;

						 iText-ContentSettings/custom,vis-inventwo.infoText,emptyText;
						 iRowSpacing[10]/slider,0,50,0.1;

						 iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iTblRowEvenTextColor[#ffffff]/color;
						 iTblRowUnevenTextColor[#ffffff]/color;
						 iTblHeaderTextColor[#ffffff]/color;

						 iText-BorderSettings/custom,vis-inventwo.infoText,emptyText;
						 iBorderSize[0]/slider,0,20,1;
						 iBorderStyleLeft[none]/nselect,dotted,dashed,solid,double,groove,ridge,inset,outset,none;
						 iBorderStyleRight[none]/nselect,dotted,dashed,solid,double,groove,ridge,inset,outset,none;
						 iBorderStyleUp[none]/nselect,dotted,dashed,solid,double,groove,ridge,inset,outset,none;
						 iBorderStyleDown[none]/nselect,dotted,dashed,solid,double,groove,ridge,inset,outset,none;
						 iBorderRemoveDouble/checkbox;
						 iBorderColor[#ffffff]/color;"

		data-vis-set="vis-inventwo"
		data-vis-type="table"
		data-vis-name="JSON Table">

		<%
			let dataNew = Object.assign({},this.data);
			if(vis.editMode){
				dataNew = vis.binds['vis-inventwo'].getDatapointsValues(dataNew);
			}
		%>

		<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" style="width:auto; height:auto; overflow:hidden;z-index:1" id="<%= this.data.attr('wid') %>" >

        		<%= (el) -> vis.binds['vis-inventwo'].jsontable(el, dataNew) %>

		</div>



</script>
<!--iText-GridSettings/custom,vis-inventwo.infoText,emptyText;
 						 iGridColumn/number,1,100,1;
 						 iGridRow/number,1,100,1;
 						 iGridColumnSpan[1]/number,1,100,1;
 						 iGridRowSpan[1]/number,1,100,1;"-->
<script id="i-vis-radiobutton-list"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Radio.gif">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						oid/id;
						iRadiobtnWidth[100]/slider,50,200,1;
						iRadiobtnHeight[50]/slider,10,200,1;
						iRadiobtnSpace[10]/slider,0,100,1;
						iRadiobtnAlign[horizontal]/select,vertical,horizontal;
						iRadiobtnWrap[iOneRowCol]/select,iOneRowCol,iMatrix;"
		data-vis-attrs0="iRadiobtnsCount[1]/number,0,100,1;group.iRadioBtns/byindex;
						 iTextFalse(1-iRadiobtnsCount)/html;
						 iTextTrue(1-iRadiobtnsCount)/html;
						 iValue(1-iRadiobtnsCount)/text;
						 iText-BackgroundSettings(1-iRadiobtnsCount)/custom,vis-inventwo.infoText,emptyText;
						 iText-BackColorRadioInfo/custom,vis-inventwo.infoText,radioBtnBackColInfoText;
						 iButtonBackM(1-iRadiobtnsCount)/color;
						 iButtonBackActiveM(1-iRadiobtnsCount)/color;
						 iText-ImgSettings(1-iRadiobtnsCount)/custom,vis-inventwo.infoText,emptyText;
						 iImageFalse(1-iRadiobtnsCount)/image;
						 iImageTrue(1-iRadiobtnsCount)/image;
						 iImgColorFalse(1-iRadiobtnsCount)[]/color;
						 iImgColorTrue(1-iRadiobtnsCount)[]/color;
						 iImgColorInvert(1-iRadiobtnsCount)/checkbox;"
		data-vis-attrs1="group.i-css;
						 iText-BackgroundSettings/custom,vis-inventwo.infoText,emptyText;
						 iButtonCol[#333333]/color;
						 iButtonActive[#455618]/color;
						 iButtonColHover[]/color;
						 iOpacityBack[1]/slider,0,1,0.1;

						 iText-CornerSettings/custom,vis-inventwo.infoText,emptyText;
						 iCornerRadiusUL[12]/slider,0,50,1;
						 iCornerRadiusUR[0]/slider,0,50,1;
						 iCornerRadiusLR[12]/slider,0,50,1;
						 iCornerRadiusLL[0]/slider,0,50,1;

						 iText-ContentSettings/custom,vis-inventwo.infoText,emptyText;
						 iContentFlexDirection[vertical]/select,horizontal,vertical;
						 iContentVertAlign[iSpace-between]/select,iStart,iCenter,iEnd,iSpace-between;
						 iContentOrder[orderImgText]/select,orderTextImg,orderImgText;
						 iOpacityCtn[1]/slider,0,1,0.1;

						 iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iTextColor[#ffffff]/color;
						 iTextSize[12]/slider,0,50,1;
						 iTextAlign[iStart]/select,iStart,iCenter,iEnd;
						 iTextSpaceTop[0]/slider,0,50,1;
						 iTextSpaceBottom[0]/slider,0,50,1;
						 iTextSpaceLeft[0]/slider,0,50,1;
						 iTextSpaceRight[0]/slider,0,50,1;

						 iText-ImageSettings/custom,vis-inventwo.infoText,emptyText;
						 iIconSize[35]/slider,0,200,1;
						 iImgAlign[iCenter]/select,iStart,iCenter,iEnd;
						 iImgRotation[0]/slider,0,180,1;
						 iImgSpaceTop[0]/slider,0,50,1;
						 iImgSpaceBottom[0]/slider,0,50,1;
						 iImgSpaceLeft[0]/slider,0,50,1;
						 iImgSpaceRight[0]/slider,0,50,1;
						 iFlipImage/checkbox;

						 iText-ShadowSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowXOffset[2]/slider,0,20,1;
						 iShadowYOffset[2]/slider,0,20,1;
						 iShadowBlur[2]/slider,0,20,1;
						 iShadowSpread[1]/slider,0,20,1;
						 iShadowColor[#111111]/color;
						 iShadowColor[#111111]/color;
						 iShadowColorActive[#111111]/color;

						 iText-ShadowInnerSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowInnerXOffset[0]/slider,0,20,1;
						 iShadowInnerYOffset[0]/slider,0,20,1;
						 iShadowInnerBlur[0]/slider,0,20,1;
						 iShadowInnerSpread[0]/slider,0,20,1;
						 iShadowInnerColor[#111111]/color;
						 iShadowInnerColorActive[#111111]/color;

						 iText-BorderSettings/custom,vis-inventwo.infoText,emptyText;
						 iBorderSize[0]/slider,0,20,1;
						 iBorderStyle[none]/nselect,dotted,dashed,solid,double,groove,ridge,inset,outset,none;
						 iBorderColor[#ffffff]/color;
						 iBorderColorActive[#ffffff]/color;"

		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Radiobutton List">

	<%
		let dataNew = Object.assign({},this.data);
		if(vis.editMode){
			dataNew = vis.binds['vis-inventwo'].getDatapointsValues(dataNew);
		}

		let classes = "";
		let styles = [];

<!--		if(dataNew.iGridColumn && dataNew.iGridRow){-->
<!--			classes = classes + ' vis-inventwo-grid-element';-->
<!--			styles.push('grid-column: ' + dataNew.iGridColumn + "/ span " + dataNew.iGridColumnSpan);-->
<!--			styles.push('grid-row: ' + dataNew.iGridRow + "/ span " + dataNew.iGridRowSpan);-->
<!--		}-->

		styles = styles.join('; ');

	%>

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light <%= classes %>" style="width:auto; height:auto; overflow:visible; cursor:pointer;z-index:1; <%= styles%>" id="<%= this.data.attr('wid') %>">

		<%
			let cssData = {};

			if(dataNew.iRadiobtnAlign == 'vertical'){
				cssData.align = "column";
				cssData.marginDir = "bottom";
				cssData.margin = "0 0 " + dataNew.iRadiobtnSpace + "px 0";
			}
			else if(dataNew.iRadiobtnAlign == 'horizontal'){
				cssData.align = "row";
				cssData.marginDir = "right";
				cssData.margin = "0 " + dataNew.iRadiobtnSpace + "px 0 0";
			}

			if(dataNew.iRadiobtnWrap == 'iMatrix'){
				cssData.wrap = "wrap";
				cssData.margin = "0 " + dataNew.iRadiobtnSpace + "px " + dataNew.iRadiobtnSpace + "px 0";
			}
			else{
				cssData.wrap = "nowrap";
			}
		%>

		<div class="vis-inventwo-class vis-widget-body vis-inventwo-radiobtnlist-body <%== this.data.attr('class') %>" style="flex-direction: <%= cssData.align %>; flex-wrap: <%= cssData.wrap %>;">

			<%

				let flip = 1;
            	if(dataNew.iFlipImage){
            		cssData.flip = -1;
            	}

				//Vertikale Inhaltsausrichtung
            	let vertTextAlign = "";
				if(dataNew.iContentVertAlign == 'iStart')
					cssData.vertTextAlign = "flex-start";
				else if(dataNew.iContentVertAlign == 'iCenter')
					cssData.vertTextAlign = "center";
				else if(dataNew.iContentVertAlign == 'iEnd')
					cssData.vertTextAlign = "flex-end";
				else if(dataNew.iContentVertAlign == 'iSpace-between')
					cssData.vertTextAlign = "space-between";

				//Inhaltsausrichtung (Reihe oder Spalte)
				let contFlexDir = "";
				if(dataNew.iContentFlexDirection == "vertical")
					cssData.contFlexDir = "column";
				else if(dataNew.iContentFlexDirection == "horizontal")
					cssData.contFlexDir = "row";

				//Inhaltsreihenfolge (Erst Bild dann Text oder erst Text dann Bild)
				let orderContent = "";
				if(dataNew.iContentOrder == 'orderTextImg')
					cssData.orderContent = 2;
				else
					cssData.orderContent = 0;

				//
				let imgAlign = "";
				if(dataNew.iImgAlign == 'iStart')
					cssData.imgAlign = "flex-start";
				else if(dataNew.iImgAlign == 'iCenter')
					cssData.imgAlign = "center";
				else if(dataNew.iImgAlign == 'iEnd')
					cssData.imgAlign = "flex-end";

				//
				let textAlign = "";
				if(dataNew.iTextAlign == 'iStart')
					cssData.textAlign = "flex-start";
				else if(dataNew.iTextAlign == 'iCenter')
					cssData.textAlign = "center";
				else if(dataNew.iTextAlign == 'iEnd')
					cssData.textAlign = "flex-end";

				let colorFilters = [];
			%>

			<% for(let val = 1; val <= dataNew.iRadiobtnsCount; val++){ %>

			<div class="vis-inventwo-radiobutton"
				 style="width: <%= dataNew.iRadiobtnWidth %>px;
						height: <%= dataNew.iRadiobtnHeight %>px;
						position: relative;
						margin: <%= cssData.margin %>;" id="<%=dataNew.wid%>_<%= val %>">

			<div>

			<%

				let backCol = "";
				let imgColorFilter = "";
				let value = vis.binds["vis-inventwo"].convertValue(dataNew['iValue' + val]);
				if(vis.states.attr(this.data.oid + '.val') == value){
					if(dataNew['iButtonBackActiveM' + val] != undefined && dataNew['iButtonBackActiveM' + val] != ''){
						backCol = dataNew['iButtonBackActiveM' + val];
					}
					else{
						backCol = dataNew.iButtonActive;
					}
					imgColorFilter = dataNew["iImgColorTrue" + val];
				}
				else{
					if(dataNew['iButtonBackM' + val] != undefined && dataNew['iButtonBackM' + val] != ''){
						backCol = dataNew['iButtonBackM' + val];
					}
					else{
						backCol = dataNew.iButtonCol;
					}
					imgColorFilter = dataNew["iImgColorFalse" + val];
				}
				let invertCol = "";
				if(dataNew["iImgColorInvert" + val] == true){
					invertCol = " filter: invert(1);";
				}
				colorFilters.push({color: imgColorFilter, wid: dataNew.wid + '_' + val});
			%>
            <div class="vis-inventwo-button-new"
            	<% if(vis.states.attr(this.data.oid + '.val') == dataNew['iValue' + val]) { %>
                 style="background: <%= backCol%>;
                 		opacity: <%= dataNew.iOpacityBack %>;
            	     	border-radius: <%= dataNew.iCornerRadiusUL %>px <%= dataNew.iCornerRadiusUR %>px <%= dataNew.iCornerRadiusLR %>px <%= dataNew.iCornerRadiusLL %>px;
            	     	box-shadow: <%= dataNew.iShadowXOffset + 'px ' + dataNew.iShadowYOffset + 'px ' + dataNew.iShadowBlur + 'px ' + dataNew.iShadowSpread + 'px ' + dataNew.iShadowColorActive%>,
            	     				inset <%= dataNew.iShadowInnerXOffset + 'px ' + dataNew.iShadowInnerYOffset + 'px ' + dataNew.iShadowInnerBlur + 'px ' + dataNew.iShadowInnerSpread + 'px ' + dataNew.iShadowInnerColorActive %>;
            	     	border: <%= dataNew.iBorderSize + 'px ' + dataNew.iBorderStyle + ' ' + dataNew.iBorderColorActive%>;"
            	<% } else { %>
				 style="background: <%= backCol%>;
				 		opacity: <%= dataNew.iOpacityBack %>;
            	     	border-radius: <%= dataNew.iCornerRadiusUL %>px <%= dataNew.iCornerRadiusUR %>px <%= dataNew.iCornerRadiusLR %>px <%= dataNew.iCornerRadiusLL %>px;
            	     	box-shadow: <%= dataNew.iShadowXOffset + 'px ' + dataNew.iShadowYOffset + 'px ' + dataNew.iShadowBlur + 'px ' + dataNew.iShadowSpread + 'px ' + dataNew.iShadowColor%>,
            	     				inset <%= dataNew.iShadowInnerXOffset + 'px ' + dataNew.iShadowInnerYOffset + 'px ' + dataNew.iShadowInnerBlur + 'px ' + dataNew.iShadowInnerSpread + 'px ' + dataNew.iShadowInnerColor%>;
            	     	border: <%= dataNew.iBorderSize + 'px ' + dataNew.iBorderStyle + ' ' + dataNew.iBorderColor %>;"
            	<% } %> ></div>
            	<div class="vis-inventwo-button-content"
            		 style="opacity: <%=dataNew.iOpacityCtn %>;
            		 		justify-content: <%= cssData.vertTextAlign %>;
            		 		flex-direction: <%= cssData.contFlexDir %>;
            		 		">
            		<div style="order: <%= cssData.orderContent %>;
            			 		align-self: <%= cssData.imgAlign %>;
            			 		margin: <%= dataNew.iImgSpaceTop + 'px ' + dataNew.iImgSpaceRight + 'px ' + dataNew.iImgSpaceBottom + 'px ' + dataNew.iImgSpaceLeft + 'px' %>;">
            			<% if(vis.states.attr(this.data.oid + '.val') == dataNew['iValue' + val]) { %>
            		    	<img src='<%= dataNew['iImageTrue' + val] %>' width="<%= dataNew.iIconSize %>" class='vis-inventwo-img'
            		    		 style="<%= imgColorFilter %>
            		    		 		transform: scaleX(<%= flip %>) rotateZ(<%= dataNew.iImgRotation %>deg); <%= invertCol %>" >
            		    <% } else if(dataNew['iImageFalse' + val] != ""){ %>
            		    	<img src='<%= dataNew['iImageFalse' + val] %>' width="<%= dataNew.iIconSize %>" class='vis-inventwo-img'
            		    	 style="transform: scaleX(<%= flip %>) rotateZ(<%= dataNew.iImgRotation %>deg); <%= invertCol %>" >
            		    <% } %>
            		</div>
            		<div style="font-size: <%= dataNew.iTextSize %>px;
            			 		color:<%= dataNew.iTextColor %>;
            			 		margin: <%= dataNew.iTextSpaceTop + 'px ' + dataNew.iTextSpaceRight + 'px ' + dataNew.iTextSpaceBottom + 'px ' + dataNew.iTextSpaceLeft + 'px' %>;
            			 		align-self: <%= cssData.textAlign %>;">
            			<% if(vis.states.attr(this.data.oid + '.val') == dataNew['iValue' + val]) { %>
            		    	<%== dataNew['iTextTrue' + val] %>
            		    <% } else { %>
            		    	<%== dataNew['iTextFalse' + val] %>
            		    <% } %>
		    		</div>
            	</div>
            </div>
            <%= (el) -> vis.binds['vis-inventwo'].radiobutton(el, this.data.attr('oid'),dataNew['iValue' + val], dataNew) %>
            </div>
            <%
            	colorFilters.forEach(c => {
            		vis.binds["vis-inventwo"].getImgColorFilter(c.color, c.wid);
            	});
            } %>

		</div>

		<%= (el) -> vis.binds['vis-inventwo'].hideImgFilterFields(el) %>

	</div>

</script>

<script id="i-vis-valuelist"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/List.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						iValueListInfo/custom,vis-inventwo.infoText,valueListInfoText;
						oid/id;
						iValueListText/html;
						iValueListDelimiter/text;
						iValueListStyle[disc]/nselect,none,lower-alpha,upper-alpha,square,circle,decimal, decimal-leading-zero,disc;
						iValueListEntryDistance[0]/slider,0,50,1;"
		data-vis-attrs0="group.i-css;
						 iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iTextColor[#ffffff]/color;
						 iTextSize[12]/slider,0,50,1;"
		data-vis-set="vis-inventwo"
		data-vis-type="table"
		data-vis-name="Value List">

	<%
		let pointer_event = "auto";
		if(this.data.iPointerEvents == true && !vis.editMode){
			pointer_event = "none";
		}
	%>

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light"
		 style="width:110px; height:110px; overflow:visible; cursor:default; z-index:1; pointer-events:<%== pointer_event %>;"
		 id="<%= this.data.attr('wid') %>" >
		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %>">

			<%= (el) -> vis.binds['vis-inventwo'].valueList(el, this.data) %>

		</div>
	</div>


</script>

<script id="i-vis-marquee"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Marquee.gif">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						iValueListInfo/custom,vis-inventwo.infoText,valueListInfoText;
						oid/id;
						iMarqueeText[Lauftext]/html;
						iMarqueeDirection[left]/nselect,left,right,up,down;
						iMarqueeSpeed[20]/slider,1,50,1;"
		data-vis-attrs0="group.i-css;
						 iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iTextColor[#ffffff]/color;
						 iTextSize[12]/slider,0,50,1;"
		data-vis-set="vis-inventwo"
		data-vis-type="static,val"
		data-vis-name="Marquee<br><span style='color:red;'>Funktioniert nicht in allen Browsern! Neues Widget ist in arbeit</span>">

	<%
		let pointer_event = "auto";
		if(this.data.iPointerEvents == true && !vis.editMode){
			pointer_event = "none";
		}
	%>

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light"
		 style="width:110px; height:20px; overflow:visible; cursor:default; z-index:1; pointer-events:<%== pointer_event %>;"
		 id="<%= this.data.attr('wid') %>" >
		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %>">

			<marquee
				style="color: <%= this.data.iTextColor %>;
					   font-size: <%= this.data.iTextSize %>px;
					   height: 100%; widht: 100%;"
				direction="<%= this.data.iMarqueeDirection %>"
				scrollamount="<%= this.data.iMarqueeSpeed %>">

				<%== this.data.iMarqueeText %>
			</marquee>

		</div>
	</div>



</script>

<script id="i-vis-switch-1"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Toggle.gif">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						oid/id;
						iValueFalse/text;
						iValueTrue/text;
						iSwitchOrientation[vertical]/select,horizontal,vertical;"
		data-vis-attrs0="group.i-css;
						 iText-ToggleSwitchSettings/custom,vis-inventwo.infoText,emptyText;
						 iOpacityBack[1]/slider,0,1,0.1;
						 iSwitchSize[110]/slider,10,200,1;
						 iFlipImage/checkbox;
						 iSwitchColOn[#333333]/color;
						 iSwitchColOnActive[#00ff00]/color;
						 iSwitchColOff[#333333]/color;
						 iSwitchColOffActive[#ff0000]/color;
						 iSwitchColor[white]/select,black,grey,white;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Switch<br>
						<span style='color:#888888;'>Simple toggle switch</span>">

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" style="width:auto; height: auto; overflow:visible; cursor:pointer;z-index:1" id="<%= this.data.attr('wid') %>">

		<%= (el) -> vis.binds['vis-inventwo'].createSwitchWidget(el, this.data, this.style) %>
		<%= (el) -> vis.binds['vis-inventwo'].hideImgFilterFields(el) %>

	</div>




</script>


<script id="i-vis-switch-basic"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Switch.gif">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;"
		data-vis-attrs0="iSwitchCount[1]/number,1,20,1;group.iBasicSwitchSwitches/byindex;
						 oid(1-iSwitchCount)/id;
						 iValueFalse(1-iSwitchCount)/text;
						 iValueTrue(1-iSwitchCount)/text;
						 iTextFalse(1-iSwitchCount)/html;
						 iTextTrue(1-iSwitchCount)/html;"
		data-vis-attrs1="group.i-css;
						 iSwitchOrientation[vertical]/select,vertical,horizontal;
						 iSwitchSpacing[20]/slider,1,200,1;
						 iSwitchTextSpacing[5]/slider,1,200,1;
						 iText-BasicSwitchBackgroundSettings/custom,vis-inventwo.infoText,emptyText;
						 iBackgroundColor[#333333]/color;
						 iBackgroundColorActive[#7e9640]/color;
						 iBarWidth[20]/slider,1,200,1;
						 iBorderRadius[20]/slider,0,100,1;

						 iText-BasicSwitchKnobSettings/custom,vis-inventwo.infoText,emptyText;
						 iKnobWidth[30]/slider,1,200,1;
						 iKnobHeight[30]/slider,1,200,1;
						 iKnobBorderRadius[30]/slider,0,100,1;
						 iKnobOffset[30]/slider,1,200,1;
						 iKnobBackgroundColor[#455618]/color;
						 iKnobBackgroundColorActive[#455618]/color;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Basic Switch<br>
						<span style='color:#888888;'>Simple toggle switch</span>">

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" style="width:100px; height: auto; overflow:visible; cursor:pointer;z-index:1" id="<%= this.data.attr('wid') %>">
		<%= (el) -> vis.binds['vis-inventwo'].createBasicSwitchWidget(el, this.data, this.style) %>
	</div>
</script>

<script id="i-vis-checkbox"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Check.gif">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;"
		data-vis-attrs0="iCheckboxCount[1]/number,1,20,1;group.iCheckboxBox/byindex;
						 oid(1-iCheckboxCount)/id;
						 iValueFalse(1-iCheckboxCount)/text;
						 iValueTrue(1-iCheckboxCount)/text;
						 iText(1-iCheckboxCount)/html;"
		data-vis-attrs1="group.i-css;
						 iCheckboxOrientation[vertical]/select,vertical,horizontal;
						 iCheckboxSpacing[20]/slider,1,200,1;
						 iCheckboxIcon[iIconCheck]/select,iIconCheck,iIconCross,iIconDot;
						 iText-CheckboxBoxSettings/custom,vis-inventwo.infoText,emptyText;
						 iWidth[30]/slider,1,200,1;
						 iHeight[30]/slider,1,200,1;
						 iBackgroundColor[#ffffff]/color;
						 iBackgroundColorActive[#ffffff]/color;
						 iColorIcon[#000000]/color;

						 iText-CornerSettings/custom,vis-inventwo.infoText,emptyText;
						 iCornerRadiusUL[4]/slider,0,50,1;
						 iCornerRadiusUR[4]/slider,0,50,1;
						 iCornerRadiusLR[4]/slider,0,50,1;
						 iCornerRadiusLL[4]/slider,0,50,1;

						 iText-BorderSettings/custom,vis-inventwo.infoText,emptyText;
						 iBorderSize[0]/slider,0,20,1;
						 iBorderStyle[none]/nselect,dotted,dashed,solid,double,groove,ridge,inset,outset,none;
						 iBorderColor[#ffffff]/color;
						 iBorderColorActive[#ffffff]/color;

						 iText-ShadowSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowXOffset[2]/slider,0,20,1;
						 iShadowYOffset[2]/slider,0,20,1;
						 iShadowBlur[2]/slider,0,20,1;
						 iShadowSpread[0]/slider,0,20,1;
						 iShadowColor[#111111]/color;
						 iShadowColorActive[#111111]/color;

						 iText-ShadowInnerSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowInnerXOffset[0]/slider,0,20,1;
						 iShadowInnerYOffset[0]/slider,0,20,1;
						 iShadowInnerBlur[0]/slider,0,20,1;
						 iShadowInnerSpread[0]/slider,0,20,1;
						 iShadowInnerColor[#111111]/color;
						 iShadowInnerColorActive[#111111]/color;

						 iText-TextShadowSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowTextXOffset[0]/slider,0,20,1;
						 iShadowTextYOffset[0]/slider,0,20,1;
						 iShadowTextBlur[0]/slider,0,20,1;
						 iShadowTextColor[#111111]/color;
						 iShadowTextColorActive[#111111]/color;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Checkbox/Radiobutton">

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" style="width:150px; height: auto; overflow:visible; cursor:pointer;z-index:1" id="<%= this.data.attr('wid') %>">
		<%= (el) -> vis.binds['vis-inventwo'].createCheckbox(el, this.data, this.style) %>
	</div>


</script>


<!--<script id="i-vis-grid"-->
<!--		type="text/ejs"-->
<!--		class="vis-tpl"-->
<!--		data-vis-prev='<img src="widgets/vis-inventwo/img/Universal.gif">'-->
<!--		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;-->

<!--						iText-GridSettings/custom,vis-inventwo.infoText,emptyText;-->
<!--						iGridShow[true]/checkbox;-->
<!--						iGridColWidth[100];-->
<!--						iGridRowHeight[100];-->
<!--						iGridGap[10];-->
<!--						iGridPadding[10];"-->
<!--		data-vis-set="vis-inventwo"-->
<!--		data-vis-type="ctrl"-->
<!--		data-vis-name="Grid">-->

<!--	<%-->

<!--		let styles = [];-->
<!--		let classes = [];-->

<!--		styles.push("grid-auto-columns: " + this.data.iGridColWidth + "px");-->
<!--		styles.push("grid-auto-rows: " + this.data.iGridRowHeight + "px");-->
<!--		styles.push("grid-gap: " + this.data.iGridGap + "px");-->
<!--		styles.push("padding: " + this.data.iGridPadding + "px");-->

<!--		classes.push("show-grid");-->

<!--		styles = styles.join("; ");-->
<!--		classes = classes.join(" ");-->


<!--	%>-->

<!--	<div class="vis-widget <%== this.data.attr('class') %> vis-inventwo-grid <%= classes %>"-->
<!--		 style="width:110px; height:110px; overflow:visible; z-index:0 ;<%= styles %>" id="<%= this.data.attr('wid') %>">-->

<!--		<% vis.binds['vis-inventwo'].gridWidget(this.data.wid, this.data); %>-->
<!--	</div>-->
<!--</script>-->




<!-- BEKOMMEN KEINE NEUEN FEATURES -->
<script id="i-vis-switch"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/0_Switch.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;oid/id;iTextFalse/html;iTextTrue/html;iTextSize[12]/slider,0,50,1;iImageFalse/image;iImageTrue/image;iIconSize[60]/slider,0,200,1;iInvertImageCol/checkbox;iFlipImage/checkbox;iValueType[boolean]/select,boolean,value;iValueTypeInfo/custom,vis-inventwo.infoText,valueType;iValueFalse/text;iValueTrue/text;"
		data-vis-attrs0="group.i-css;iButtonCol[#333333]/color;iButtonActive[#455618]/color;
		iCornerRadiusUL[12]/slider,0,50,1;iCornerRadiusUR[0]/slider,0,50,1;iCornerRadiusLR[12]/slider,0,50,1;iCornerRadiusLL[0]/slider,0,50,1;
		iOpacity[1]/slider,0,1,0.1;iOpacityCtn[1]/slider,0,1,0.1;iTextColor[#ffffff]/color;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Switch<br><span style='color:red;'>WARNING! Widget won't get any new features! Please use new widgets</span>">

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" style="width:110px; height:110px; overflow:visible; cursor:pointer;z-index:1" id="<%= this.data.attr('wid') %>" >
		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %>">

            <div class="vis-inventwo-button"
                <% if((vis.states.attr(this.data.oid + '.val') && this.data.iValueType == 'boolean') || (vis.states.attr(this.data.oid + '.val') == this.data.iValueTrue && this.data.iValueType == 'value')) { %>
                    style="background: <%= this.data.attr('iButtonActive') %>;
                    border-radius: <%= this.data.attr('iCornerRadiusUL') %>px <%= this.data.attr('iCornerRadiusUR') %>px <%= this.data.attr('iCornerRadiusLR') %>px <%= this.data.attr('iCornerRadiusLL') %>px;
                    opacity:<%= this.data.attr('iOpacity')%>;"
                <% } else { %>
                    style="background: <%= this.data.attr('iButtonCol') %>;
                    border-radius: <%= this.data.attr('iCornerRadiusUL') %>px <%= this.data.attr('iCornerRadiusUR') %>px <%= this.data.attr('iCornerRadiusLR') %>px <%= this.data.attr('iCornerRadiusLL') %>px;
                    opacity:<%= this.data.attr('iOpacity')%>;"
                <% } %>
            >
		    </div>

            <div class="vis-inventwo-button-content" style="opacity: <%= this.data.attr('iOpacityCtn') %>;">

            	<%

            		let flip = 1;
            		if(this.data.attr('iFlipImage')){
            			flip = -1;
            		}

            	%>


                <% if((vis.states.attr(this.data.oid + '.val') && this.data.iValueType == 'boolean') || (vis.states.attr(this.data.oid + '.val') == this.data.iValueTrue && this.data.iValueType == 'value')) { %>
                    <div class="vis-inventwo-button-imageContainer">
                        <img src='<%= this.data.iImageTrue %>' width="<%= this.data.iIconSize %>" style="filter: invert(<%= Number(this.data.attr('iInvertImageCol')) %>);transform: scaleX(<%= flip %>);" >
                    </div>
                    <div class="vis-inventwo-button-text" style="font-size: <%= this.data.iTextSize %>px;color:<%= this.data.iTextColor %>;">
                        <%== this.data.iTextTrue %>
		            </div>
                <% } else { %>
                    <div class="vis-inventwo-button-imageContainer">
                        <img src='<%= this.data.iImageFalse %>' width="<%= this.data.iIconSize %>" style="filter: invert(<%= Number(this.data.attr('iInvertImageCol')) %>);transform: scaleX(<%= flip %>);" >
                    </div>
                    <div class="vis-inventwo-button-text" style="font-size: <%= this.data.iTextSize %>px;color:<%= this.data.iTextColor %>;">
                        <%== this.data.iTextFalse %>
		            </div>
                <% } %>

            </div>
            <%= (el) -> vis.binds['vis-inventwo'].handleToggle(el, this.data) %>
		</div>

	</div>


</script>
<script id="i-vis-switch-small"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/0_Switch1.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;oid/id;iTextFalse/text;iTextTrue/text;iTextSize[12]/slider,0,50,1;iImageFalse/image;iImageTrue/image;iIconSize[35]/slider,0,200,1;iInvertImageCol/checkbox;iFlipImage/checkbox;iValueType[boolean]/select,boolean,value;iValueTypeInfo/custom,vis-inventwo.infoText,valueType;iValueFalse/text;iValueTrue/text;"
		data-vis-attrs0="group.i-css;iButtonCol[#333333]/color;iButtonActive[#455618]/color;
		iCornerRadiusUL[12]/slider,0,50,1;iCornerRadiusUR[0]/slider,0,50,1;iCornerRadiusLR[12]/slider,0,50,1;iCornerRadiusLL[0]/slider,0,50,1;
		iOpacity[1]/slider,0,1,0.1;iOpacityCtn[1]/slider,0,1,0.1;iTextColor[#ffffff]/color;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Switch Small<br><span style='color:red;'>WARNING! Widget won't get any new features! Please use new widgets</span>">

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" style="width:110px; height:50px; overflow:visible; cursor:pointer;z-index:1" id="<%= this.data.attr('wid') %>" >
		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %>">

            <div class="vis-inventwo-button"
                <% if((vis.states.attr(this.data.oid + '.val') && this.data.iValueType == 'boolean') || (vis.states.attr(this.data.oid + '.val') == this.data.iValueTrue && this.data.iValueType == 'value')) { %>
                    style="background: <%= this.data.attr('iButtonActive') %>;
                    border-radius: <%= this.data.attr('iCornerRadiusUL') %>px <%= this.data.attr('iCornerRadiusUR') %>px <%= this.data.attr('iCornerRadiusLR') %>px <%= this.data.attr('iCornerRadiusLL') %>px;
                    opacity:<%= this.data.attr('iOpacity')%>;"
                <% } else { %>
                    style="background: <%= this.data.attr('iButtonCol') %>;
                    border-radius: <%= this.data.attr('iCornerRadiusUL') %>px <%= this.data.attr('iCornerRadiusUR') %>px <%= this.data.attr('iCornerRadiusLR') %>px <%= this.data.attr('iCornerRadiusLL') %>px;
                    opacity:<%= this.data.attr('iOpacity')%>;"
                <% } %>
            >
		    </div>

            <div class="vis-inventwo-button-content-small" style="opacity: <%= this.data.attr('iOpacityCtn') %>">

			<%

            		let flip = 1;
            		if(this.data.attr('iFlipImage')){
            			flip = -1;
            		}

            	%>

            <% if((vis.states.attr(this.data.oid + '.val') && this.data.iValueType == 'boolean') || (vis.states.attr(this.data.oid + '.val') == this.data.iValueTrue && this.data.iValueType == 'value')) { %>
                <div style="order:2; position:relative;">
                    <img src='<%= this.data.iImageTrue %>' width="<%= this.data.iIconSize %>" style="filter: invert(<%= Number(this.data.attr('iInvertImageCol')) %>);transform: scaleX(<%= flip %>);">
                </div>
                <div class="vis-inventwo-button-text" style="font-size: <%= this.data.iTextSize %>px;display:table-cell;color:<%= this.data.iTextColor %>">
                    <%== this.data.iTextTrue %>
		        </div>
            <% } else { %>
                <div style="order:2; position:relative;">
                    <img src='<%= this.data.iImageFalse %>' width="<%= this.data.iIconSize %>" style="filter: invert(<%= Number(this.data.attr('iInvertImageCol')) %>);transform: scaleX(<%= flip %>);">
                </div>
                <div class="vis-inventwo-button-text" style="font-size: <%= this.data.iTextSize %>px;display:table-cell;color:<%= this.data.iTextColor %>">
                    <%== this.data.iTextFalse %>
		        </div>
            <% } %>

            </div>
            <%= (el) -> vis.binds['vis-inventwo'].handleToggle(el, this.data) %>
		</div>

	</div>


</script>

<script id="i-vis-button"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/0_Button.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;oid/id;value;iText/text;iTextSize[12]/slider,0,50,1;iImage/image;iIconSize[60]/slider,0,200,1;iInvertImageCol/checkbox;iFlipImage/checkbox;"
		data-vis-attrs0="group.i-css;iButtonCol[#333333]/color;
		iCornerRadiusUL[12]/slider,0,50,1;iCornerRadiusUR[0]/slider,0,50,1;iCornerRadiusLR[12]/slider,0,50,1;iCornerRadiusLL[0]/slider,0,50,1;
		iOpacity[1]/slider,0,1,0.1;iOpacityCtn[1]/slider,0,1,0.1;iTextColor[#ffffff]/color;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Button<br><span style='color:red;'>WARNING! Widget won't get any new features! Please use new widgets</span>">

		<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" style="width:110px; height:110px; overflow:visible; cursor:pointer;z-index:1" id="<%= this.data.attr('wid') %>" >
		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %> ">

            <div class="vis-inventwo-button"
                    style="background: <%= this.data.attr('iButtonCol') %>;
                    border-radius: <%= this.data.attr('iCornerRadiusUL') %>px <%= this.data.attr('iCornerRadiusUR') %>px <%= this.data.attr('iCornerRadiusLR') %>px <%= this.data.attr('iCornerRadiusLL') %>px;
                    opacity:<%= this.data.attr('iOpacity')%>;"
            >
		    </div>
			<%

            		let flip = 1;
            		if(this.data.attr('iFlipImage')){
            			flip = -1;
            		}

            	%>
            <div class="vis-inventwo-button-content" style="opacity: <%= this.data.attr('iOpacityCtn') %>;">
                <div class="vis-inventwo-button-imageContainer">
                    <img src='<%= this.data.iImage %>' width="<%= this.data.iIconSize %>" style="filter: invert(<%= Number(this.data.attr('iInvertImageCol')) %>);transform: scaleX(<%= flip %>);">
                </div>
                <div class="vis-inventwo-button-text" style="font-size: <%= this.data.iTextSize %>px;color:<%= this.data.iTextColor %>">
                    <%== this.data.iText %>
		        </div>
            </div>
		</div>
        <%= (el) -> vis.binds['vis-inventwo'].state(el, this.data) %>
	</div>


</script>
<script id="i-vis-button-small"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/0_Button1.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;oid/id;value;iText/text;iTextSize[12]/slider,0,50,1;iImage/image;iIconSize[35]/slider,0,200,1;iInvertImageCol/checkbox;iFlipImage/checkbox;"
		data-vis-attrs0="group.i-css;iButtonCol[#333333]/color;
		iCornerRadiusUL[12]/slider,0,50,1;iCornerRadiusUR[0]/slider,0,50,1;iCornerRadiusLR[12]/slider,0,50,1;iCornerRadiusLL[0]/slider,0,50,1;
		iOpacity[1]/slider,0,1,0.1;iOpacityCtn[1]/slider,0,1,0.1;iTextColor[#ffffff]/color;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Button Small<br><span style='color:red;'>WARNING! Widget won't get any new features! Please use new widgets</span>">

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" style="width:110px; height:50px; overflow:visible; cursor:pointer;z-index:1" id="<%= this.data.attr('wid') %>" >
		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %> ">

            <div class="vis-inventwo-button"
                    style="background: <%= this.data.attr('iButtonCol') %>;
                    border-radius: <%= this.data.attr('iCornerRadiusUL') %>px <%= this.data.attr('iCornerRadiusUR') %>px <%= this.data.attr('iCornerRadiusLR') %>px <%= this.data.attr('iCornerRadiusLL') %>px;
                    opacity:<%= this.data.attr('iOpacity')%>;"
            >
		    </div>
			<%

            		let flip = 1;
            		if(this.data.attr('iFlipImage')){
            			flip = -1;
            		}

            	%>
            <div class="vis-inventwo-button-content-small" style="opacity: <%= this.data.attr('iOpacityCtn') %>">

                <div style="order:2; position:relative;">
                    <img src='<%= this.data.iImage %>' width="<%= this.data.iIconSize %>" style="filter: invert(<%= Number(this.data.attr('iInvertImageCol')) %>);transform: scaleX(<%= flip %>);">
                </div>
                <div class="vis-inventwo-button-text" style="font-size: <%= this.data.iTextSize %>px;display:table-cell;color:<%= this.data.iTextColor %>">
                    <%== this.data.iText %>
		        </div>

            </div>
            <%= (el) -> vis.binds['vis-inventwo'].state(el, this.data) %>
		</div>

	</div>


</script>

<script id="i-vis-navigation"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/0_Nav.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;nav_view;iText/text;iTextSize[12]/slider,0,50,1;iImage/image;iIconSize[60]/slider,0,200,1;iInvertImageCol/checkbox;iFlipImage/checkbox;iNavWait[100]/number;oid/id;iNavValue/text;"
		data-vis-attrs0="group.i-css;iButtonCol[#333333]/color;iButtonActive[#455618]/color;
		iCornerRadiusUL[12]/slider,0,50,1;iCornerRadiusUR[0]/slider,0,50,1;iCornerRadiusLR[12]/slider,0,50,1;iCornerRadiusLL[0]/slider,0,50,1;
		iOpacity[1]/slider,0,1,0.1;iOpacityCtn[1]/slider,0,1,0.1;iTextColor[#ffffff]/color;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Navigation<br><span style='color:red;'>WARNING! Widget won't get any new features! Please use new widgets</span>">

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" style="width:110px; height:110px; overflow:visible; cursor:pointer;z-index:1" id="<%= this.data.attr('wid') %>">
		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %> ">

			<%
				let backgroundcol = this.data.iButtonCol;
				if(this.data.nav_view === vis.activeView){
					backgroundcol = this.data.iButtonActive;
				}
			%>

            <div class="vis-inventwo-button vis-inventwo-nav" data-inventwo-nav="<%= this.data.nav_view%>" data-activeCol="<%= this.data.iButtonActive%>" data-col="<%= this.data.iButtonCol%>"
                    style="background: <%= backgroundcol %>;
                    border-radius: <%= this.data.attr('iCornerRadiusUL') %>px <%= this.data.attr('iCornerRadiusUR') %>px <%= this.data.attr('iCornerRadiusLR') %>px <%= this.data.attr('iCornerRadiusLL') %>px;
                    opacity:<%= this.data.attr('iOpacity')%>;"
            >
		    </div>
			<%

            		let flip = 1;
            		if(this.data.attr('iFlipImage')){
            			flip = -1;
            		}

            	%>
            <div class="vis-inventwo-button-content" style="opacity: <%= this.data.attr('iOpacityCtn') %>;">
                <div class="vis-inventwo-button-imageContainer">

                        <img src='<%= this.data.iImage %>' width="<%= this.data.iIconSize %>" style="filter: invert(<%= Number(this.data.attr('iInvertImageCol')) %>);transform: scaleX(<%= flip %>);">

                </div>
                <div class="vis-inventwo-button-text" style="font-size: <%= this.data.iTextSize %>px;color:<%= this.data.iTextColor %>">
                    <%== this.data.iText %>
		        </div>
            </div>
            <%= (el) -> vis.binds['vis-inventwo'].handleNavigation(el, this.data) %>
		</div>

	</div>


</script>
<script id="i-vis-navigation-small"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/0_Nav1.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;nav_view;iText/text;iTextSize[12]/slider,0,50,1;iImage/image;iIconSize[35]/slider,0,200,1;iInvertImageCol/checkbox;iFlipImage/checkbox;iNavWait[100]/number;oid/id;iNavValue/text;"
		data-vis-attrs0="group.i-css;iButtonCol[#333333]/color;iButtonActive[#455618]/color;
		iCornerRadiusUL[12]/slider,0,50,1;iCornerRadiusUR[0]/slider,0,50,1;iCornerRadiusLR[12]/slider,0,50,1;iCornerRadiusLL[0]/slider,0,50,1;
		iOpacity[1]/slider,0,1,0.1;iOpacityCtn[1]/slider,0,1,0.1;iTextColor[#ffffff]/color;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Navigation Small<br><span style='color:red;'>WARNING! Widget won't get any new features! Please use new widgets</span>">

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" style="width:110px; height:50px; overflow:visible; cursor:pointer;z-index:1" id="<%= this.data.attr('wid') %>">
		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %> ">

			<%
				let backgroundcol = this.data.iButtonCol;
				if(this.data.nav_view === vis.activeView){
					backgroundcol = this.data.iButtonActive;
				}
			%>

            <div class="vis-inventwo-button vis-inventwo-nav" data-inventwo-nav="<%= this.data.nav_view%>" data-activeCol="<%= this.data.iButtonActive%>" data-col="<%= this.data.iButtonCol%>"
                    style="background:  <%= backgroundcol %>;
                    border-radius: <%= this.data.attr('iCornerRadiusUL') %>px <%= this.data.attr('iCornerRadiusUR') %>px <%= this.data.attr('iCornerRadiusLR') %>px <%= this.data.attr('iCornerRadiusLL') %>px;
                    opacity:<%= this.data.attr('iOpacity')%>;"
            >
		    </div>
			<%

            		let flip = 1;
            		if(this.data.attr('iFlipImage')){
            			flip = -1;
            		}

            	%>
            <div class="vis-inventwo-button-content-small" style="opacity: <%= this.data.attr('iOpacityCtn') %>">

                <div style="order:2; position:relative;">
                    <img src='<%= this.data.iImage %>' width="<%= this.data.iIconSize %>" style="filter: invert(<%= Number(this.data.attr('iInvertImageCol')) %>);transform: scaleX(<%= flip %>);">
                </div>
                <div class="vis-inventwo-button-text" style="font-size: <%= this.data.iTextSize %>px;display:table-cell;color:<%= this.data.iTextColor %>">
                    <%== this.data.iText %>
		        </div>

            </div>
            <%= (el) -> vis.binds['vis-inventwo'].handleNavigation(el, this.data) %>
		</div>

	</div>


</script>

<script id="i-vis-background"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/0_Background.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;oid/id;iTextFalse/html;iTextTrue/html;iTextSize[12]/slider,0,50,1;iImageFalse/image;iImageTrue/image;iIconSize[60]/slider,0,200,1;iInvertImageCol/checkbox;iFlipImage/checkbox;iValueType[boolean]/select,boolean,value;iValueTypeInfo/custom,vis-inventwo.infoText,valueType;iValueFalse/text;iValueTrue/text;"
		data-vis-attrs0="group.i-css;iButtonCol[#333333]/color;iButtonActive[#455618]/color;
		iCornerRadiusUL[12]/slider,0,50,1;iCornerRadiusUR[0]/slider,0,50,1;iCornerRadiusLR[12]/slider,0,50,1;iCornerRadiusLL[0]/slider,0,50,1;
		iOpacity[1]/slider,0,1,0.1;iOpacityCtn[1]/slider,0,1,0.1;iTextColor[#ffffff]/color;"
		data-vis-set="vis-inventwo"
		data-vis-type="val"
		data-vis-name="Background<br><span style='color:red;'>WARNING! Widget won't get any new features! Please use new widgets</span>">

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" style="width:110px; height:110px; overflow:visible; cursor:pointer;z-index:1" id="<%= this.data.attr('wid') %>" >
		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %>">

            <div class="vis-inventwo-button"
                <% if((vis.states.attr(this.data.oid + '.val') && this.data.iValueType == 'boolean') || (vis.states.attr(this.data.oid + '.val') == this.data.iValueTrue && this.data.iValueType == 'value')) { %>
                    style="background: <%= this.data.attr('iButtonActive') %>;
                    border-radius: <%= this.data.attr('iCornerRadiusUL') %>px <%= this.data.attr('iCornerRadiusUR') %>px <%= this.data.attr('iCornerRadiusLR') %>px <%= this.data.attr('iCornerRadiusLL') %>px;
                    opacity:<%= this.data.attr('iOpacity')%>;"
                <% } else { %>
                    style="background: <%= this.data.attr('iButtonCol') %>;
                    border-radius: <%= this.data.attr('iCornerRadiusUL') %>px <%= this.data.attr('iCornerRadiusUR') %>px <%= this.data.attr('iCornerRadiusLR') %>px <%= this.data.attr('iCornerRadiusLL') %>px;
                    opacity:<%= this.data.attr('iOpacity')%>;"
                <% } %>
            >
		    </div>

            <div class="vis-inventwo-button-content" style="opacity: <%= this.data.attr('iOpacityCtn') %>;">

            	<%

            		let flip = 1;
            		if(this.data.attr('iFlipImage')){
            			flip = -1;
            		}

            	%>


                <% if((vis.states.attr(this.data.oid + '.val') && this.data.iValueType == 'boolean') || (vis.states.attr(this.data.oid + '.val') == this.data.iValueTrue && this.data.iValueType == 'value')) { %>
                    <div class="vis-inventwo-button-imageContainer">
                        <img src='<%= this.data.iImageTrue %>' width="<%= this.data.iIconSize %>" style="filter: invert(<%= Number(this.data.attr('iInvertImageCol')) %>);transform: scaleX(<%= flip %>);" >
                    </div>
                    <div class="vis-inventwo-button-text" style="font-size: <%= this.data.iTextSize %>px;color:<%= this.data.iTextColor %>;">
                        <%== this.data.iTextTrue %>
		            </div>
                <% } else { %>
                    <div class="vis-inventwo-button-imageContainer">
                        <img src='<%= this.data.iImageFalse %>' width="<%= this.data.iIconSize %>" style="filter: invert(<%= Number(this.data.attr('iInvertImageCol')) %>);transform: scaleX(<%= flip %>);" >
                    </div>
                    <div class="vis-inventwo-button-text" style="font-size: <%= this.data.iTextSize %>px;color:<%= this.data.iTextColor %>;">
                        <%== this.data.iTextFalse %>
		            </div>
                <% } %>

            </div>
		</div>

	</div>


</script>
<script id="i-vis-background-small"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/0_Background1.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;oid/id;iTextFalse/text;iTextTrue/text;iTextSize[12]/slider,0,50,1;iImageFalse/image;iImageTrue/image;iIconSize[35]/slider,0,200,1;iInvertImageCol/checkbox;iFlipImage/checkbox;iValueType[boolean]/select,boolean,value;iValueTypeInfo/custom,vis-inventwo.infoText,valueType;iValueFalse/text;iValueTrue/text;"
		data-vis-attrs0="group.i-css;iButtonCol[#333333]/color;iButtonActive[#455618]/color;
		iCornerRadiusUL[12]/slider,0,50,1;iCornerRadiusUR[0]/slider,0,50,1;iCornerRadiusLR[12]/slider,0,50,1;iCornerRadiusLL[0]/slider,0,50,1;
		iOpacity[1]/slider,0,1,0.1;iOpacityCtn[1]/slider,0,1,0.1;iTextColor[#ffffff]/color;"
		data-vis-set="vis-inventwo"
		data-vis-type="val"
		data-vis-name="Background Small<br><span style='color:red;'>WARNING! Widget won't get any new features! Please use new widgets</span>">

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" style="width:110px; height:50px; overflow:visible; cursor:pointer;z-index:1" id="<%= this.data.attr('wid') %>" >
		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %>">

            <div class="vis-inventwo-button"
                <% if((vis.states.attr(this.data.oid + '.val') && this.data.iValueType == 'boolean') || (vis.states.attr(this.data.oid + '.val') == this.data.iValueTrue && this.data.iValueType == 'value')) { %>
                    style="background: <%= this.data.attr('iButtonActive') %>;
                    border-radius: <%= this.data.attr('iCornerRadiusUL') %>px <%= this.data.attr('iCornerRadiusUR') %>px <%= this.data.attr('iCornerRadiusLR') %>px <%= this.data.attr('iCornerRadiusLL') %>px;
                    opacity:<%= this.data.attr('iOpacity')%>;"
                <% } else { %>
                    style="background: <%= this.data.attr('iButtonCol') %>;
                    border-radius: <%= this.data.attr('iCornerRadiusUL') %>px <%= this.data.attr('iCornerRadiusUR') %>px <%= this.data.attr('iCornerRadiusLR') %>px <%= this.data.attr('iCornerRadiusLL') %>px;
                    opacity:<%= this.data.attr('iOpacity')%>;"
                <% } %>
            >
		    </div>

            <div class="vis-inventwo-button-content-small" style="opacity: <%= this.data.attr('iOpacityCtn') %>">

			<%

            		let flip = 1;
            		if(this.data.attr('iFlipImage')){
            			flip = -1;
            		}

            	%>

            <% if((vis.states.attr(this.data.oid + '.val') && this.data.iValueType == 'boolean') || (vis.states.attr(this.data.oid + '.val') == this.data.iValueTrue && this.data.iValueType == 'value')) { %>
                <div style="order:2; position:relative;">
                    <img src='<%= this.data.iImageTrue %>' width="<%= this.data.iIconSize %>" style="filter: invert(<%= Number(this.data.attr('iInvertImageCol')) %>);transform: scaleX(<%= flip %>);">
                </div>
                <div class="vis-inventwo-button-text" style="font-size: <%= this.data.iTextSize %>px;display:table-cell;color:<%= this.data.iTextColor %>">
                    <%== this.data.iTextTrue %>
		        </div>
            <% } else { %>
                <div style="order:2; position:relative;">
                    <img src='<%= this.data.iImageFalse %>' width="<%= this.data.iIconSize %>" style="filter: invert(<%= Number(this.data.attr('iInvertImageCol')) %>);transform: scaleX(<%= flip %>);">
                </div>
                <div class="vis-inventwo-button-text" style="font-size: <%= this.data.iTextSize %>px;display:table-cell;color:<%= this.data.iTextColor %>">
                    <%== this.data.iTextFalse %>
		        </div>
            <% } %>

            </div>
		</div>

	</div>


</script>

<script id="i-vis-image"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/0_Image.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;iImage/image;iInvertImageCol/checkbox;iFlipImage/checkbox;"
		data-vis-attrs0="group.i-css;iOpacityImg[1]/slider,0,1,0.1;"
		data-vis-set="vis-inventwo"
		data-vis-type="static"
		data-vis-name="Image<br><span style='color:red;'>WARNING! Widget won't get any new features! Please use new widgets</span>">

		<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" style="width:110px; height:110px; overflow:visible; cursor:pointer;z-index:1" id="<%= this.data.attr('wid') %>" >
		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %> ">

			<%

            		let flip = 1;
            		if(this.data.attr('iFlipImage')){
            			flip = -1;
            		}

            	%>
            <div class="vis-inventwo-button-content" style="opacity: <%= this.data.attr('iOpacityImg') %>;">
                <div class="vis-inventwo-button-imageContainer">
                    <img src='<%= this.data.iImage %>' style="width:100%; filter: invert(<%= Number(this.data.attr('iInvertImageCol')) %>);transform: scaleX(<%= flip %>);">
                </div>
            </div>
		</div>
	</div>


</script>
<!-- --------------vis-inventwo.html--- END -->

<!-- ---------------------------------------  DO NOT EDIT INSIDE THIS LINE - END   ------------------------------------------- -->

<div id='waitScreen' class='vis-wait-screen'>
    <div id='waitDialog' class='waitDialog'>
        <div class='vis-progressbar '></div>
        <div class='vis-wait-text' id='waitText'></div>
    </div>
</div>

<div style="display: none;text-align: center" id="dialog_delete">
    <table style="height: 100%;width: 100%">
        <tr>
            <td><span class="ui-icon ui-icon-alert" style="display:inline-block"></span><span id="dialog_delete_content"
                                                                                              style="display:inline-block;padding-left:10px"></span>
            </td>
        </tr>
        <tr>
            <td style="text-align: left; vertical-align: bottom">
                <input type="checkbox" id="dialog_delete_is_show" style="display: inline-block; padding-left: 10px" />
                <label for="dialog_delete_is_show" class="translate" style="font-size: small">Do not ask again</label>
            </td>
        </tr>
    </table>
</div>
<div style="display: none;text-align: center" id="dialog_about" title="About" class="translateT"></div>
<div style="display: none;" id="dialog_export_view" title="export view" class="translateT">
<textarea rows="60" cols="160" style="width: calc(100% - 7px); height: calc(100% - 10px); font-size: 11px;"
          id="textarea_export_view"></textarea>
</div>
<div style="display: none;" id="dialog_import_view" title="import view" class="translateT">
    <textarea rows="50" cols="160" style="width: 99%; height: calc(98% - 45px); font-size: 11px;"
              id="textarea_import_view"></textarea>
    <table class="table-no-space">
        <tr class="table-no-space">
            <td class="translate table-no-space">View name: </td>
            <td class="table-no-space"><input id="name_import_view"></td>
            <td class="table-no-space"><button id="start_import_view" class="translateB">import view</button></td>
        </tr>
    </table>
</div>
<div style="display: none; overflow: hidden" id="dialog_import_project" title="import project" class="translateT">
    <div class="vis-drop-zone" style="display: none">
        <div style="padding-top: 20%" class="translate vis-drop-text"></div>
        <input type="file" class="vis-drop-file" style="display: none">
    </div>
    <div class="vis-import-text-drop">
        <span class="vis-file-name translate">Drop files here or click to select one</span>
        <span class="vis-import-text-drop-plus">+</span>
    </div>
    <table style="padding: 15px; width: calc(100% - 30px);">
        <tr class="table-no-space">
            <td class="translate table-no-space" style="width: 20%">Project&nbsp;name:</td>
            <td class="table-no-space" style="width: 40%"><input id="name_import_project" style="width: 150px;"></td>
            <td class="table-no-space" style="width: 50%"><button id="start_import_project" class="translateB">import&nbsp;project</button></td>
        </tr>
    </table>
</div>

<div style="display: none;" id="dialog_export_widgets" title="export widgets title" class="translateT">
    <div><span class="translate">Export as zip:</span><input id="dialog_export_widgets_as_zip" type="checkbox"/></div>
    <textarea rows="60" cols="160" style="width: calc(100% - 15px); height: calc(100% - 45px); font-size: 11px;"
              id="textarea_export_widgets"></textarea>
</div>
<div style="display: none;" id="dialog_import_widgets" title="import widgets" class="translateT">
    <textarea rows="50" cols="160" style="width: 99%; height: calc(98% - 40px); font-size: 11px;"
              id="textarea_import_widgets"></textarea>
    <button id="start_import_widgets" class="translateB">import widgets</button>
</div>
<div style="display: none ;text-align: center" id="dialog_shortcuts" title="Shortcuts" class="translateT">
    <table style="height: 100%;width: 100%">
        <colgroup>
            <col style="text-align: left">
            <col style="text-align: center">
            <col style="text-align: center">
        </colgroup>
        <tr>
            <td class="translate">Full screen</td>
            <td></td>
            <td>F3</td>
        </tr>
        <tr>
            <td class="translate">Next View</td>
            <td></td>
            <td class="translate">PgUp</td>
        </tr>
        <tr>
            <td class="translate">Prev. View</td>
            <td></td>
            <td class="translate">PgDown</td>
        </tr>
        <tr>
            <td class="translate">Move Widget 1px</td>
            <td>
            </td>
            <td class="translate">Arrow Keys</td>
        </tr>
        <tr>
            <td class="translate">Move Widget 10px</td>
            <td class="translate">Ctrl / CMD</td>
            <td class="translate">Arrow Keys</td>
        </tr>
        <tr>
            <td class="translate" style="color:rgba(1,1,1,0.05)">Show develop ribbon</td>
            <td></td>
            <td style="color:rgba(1,1,1,0.05)">F2</td>
        </tr>
    </table>
</div>


<div style="height: 34px; width: 100%; position: absolute; top: 0;left:0" class="ui-widget-header ">

</div>
<div id="menu_body" style="display: none; padding: 0;border: none; background: transparent;z-index: 999 ">
    <div style="margin-left: 5px; display: inline-block; position: relative;top:-4px"><span class="ui-widget-header"  style="border: 0">vis </span><span id="vis-version" class="ui-widget-header" style="border: 0"></span></div>
    <div class="vis-menu-line" style="position: absolute; top: 37px; left: 0; height: 5px; width: 100%; background: #3C98D3; z-index: 1000;"></div>
    <ul style="border-radius: 0;display: inline-block; background: transparent; border: none;margin-bottom: -4px;position: relative; z-index: 2">
        <li id="ribbon_tab_datei" style="display: none">
            <a href="#ribbon_file" style="padding: 2px 4px 2px 4px" class="translate">File</a>
        </li>
        <li>
            <a href="#ribbon_view" style="padding: 2px 4px 2px 4px" class=" translate">Views</a>
        </li>
        <li>
            <a href="#ribbon_widget" style="padding: 2px 4px 2px 4px" class="translate">Widgets</a>
        </li>
        <li id="ribbon_tab_dev" style="display: none">
            <a href="#ribbon_dev" style="padding: 2px 4px 2px 4px" class="translate">Dev</a>
        </li>
        <li>
            <a href="#ribbon_tools" style="padding: 2px 4px 2px 4px" class="translate">Tools</a>
        </li>
    </ul>
    <div id="menu_sf" style="display: inline-block; margin-bottom: -4px; margin-left: -14px;">
        <ul id="menu" style="margin: 0; height: auto;" class="ui-tabs-nav sf-menu" >
            <li class="ui-state-default ui-corner-top menu-tab" role="tab" style="padding: 1px 4px 1px 4px"><a class="menu-tab-text translate">Setup</a>
                <ul style="display: none;" class="ui-widget-content">
                    <li class="ui-state-default menu-item" role="tab">
                        <a class="menu-tab-text"><span class="translate">Theme</span><span style="float: right;margin-top:4px" class="ui-icon ui-icon-carat-1-e"></span></a>
                        <ul id="ul_theme" class="ui-widget-content">
                            <li class="ui-state-default menu-item" data-theme="custom-light">
                                <a data-info="custom-light">Light</a>
                            </li>
                            <li class="ui-state-default menu-item" data-theme="custom-dark">
                                <a data-info="custom-dark">Dark</a>
                            </li>
                            <li class="ui-state-default menu-item" data-theme="dark-hive">
                                <a data-info="dark-hive">Dark-Hive</a>
                            </li>
                            <li class="ui-state-default menu-item" data-theme="redmond">
                                <a data-info="redmond">redmond</a>
                            </li>
                        </ul>
                    </li>
                    <li class="ui-state-default menu-item" role="tab">
                        <a class="menu-tab-text"><span class="translate">Language</span><span style="float: right;margin-top:4px" class="ui-icon ui-icon-carat-1-e"></span></a>
                        <ul class="ui-widget-content">
                            <li class="ui-state-default language-select menu-item" data-language="de">
                                <a>Deutsch</a>
                            </li>
                            <li class="ui-state-default language-select menu-item" data-language="en">
                                <a>English</a>
                            </li>
                            <li class="ui-state-default language-select menu-item" data-language="ru">
                                <a>русский</a>
                            </li>
                            <li class="ui-state-default language-select menu-item" data-language="zh-cn">
                                <a>简体中文</a>
                            </li>
                        </ul>
                    </li>
                    <li id="li_menu_projects" class="ui-state-default menu-item" role="tab">
                        <a class="menu-tab-text"><span class="translate">Projects</span><span style="float: right; margin-top:4px" class="ui-icon ui-icon-carat-1-e"></span></a>
                        <ul id="menu_projects" class="ui-widget-content">
                            <li class="ui-state-default project-select menu-item" data-language="de"><a>Main</a></li>
                        </ul>
                    </li>
                    <li id="li_menu_export" class="ui-state-default menu-item" role="tab">
                        <a class="menu-tab-text"><span class="translate">Project export/import</span><span style="float: right; margin-top:4px" class="ui-icon ui-icon-carat-1-e"></span></a>
                        <ul class="ui-widget-content">
                            <li class="ui-state-default menu-item translate export-normal">Export normal</li>
                            <li class="ui-state-default menu-item translate export-anonymized">Export anonymized</li>
                            <li class="ui-state-default menu-item translate import-normal">Import</li>
                        </ul>
                    </li>
                    <li id="li_menu_new_project" class="ui-state-default menu-item project-new" role="tab">
                        <a class="menu-tab-text"><span class="translate">New project...</span></a>
                    </li>
                    <li id="li_menu_file_manager" class="ui-state-default menu-item" role="tab" >
                        <a class="menu-tab-text"><span class="translate">File manager...</span></a>
                    </li>
                    <li id="li_menu_setup_settings" class="ui-state-default menu-item setup-settings" role="tab">
                        <a class="menu-tab-text"><span class="translate">Settings...</span></a>
                    </li>
                    <li id="li_menu_object_browser" class="ui-state-default menu-item" role="tab" >
                        <a class="menu-tab-text"><span class="translate">Object browser...</span></a>
                    </li>
                </ul>
            </li>
            <li class="ui-state-default ui-corner-top menu-tab" role="tab" style="padding: 1px 4px 1px 4px"><a class="menu-tab-text translate">Help</a>
                <ul style="display: none;" class="ui-widget-content">
                    <li class="ui-state-default menu-item" style="width: 252px ; background-image: none"><a id="m_shortcuts" class="translate">Shortcuts</a></li>
                    <li class="ui-state-default menu-item" style="width: 252px ; background-image: none"><a id="m_about" class="translate">About</a></li>
                </ul>
            </li>
        </ul>
    </div>
    <button id="button_undo"></button>
    <table style="display: inline-block; float: right">
        <tr>
            <td>
                <div class="ui-widget-header" style="border: 0; padding-right: 10px; height: 16px">
                    <span  style="display: inline-block;" id="current-project"></span> [<span  style="display: inline-block;" class="ui-icon ui-icon-person"></span>
                    <span style="display: inline-block;" id="current-user"></span>]
                </div>
            </td>
            <td style="width:30px"><button id="saving_progress"></button></td>
            <td><button id="logout_button" class="ui-state-default ui-corner-top translateT" style="display: none;" title="Logout"></button></td>
            <td><div><button id="exit_button"></button>
                <button id="exit_button_select"></button></div>
                <ul style="display: none; position: absolute; z-index: 1000; width: 400px" id="exit_button_select_menu">
                    <li data-value="close"><span class="ui-icon ui-icon-close"></span><span class="translate">Switch to runtime in this window</span></li>
                    <li data-value="play"><span class="ui-icon ui-icon-play"></span><span class="translate">Switch to runtime in new window</span></li>
                    <li data-value="refresh"><span class="ui-icon ui-icon-refresh"></span><span class="translate">Reload all runtimes</span></li>
                </ul>
            </td>
        </tr>
    </table>

    <div class="ribbon_tab" id="ribbon_file">
        <div class="ribbon_tab_content ui-widget-content"></div>
    </div>
    <div class="ribbon_tab" id="ribbon_view">
        <div class="ribbon_tab_content ui-widget-content">
            <div class="ribbon_field ui-widget-content ui-corner-all" style="width: 500px;">
                <table style="border-spacing: 0; width: 100%">
                    <colgroup>
                        <col width="80px" style="text-align:left"/>
                        <col width="100%"/>
                        <col span="10" width="26px"/>
                    </colgroup>
                    <tr id="rib_view_add_tr" style="display:none">
                        <td style=" height: 22px; padding-right:3px" class="translate">New Name:</td>
                        <td>
                            <input id="rib_view_addname" >
                        </td>
                        <td>
                            <div id="rib_view_add_ok" class="btn-iconbar ui-corner-all"></div>
                        </td>
                        <td>
                            <div id="rib_view_add_cancel" class="btn-iconbar ui-corner-all"></div>
                        </td>
                    </tr>
                    <tr id="rib_view_rename_tr" style="display:none">
                        <td style=" height: 22px; padding-right:3px" class="translate">New Name:</td>
                        <td>
                            <input id="rib_view_newname" >
                        </td>
                        <td>
                            <div id="rib_view_rename_ok" class="btn-iconbar ui-corner-all"><img class="icon-on-iconbar" src="icon/ok.png"></div>
                        </td>
                        <td>
                            <div id="rib_view_rename_cancel" class="btn-iconbar ui-corner-all"><img class="icon-on-iconbar" src="icon/cancel.png"></div>
                        </td>
                    </tr>
                    <tr id="rib_view_copy_tr" style="display:none">
                        <td style=" height: 22px; padding-right:3px" class="translate">New Name:</td>
                        <td>
                            <input id="rib_view_copyname" >
                        </td>
                        <td>
                            <div id="rib_view_copy_ok" class="btn-iconbar ui-corner-all"><img class="icon-on-iconbar" src="icon/ok.png"></div>
                        </td>
                        <td>
                            <div id="rib_view_copy_cancel" class="btn-iconbar ui-corner-all"><img class="icon-on-iconbar" src="icon/cancel.png"></div>
                        </td>
                    </tr>
                    <tr id="rib_view">
                        <td style=" height: 22px; padding-right:3px" class="translate">Active View:</td>
                        <td>
                            <select id="select_view" style="width: 310px"></select>
                        </td>
                        <td>
                            <div id="rib_view_add" class="btn-iconbar ui-corner-all translateT" title="Add new view"><img class="icon-on-iconbar" src="icon/add.png" style="width: 16px;height: 16px;margin: 3px;"></div>
                        </td>
                        <td>
                            <div id="rib_view_del" class="btn-iconbar ui-corner-all translateT" title="Delete actual view"><img class="icon-on-iconbar" src="icon/delete.png"></div>
                        </td>
                        <td>
                            <div id="rib_view_rename" class="btn-iconbar ui-corner-all translateT" title="Rename view"><img class="icon-on-iconbar" src="icon/rename.png"></div>
                        </td>
                        <td>
                            <div id="rib_view_copy" class="btn-iconbar ui-corner-all translateT" title="Copy view"><img class="icon-on-iconbar" src="icon/copy.png"></div>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="ribbon_field ui-widget-content ui-corner-all">
                <table style="border-spacing: 0">
                    <tr>
                        <td>
                            <button class="vis-editor translateB" id="export_view">export view</button>
                        </td>
                        <td>
                            <button class="vis-editor translateB" id="import_view">import view</button>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <div class="ribbon_tab" id="ribbon_widget">
        <div class="ribbon_tab_content ui-widget-content">
            <div class="ribbon_field ui-widget-content ui-corner-all" style="width: 461px;">
                <table style="border-spacing: 0; width: 100%; text-align: left">
                    <colgroup>
                        <col width="80px" style="text-align: left"/>
                        <col width="100%"/>
                        <col span="10" width="26px"/>
                        <col span="10" width="26px"/>
                        <col span="10" width="26px"/>
                    </colgroup>
                    <tr id="rib_wid_copy_tr" style="display:none">
                        <td style="height: 22px; padding-right: 3px" class="translate">To View:</td>
                        <td><select id="rib_wid_copy_view" style="width: 310px"></select></td>
                        <td><div id="rib_wid_copy_ok"     class="btn-iconbar ui-corner-all"></div></td>
                        <td colspan="2"><div id="rib_wid_copy_cancel" class="btn-iconbar ui-corner-all"></div></td>
                    </tr>
                    <tr id="rib_wid">
                        <td style=" height: 22px; padding-right:3px" class="translate">Active Widget:</td>
                        <td><select id="select_active_widget" multiple="multiple" data-multiselect-width="400" data-multiselect-height="250"></select></td>
                        <td><div id="rib_wid_del"  class="btn-iconbar ui-corner-all translateT" title="Delete widget"></div></td>
                        <td><div id="rib_wid_copy" class="btn-iconbar ui-corner-all translateT" title="Copy widget"></div></td>
                        <td><div id="rib_wid_doc"  class="btn-iconbar ui-corner-all translateT" title="Help about widget"></div></td>
                    </tr>
                </table>
            </div>
            <!--<div class="ribbon_field ui-widget-content ui-corner-all"style="display:none">-->
            <div class="ribbon_field ui-widget-content ui-corner-all">
                <table style="border-spacing: 0">
                    <tr>
                        <td class="translate" style="text-align: center; height: 22px; padding-right: 3px">Align widgets:</td>
                        <td>
                            <div id="wid_align_left" class="btn-iconbar ui-corner-all translateT" title="Align horizontal/left"><img class="icon-on-iconbar" src="icon/align-horizontal-left.png"></div>
                        </td>
                        <td>
                            <div id="wid_align_right" class="btn-iconbar ui-corner-all translateT" title="Align horizontal/right"><img class="icon-on-iconbar" src="icon/align-horizontal-right-2.png"></div>
                        </td>
                        <td>
                            <div id="wid_align_top" class="btn-iconbar ui-corner-all translateT" title="Align vertical/top"><img class="icon-on-iconbar" src="icon/align-vertical-top-2.png"></div>
                        </td>
                        <td>
                            <div id="wid_align_bottom" class="btn-iconbar ui-corner-all translateT" title="Align vertical/bottom"><img class="icon-on-iconbar" src="icon/align-vertical-bottom-2.png"></div>
                        </td>
                        <td>
                            <div id="wid_align_hc" class="btn-iconbar ui-corner-all translateT" title="Align horizontal/center"><img class="icon-on-iconbar" src="icon/align-horizontal-center-2.png"></div>
                        </td>
                        <td>
                            <div id="wid_align_vc" class="btn-iconbar ui-corner-all translateT" title="Align vertical/center"><img class="icon-on-iconbar" src="icon/align-vertical-center-2.png"></div>
                        </td>
                        <td>
                            <div id="wid_dis_h" class="btn-iconbar ui-corner-all translateT" title="Align horizontal/equal"><img class="icon-on-iconbar" src="icon/distribute-horizontal-equal.png"></div>
                        </td>
                        <td>
                            <div id="wid_dis_v" class="btn-iconbar ui-corner-all translateT" title="Align vertical/equal"><img class="icon-on-iconbar" src="icon/distribute-vertical-equal.png"></div>
                        </td>
                        <td>
                            <div id="wid_align_width" class="btn-iconbar ui-corner-all translateT" title="Align width"><img class="icon-on-iconbar" src="icon/align-width.png"></div>
                        </td>
                        <td>
                            <div id="wid_align_height" class="btn-iconbar ui-corner-all translateT" title="Align height"><img class="icon-on-iconbar" src="icon/align-height.png"></div>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="ribbon_field ui-widget-content ui-corner-all" style="">
                <table style="border-spacing: 0">
                    <tr>
                        <td class="translate" style="text-align: center; height: 22px; padding-right: 3px">All widgets:</td>
                        <td>
                            <input id="wid_all_lock_function" type="checkbox" /><label style="width: 23px; height: 23px" id="wid_all_lock_f" for="wid_all_lock_function" class="translateT ttt" title="Lock Widget function"></label>
                        </td>
                        <td>
                            <input id="wid_all_lock_drag" type="checkbox" /><label style="width: 23px;height: 23px" id="wid_all_lock_d" for="wid_all_lock_drag"  class="translateT" title="Lock Widget dragging"></label>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="ribbon_field ui-widget-content ui-corner-all">
                <table style="border-spacing: 0">
                    <tr>
                        <td>
                            <button class="vis-editor translateB" id="export_widgets">export widgets</button>
                        </td>
                        <td>
                            <button class="vis-editor translateB" id="import_widgets">import widgets</button>
                        </td>
                    </tr>
                </table>
            </div>

        </div>
    </div>
    <div class="ribbon_tab" id="ribbon_tools" >
        <div class="ribbon_tab_content ui-widget-content" >
            <div class="ribbon_field ui-widget-content ui-corner-all" style="width: 550px">
                <table style="border-spacing: 0; width: 100%">
                    <colgroup>
                        <col width="80px" style="text-align:left"/>
                        <col width="100%"/>
                        <col span="10" width="26px"/>
                    </colgroup>
                    <tr id="rib_tools_resolution_manuel" style="display:none">
                        <td class="translate">Resolution:</td>
                        <td><table style="border: 0"><tr>
                            <td><div style="display: inline-block" class="translate">Width</div></td>
                            <td><input id="screen_size_x" type="number" style="width: 60px" value=""/></td>
                            <td><div style="display: inline-block" class="translate">Height</div></td>
                            <td><input id="screen_size_y" type="number" style="width: 60px" value=""/></td>
                        </tr></table>
                        </td>
                        <td>
                            <div class="rib_tool_resolution_toggle"></div>
                        </td>
                        <td>
                            <table style="border: 0">
                                <tr>
                                    <td><label for="screen_default_man" title="Default screen" class="translate translateT">Default:</label></td><td><input class="vis-screen-default" id="screen_default_man" type="checkbox"/></td>
                                    <td><label for="render_always_man"  title="Render always"  class="translate translateT">Render always:</label></td><td><input class="vis-screen-render-always" id="render_always_man" type="checkbox"/></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr id="rib_tools_resolution_fix">
                        <td class="translate">Resolution:</td>
                        <td>
                            <select id="screen_size">
                                <option value="" class="translate">not defined</option>
                                <option value="user" class="translate">User defined</option>
                                <option value="320x460">iPhone 3G, 3GS, 4, 4S - Portrait</option>
                                <option value="480x300">iPhone 3G, 3GS, 4, 4S - Landscape</option>
                                <option value="320x548">iPhone 5, 5S - Portrait</option>
                                <option value="568x300">iPhone 5, 5S - Landscape</option>
                                <option value="768x1004">iPad - Portrait</option>
                                <option value="1024x748">iPad - Landscape</option>
                                <option value="320x533">Samsung S2 - Portrait</option>
                                <option value="533x320">Samsung S2 - Landscape</option>
                                <option value="360x640">Samsung S3, Note 2 - Portrait</option>
                                <option value="640x360">Samsung S3, Note 2 - Landscape</option>
                                <option value="360x640">Samsung S4, S5, Note 3 - Portrait</option>
                                <option value="640x360">Samsung S4, S5, Note 3 - Landscape</option>
                                <option value="384x640">Nexus 4 - Portrait</option>
                                <option value="640x384">Nexus 4 - Landscape</option>
                                <option value="360x640">Nexus 5 - Portrait</option>
                                <option value="640x360">Nexus 5 - Landscape</option>
                                <option value="604x966">Nexus 7 (2012) - Portrait</option>
                                <option value="966x604">Nexus 7 (2012) - Landscape</option>
                                <option value="800x1280">Nexus 10 - Portrait</option>
                                <option value="1280x800">Nexus 10 - Landscape</option>
                                <option value="720x1280">HD - Portrait</option>
                                <option value="1280x720">HD - Landscape</option>
                                <option value="1080x1920">Full HD - Portrait</option>
                                <option value="1920x1080">Full HD - Landscape</option>
                            </select>
                        </td>
                        <td>
                            <div class="rib_tool_resolution_toggle"></div>
                        </td>
                        <td>
                            <table style="border: 0">
                                <tr>
                                    <td><label for="screen_default_fix" title="Default screen" class="translate translateT">Default:</label></td><td><input class="vis-screen-default" id="screen_default_fix" type="checkbox"/></td>
                                    <td><label for="render_always_fix"      title="Render always"  class="translate translateT">Render always:</label></td><td><input class="vis-screen-render-always" id="render_always_fix" type="checkbox"/></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="ribbon_field ui-widget-content ui-corner-all">
                <table style="border-spacing: 0">
                    <tr>
                        <td>
                            <span style=" display: inline-block;" class="translate">Grid</span>
                        </td>
                        <td style="padding-left: 5px">
                            <select id="snap_type">
                                <option value="0" class="translate">disabled</option>
                                <option value="1" class="translate">elements</option>
                                <option value="2" class="translate">grid</option>
                            </select>
                        </td>
                        <td class="translate" style="padding-left: 5px">grid size</td>
                        <td><input id="grid_size" type="number" value=""></td>
                    </tr>
                </table>
            </div>
            <div class="ribbon_field ui-widget-content ui-corner-all">
                <table style="border-spacing: 0">
                    <tr>
                        <td>
                            <span style="display: inline-block" class="translate">Instance ID</span>
                        </td>
                        <td>
                            <input id="vis_instance"/>
                        </td>
                        <td>
                            <button type="button" class="vis-editor translateB" id="create_instance">create_instance</button>
                        </td>

                    </tr>
                </table>
            </div>
            <div class="ribbon_field ui-widget-content ui-corner-all">
                <table style="border-spacing: 0">
                    <tr>
                        <td>
                            <span style="display: inline-block" class="translate translateT" title="Make available for all users">Available for all:</span>
                        </td>
                        <td>
                            <input type="checkbox" id="vis_access_mode"/>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="ribbon_field ui-widget-content ui-corner-all" style="display: none">
                <table style="border-spacing: 0">
                    <tr>
                        <td style="width: 80px" class='translate'>Room:</td>
                        <td><select id="wizard_rooms"></select></td>
                        <td style="width: 80px" class='translate'>Function:</td>
                        <td><select id="wizard_funcs"></select></td>
                        <td style="width: 80px" class='translate'>Widget:</td>
                        <td><select id="wizard_widgets"></select></td>
                    </tr>
                </table>
            </div>
        </div>

    </div>
    <div class="ribbon_tab" id="ribbon_dev">
        <div class="ribbon_tab_content ui-widget-content">
            <div class="ribbon_field ui-widget-content ui-corner-all">
                <table style="border-spacing: 0">
                    <tr>
                        <td>
                            <button id="dev_show_html">Show Widget HTML</button>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="ribbon_field ui-widget-content ui-corner-all">
                <table style="border-spacing: 0">
                    <tr>
                        <td>
                            <button class="vis-editor translateB" id="export_local_view">export views</button>
                        </td>
                        <td>
                            <button class="vis-editor translateB" id="import_local_view">import views</button>
                        </td>
                        <td>
                            <button class="vis-editor translateB" id="clear_local_view">clear cached views</button>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="ribbon_field ui-widget-content ui-corner-all">
                <table style="border-spacing: 0; text-align: center">
                    <tr>
                        <td class="translate">dev1</td>
                        <td class="translate">dev2</td>
                        <td class="translate">dev3</td>
                        <td class="translate">dev4</td>
                        <td class="translate">dev5</td>
                        <td class="translate">dev6</td>
                    </tr>
                    <tr>
                        <td>
                            <input type="number" value="0" step="1" class="vis-editor oid-dev" id="oid_dev1"/>
                        </td>
                        <td>
                            <input type="number" value="0" step="1" class="vis-editor oid-dev" id="oid_dev2"/>
                        </td>
                        <td>
                            <input type="number" value="0" step="1" class="vis-editor oid-dev" id="oid_dev3"/>
                        </td>
                        <td>
                            <input type="number" value="0.0" step="0.1" class="vis-editor oid-dev" id="oid_dev4"/>
                        </td>
                        <td>
                            <input type="number" value="1" step="1" class="vis-editor oid-dev" id="oid_dev5"/>
                        </td>
                        <td>
                            <input value="string" class="vis-editor oid-dev" id="oid_dev6"/>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>

<div id="panel_body" class="ui-widget-content" style="display: none; height: 100%">
    <div class="ui-widget-content" id="pan_add_wid">
        <div class="ui-state-default" style="height:16px;font-size:16px;padding: 5px;font-weight: bolder;">
            <span class="translate">Add Widget</span>
            <div id="btn_prev_type" title="Show type of widgets" class="translateT"><span class="ui-icon ui-icon-tag"></span></div>
            <div id="btn_prev_zoom" title="Small widgets" class="translateT"><span class="ui-icon ui-icon-zoomout"></span></div>
        </div>
        <input id="filter_set" value="*" style="width: 100%" class="translateT" title="Widgets filter. Double click to clear."/>
        <select id="select_set" style="width: 100%" class="select-set"></select>

        <div id="toolbox" class="toolbox">
            <ul id="context_menu_template" style="position: absolute; display: none; z-index: 999; min-width: 100px">
                <li id="context_menu_template_edit"    class="context-template-submenu"  data-action="edit">
                    <span class="translate">Edit</span>
                </li>
                <li id="context_menu_template_delete"  class="context-template-submenu" data-action="delete">
                    <span class="translate">Delete</span>
                </li>
            </ul>
        </div>

    </div>
    <div id="vis_wrap">
        <div id="view_select" class="ui-widget-content">
            <button id="view_select_left"></button>
            <button id="view_select_list"></button>
            <button id="view_select_right"></button>
            <div id="view_select_tabs_wrap">
                <div id="view_select_tabs"></div>
            </div>
        </div>
        <div id="vis_container" style="width: 100%; height: 100%; overflow: auto" class="ui-widget-content vis_container_edit vis_container">
            <div id="size_x"
                 style="display: none; z-index: 99; position: absolute; top: 0; width:0; border-right: 1px solid red; height: 100%; border-left: 1px solid green;"></div>
            <div id="size_y"
                 style="display:none; z-index: 99; position: absolute; left: 0; height:0; border-bottom: 1px solid red; width: 100%; border-top: 1px solid green;"></div>
            <ul id="context_menu" style="position: absolute; display: none; z-index: 999; min-width: 150px">
                <li id="context_menu_wid"     class="ui-state-disabled"></li>
                <li id="context_menu_select"  class="context-submenu context-menu-common-item" data-action="select">
                    <span class="translate">Select</span>
                </li>
                <li id="context_menu_group"   class="context-menu-common-item" data-action="group">
                    <span class="ui-icon ui-icon-newwin"></span>
                    <span class="translate">to group</span>
                </li>
                <li id="context_menu_ungroup" class="context-menu-common-item" data-action="ungroup">
                    <span class="ui-icon ui-icon-arrow-4-diag"></span>
                    <span class="translate">Ungroup</span>
                </li>
                <li id="context_menu_group2template" class="context-menu-common-item" data-action="group2template">
                    <span class="ui-icon ui-icon-tag"></span>
                    <span class="translate">Make template</span>
                </li>
                <li id="context_menu_copy"    class="context-menu-action context-menu-common-item" data-action="copy">
                    <span class="ui-icon ui-icon-copy"></span>
                    <span class="translate">Copy</span>
                </li>
                <li id="context_menu_cut"     class="context-menu-action context-menu-common-item" data-action="cut">
                    <span class="ui-icon ui-icon-scissors"></span>
                    <span class="translate">Cut</span>
                </li>
                <li id="context_menu_paste"   class="context-menu-common-item" data-action="paste">
                    <span class="ui-icon ui-icon-document"></span>
                    <span class="translate">Paste</span>
                </li>
                <li id="context_menu_delete"  class="context-menu-action context-menu-common-item" data-action="delete">
                    <span class="ui-icon ui-icon-trash"></span>
                    <span class="translate">Delete</span>
                </li>
                <li id="context_menu_more"><span class="translate">More</span>
                    <ul style="min-width: 150px">
                        <li id="context_menu_lock" class="context-menu-action context-menu-common-item" data-action="lock">
                            <span class="ui-icon ui-icon-locked"></span>
                            <span class="translate">Lock</span>
                        </li>
                        <li id="context_menu_unlock" class="context-menu-action context-menu-common-item" data-action="unlock">
                            <span class="ui-icon ui-icon-unlocked"></span>
                            <span class="translate">Unlock</span>
                        </li>
                        <li id="context_menu_front" class="context-menu-action context-menu-common-item" data-action="bringToFront">
                            <span class="ui-icon ui-icon-arrowthick-1-n"></span>
                            <span class="translate">Bring to front</span>
                        </li>
                        <li id="context_menu_back" class="context-menu-action context-menu-common-item" data-action="bringToBack">
                            <span class="ui-icon ui-icon-arrowthick-1-s"></span>
                            <span class="translate">Move to back</span>
                        </li>
                        <li id="context_menu_export" class="context-menu-action context-menu-common-item" data-action="export">
                            <span class="ui-icon ui-icon-arrowthickstop-1-e"></span>
                            <span class="translate">export widgets</span>
                        </li>
                        <li id="context_menu_import">
                            <span class="ui-icon ui-icon-arrowthickstop-1-w"></span>
                            <span class="translate">import widgets</span>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
    <div id="attr_wrap">
        <div id="pan_attr">
            <div class="ui-state-default" style="height: 16px;font-size: 16px;padding: 5px;font-weight: bolder;"><span class="translate">Attributes</span><button id="btn_accordeon" style="float: right;"></button></div>
            <ul style="border-radius: 0; display: inline-block; background: transparent; border: none; margin-bottom: -2px">
                <li>
                    <a href="#tab_view_attr" style="padding: 2px 4px 2px 4px" class="translate">View</a>
                </li>
                <li>
                    <a id="widget_tab" href="#tab_wid_attr" style="padding: 2px 4px 2px 4px" class="translate">Widget</a>
                </li>
                <li>
                    <a id="cssEditor_tab" href="#tab_css_edit" style="padding: 2px 4px 2px 4px" class="translate">CSS</a>
                </li>
                <li>
                    <a id="script_editor_tab" href="#tab_script_edit" style="padding: 2px 4px 2px 4px" class="translate">Scripts</a>
                </li>
            </ul>
            <div class="tab_attr ui-widget-content" id="tab_view_attr">
                <div id="view_inspector">
                    <table style="width: 100%; border: 0">
                        <colgroup>
                            <col width="40%"/>
                            <col width="60%"  style="padding-right: 5px"/>
                            <col width="26px" style=""/>
                        </colgroup>
                        <tbody>
                        <tr><td colspan="3" class="ui-state-default"><span class="translate">group_css_common</span><button class="view-group" style="float:right" data-group="view-css-common"></button></td></tr>
                        <tr class="group-view-css-common">
                            <td class="vis-edit-td-caption translate">comment</td>
                            <td class="vis-edit-td-field" colspan="2"><input id="inspect_view_comment" class="vis-inspect-view vis-edit-textbox"/></td>
                        </tr>
                        <tr class="group-view-css-common">
                            <td class="vis-edit-td-caption translate">class</td>
                            <td class="vis-edit-td-field" colspan="2"><input id="inspect_view_class" class="vis-inspect-view vis-edit-textbox"/></td>

                        </tr>
                        <tr class="group-view-css-common">
                            <td class="vis-edit-td-caption translateT" style="font-style: italic" title="filter_key_tooltip"><span class="translate">filter_key</span></td>
                            <td class="vis-edit-td-field" colspan="2"><input id="inspect_view_filterkey" class="vis-inspect-view vis-edit-textbox"/></td>
                        </tr>
                        <tr class="group-view-css-common">
                            <td class="vis-edit-td-caption translate">Theme</td>
                            <td class="vis-edit-td-field" colspan="2">
                                <select id="inspect_view_theme" class="vis-edit-textbox" style="width:100%">
                                    <option value="black-tie">black-tie</option>
                                    <option value="blitzer">blitzer</option>
                                    <option value="cupertino">cupertino</option>
                                    <option value="custom-dark">custom-dark</option>
                                    <option value="custom-light">custom-light</option>
                                    <option value="dark-hive">dark-hive</option>
                                    <option value="dot-luv">dot-luv</option>
                                    <option value="eggplant">eggplant</option>
                                    <option value="excite-bike">excite-bike</option>
                                    <option value="flick">flick</option>
                                    <option value="hot-sneaks">hot-sneaks</option>
                                    <option value="humanity">humanity</option>
                                    <option value="overcast">overcast</option>
                                    <option value="redmond">redmond</option>
                                    <option value="smoothness">smoothness</option>
                                    <option value="start">start</option>
                                    <option value="sunny">sunny</option>
                                    <option value="ui-darkness">ui-darkness</option>
                                    <option value="ui-lightness">ui-lightness</option>
                                    <option value="vader">vader</option>
                                </select>
                            </td>
                        </tr>
                        <tr class="group-view-css-common">
                            <td><label class="vis-edit-td-caption translate" for="inspect_view_group">visibility-groups</label></td>
                            <td class="vis-edit-td-field" colspan="2">
                                <select multiple="multiple" id="inspect_view_group" class="vis-edit-textbox" style="width: 100%"></select>
                            </td>
                        </tr>
                        <tr class="group-view-css-common">
                            <td><label class="vis-edit-td-caption translate" for="inspect_view_group_action">visibility-groups-action</label></td>
                            <td class="vis-edit-td-field" colspan="2">
                                <select id="inspect_view_group_action" class="vis-edit-textbox" style="width: 100%">
                                    <option value="hide" class="translate">hide</option>
                                    <option value="disabled" class="translate">disabled</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3" class="css-inspector-heading ui-state-default"><span class="translate">group_css_background</span><button  style="float:right" class="view-group" data-group="view-css-background"></button></td>
                        </tr>
                        <tr class="group-view-css-background">
                            <td colspan="3" id="inspect_view_bkg_parent"><input id="inspect_view_bkg_def"/></td>
                        </tr>
                        <tr class="group-view-css-background">
                            <td class="translate">Use background</td>
                            <td colspan="2">
                                <input id="inspect_view_css_only_background" type="checkbox"/>
                            </td>
                        </tr>
                        <tr class="group-view-css-background">
                            <td>background</td>
                            <td colspan="2">
                                <input id="inspect_view_css_background" class="vis-edit-textbox vis-inspect-view-css"/>
                            </td>
                        </tr>
                        <tr class="group-view-css-background">
                            <td>-color</td>
                            <td ><input id="inspect_view_css_background-color" class="vis-edit-textbox vis-inspect-view-css"/></td>
                            <td><button data-attr="view_css_background-color" class="view-edit-button" data-type="color"></button></td>
                        </tr>
                        <tr class="group-view-css-background">
                            <td>-image</td>
                            <td colspan="2">
                                <input id="inspect_view_css_background-image" class="vis-edit-textbox vis-inspect-view-css"/>
                            </td>
                        </tr>
                        <tr class="group-view-css-background">
                            <td>-repeat</td>
                            <td  colspan="2">
                                <input id="inspect_view_css_background-repeat" class="vis-edit-textbox vis-inspect-view-css" data-options="repeat;repeat-x;repeat-y;no-repeat;initial;inherit"/>
                            </td>
                        </tr>
                        <tr class="group-view-css-background">
                            <td>-attachment</td>
                            <td  colspan="2">
                                <input id="inspect_view_css_background-attachment" class="vis-edit-textbox vis-inspect-view-css" data-options="scroll;fixed;local;initial;inherit"/>
                            </td>
                        </tr>
                        <tr class="group-view-css-background">
                            <td>-position</td>
                            <td  colspan="2">
                                <input id="inspect_view_css_background-position" class="vis-edit-textbox vis-inspect-view-css" data-options="left top;left center;left bottom;right top;right center;right bottom;center top;center center;center bottom;initial;inherit"/>
                            </td>
                        </tr>
                        <tr class="group-view-css-background">
                            <td>-size</td>
                            <td  colspan="2">
                                <input id="inspect_view_css_background-size" class="vis-edit-textbox vis-inspect-view-css" data-options="auto;cover;contain;initial;inherit"/>
                            </td>
                        </tr>
                        <tr class="group-view-css-background">
                            <td>-clip</td>
                            <td  colspan="2">
                                <input id="inspect_view_css_background-clip" class="vis-edit-textbox vis-inspect-view-css" data-options="border-box;padding-box;content-box;initial;inherit"/>
                            </td>
                        </tr>
                        <tr class="group-view-css-background">
                            <td>-origin</td>
                            <td colspan="2">
                                <input id="inspect_view_css_background-origin" class="vis-edit-textbox vis-inspect-view-css" data-options="border-box;padding-box;content-box;initial;inherit"/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3" class="css-inspector-heading ui-state-default"><span class="translate">group_css_font_text</span><button style="float:right" class="view-group" data-group="view-css-font-text"></button></td>
                        </tr>
                        <tr class="group-view-css-font-text">
                            <td>color</td>
                            <td>
                                <input id="inspect_view_css_color" class="vis-edit-textbox vis-inspect-view-css"/>
                            </td>
                            <td><button data-attr="view_css_color" class="view-edit-button" data-type="color"></button></td>
                        </tr>
                        <tr class="group-view-css-font-text">
                            <td>text-shadow</td>
                            <td>
                                <input id="inspect_view_css_text-shadow" class="vis-edit-textbox vis-inspect-view-css"/>
                            </td>
                        </tr>
                        <tr class="group-view-css-font-text">
                            <td>font-family</td>
                            <td >
                                <input id="inspect_view_css_font-family" class="vis-edit-textbox vis-inspect-view-css"/>
                            </td>
                        </tr>
                        <tr class="group-view-css-font-text">
                            <td>font-style</td>
                            <td >
                                <input id="inspect_view_css_font-style" class="vis-edit-textbox vis-inspect-view-css"/>
                            </td>
                        </tr>
                        <tr class="group-view-css-font-text">
                            <td>font-variant</td>
                            <td >
                                <input id="inspect_view_css_font-variant" class="vis-edit-textbox vis-inspect-view-css"/>
                            </td>
                        </tr>
                        <tr class="group-view-css-font-text">
                            <td>font-weight</td>
                            <td >
                                <input id="inspect_view_css_font-weight" class="vis-edit-textbox vis-inspect-view-css"/>
                            </td>
                        </tr>
                        <tr class="group-view-css-font-text">
                            <td>font-size</td>
                            <td >
                                <input id="inspect_view_css_font-size" class="vis-edit-textbox vis-inspect-view-css"/>
                            </td>
                        </tr>
                        <tr class="group-view-css-font-text">
                            <td>line-height</td>
                            <td >
                                <input id="inspect_view_css_line-height" class="vis-edit-textbox vis-inspect-view-css"/>
                            </td>
                        </tr>
                        <tr class="group-view-css-font-text">
                            <td>letter-spacing</td>
                            <td >
                                <input id="inspect_view_css_letter-spacing" class="vis-edit-textbox vis-inspect-view-css"/>
                            </td>
                        </tr>
                        <tr class="group-view-css-font-text">
                            <td>word-spacing</td>
                            <td >
                                <input id="inspect_view_css_word-spacing" class="vis-edit-textbox vis-inspect-view-css"/>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="tab_attr ui-widget-content" id="tab_wid_attr">
                <div class="vis-widget-tools" style="margin-top: 3px;">
                    <!--<h4 class="translate">Widget Attributes:</h4>-->
                    <table cellspacing=0 style="width: 100%; border: 0; table-layout: fixed; word-wrap: break-word;">
                        <colgroup>
                            <col width="40%"/>
                            <col width="60%"  style="padding-right: 5px"/>
                            <col width="26px" style=""/>
                            <col width="26px" style=""/>
                        </colgroup>
                        <tbody id="widget_attrs"></tbody>
                    </table>
                </div>
            </div>
            <div class="tab_attr ui-widget-content" id="tab_css_edit">
                <div id="css_editor_head">
                    <select  id="select_css_file" style=" width: 100px;">
                        <option value="vis-common-user" class="translate">Global</option>
                        <option value="vis-user"        class="translate">Project</option>
                    </select>
                    <input id="css_find"/>
                    <button id="css_find_prev" class="translateT" title="Find previous"></button>
                    <button id="css_find_next" class="translateT" title="Find next"></button>
                    <button id="css_file_save" class="translateT" disabled title="Save CSS"></button>
                </div>
                <div id="css_editor"></div>
            </div>
            <div class="tab_attr ui-widget-content" id="tab_script_edit">
                <div id="script_editor_head">
                    <span class="translate" style="padding-top: 3px">Find:</span>
                    <input id="script_find"/>
                    <button id="script_find_prev" class="translateT" title="Find previous"></button>
                    <button id="script_find_next" class="translateT" title="Find next"></button>
                    <button id="script_file_save" class="translateT" disabled title="Save scripts"></button>
                </div>
                <div id="script_editor"></div>

            </div>
        </div>
    </div>
</div>
<div id="dialog-message" title="Message" style="display: none">
    <p>
        <span id="dialog-message-icon" class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 50px 0;"></span>
        <span id="dialog-message-text"></span>
    </p>
</div>
<div id="dialog-confirm" title="Question" style="display: none">
    <p>
        <span id="dialog-confirm-icon" class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 50px 0;"></span>
        <span id="dialog-confirm-text" style="padding-left: 20px;"></span>
    </p>
</div>
<div style="display: none;text-align: center" id="dialog_template_warning">
    <table style="height: 100%; width: 100%">
        <tr>
            <td><span id="dialog_template_warning_text" class="translate" style="display: inline-block; padding-left: 10px; text-align: left;">templates_help</span>
            </td>
        </tr>
        <tr>
            <td style="text-align: left; vertical-align: bottom">
                <input type="checkbox" id="dialog_template_warning_is_show" style="display: inline-block; padding-left: 10px" />
                <label class="translate" style="font-size: small" for="dialog_template_warning_is_show">Do not show again</label>
            </td>
        </tr>
    </table>
</div>
<div id="dialog-edit-text" title="Edit text" style="display: none">
    <!--textarea style="width: calc(100% - 5px); height: 96%;resize: none;" id="dialog-edit-text-textarea"></textarea-->
    <div id="dialog-edit-text-textarea" style="width: calc(100% - 5px); height: 96%;"></div>
</div>
<div id="dialog-new-project" class="translateT" title="Create new project" style="overflow: hidden; display: none">
    <table><tr><td class="translate">Name:</td><td><input id="new-project-name" style="width: 250px" /></td></tr></table>
</div>
<div id="dialog-settings" class="translateT" title="VIS Settings" style="overflow: hidden; display: none">
    <table>
        <tr>
            <td class="translate">Reload if sleep longer than:</td>
            <td><select id="reloadOnSleep" style="width: 250px">
                <option value="0" class="translate">never</option>
                <option value="30" class="translate">30 seconds</option>
                <option value="60" class="translate">1 minute</option>
                <option value="300" class="translate">5 minutes</option>
                <option value="600" class="translate">10 minutes</option>
                <option value="1800" class="translate">30 minutes</option>
                <option value="3600" class="translate">1 hour</option>
                <option value="7200" class="translate">2 hours</option>
                <option value="10800" class="translate">3 hours</option>
                <option value="21600" class="translate">6 hours</option>
                <option value="43200" class="translate">12 hours</option>
                <option value="86400" class="translate">1 day</option>
            </select>
            </td>
        </tr>
        <tr>
            <td class="translate">Reconnect interval:</td>
            <td><select id="reconnectInterval" style="width: 250px">
                <option value="1000" class="translate">1 second</option>
                <option value="2000" class="translate">2 seconds</option>
                <option value="5000" class="translate">5 seconds</option>
                <option value="10000" class="translate">10 seconds</option>
                <option value="20000" class="translate">20 seconds</option>
                <option value="30000" class="translate">30 seconds</option>
                <option value="60000" class="translate">1 minute</option>
            </select>
            </td>
        </tr>
        <tr>
            <td class="translate">Dark reconnect screen:</td>
            <td><input type="checkbox" id="darkReloadScreen" /></td>
        </tr>
        <tr>
            <td class="translate">Destroy inactive view after:</td>
            <td><select id="destroyViewsAfter" style="width: 250px">
                <option value="0" class="translate">never</option>
                <option value="1" class="translate">1 second</option>
                <option value="5" class="translate">5 seconds</option>
                <option value="10" class="translate">10 seconds</option>
                <option value="20" class="translate">20 seconds</option>
                <option value="30" class="translate">30 seconds</option>
                <option value="60" class="translate">1 minute</option>
                <option value="300" class="translate">5 minutes</option>
                <option value="600" class="translate">10 minutes</option>
                <option value="1800" class="translate">30 minutes</option>
                <option value="3600" class="translate">1 hour</option>
                <option value="7200" class="translate">2 hours</option>
                <option value="10800" class="translate">3 hours</option>
                <option value="21600" class="translate">6 hours</option>
                <option value="43200" class="translate">12 hours</option>
                <option value="86400" class="translate">1 day</option>
            </select>
            </td>
        </tr>
        <tr>
            <td class="translate">States Debounce Time (millis):</td>
            <td><input type="number" min="100" id="statesDebounceTime" /></td>
        </tr>
    </table>
</div>
<div id="dialog-template" class="translateT" title="Template Settings" style="overflow: hidden; display: none">
    <table style="width: 750px">
        <tr>
            <td style="width: 150px;"><label class="translate" for="dialog_template_name">Name:</label></td>
            <td style="width: calc(100% - 150px);"><input id="dialog_template_name" style="width: 100%;"/></td>
        </tr>
        <tr>
            <td><label class="translate" for="dialog_template_desc">Description:</label></td>
            <td><input id="dialog_template_desc" style="width: 100%;"/></td>
        </tr>
    </table>
</div>

<div style="display: none" id="uploadPreview"></div>

<div id="growl_informator" class="jGrowl bottom-left" style="z-index:3001"></div>

<div id="server-disconnect" style="left: calc(100% - 350px); padding: 10px; display: block; width: 170px; height: 14px; border-radius: 3px; text-align: center; position: fixed;" class="ui-state-error disconnect-light" >
    <span class="ui-icon ui-icon-alert" style="position: relative; top: 0;left: 0; display: inline-block; float: left; margin-right: .3em;"></span>
    <div class="translate" style="display: inline-block; position: relative;top: 0;left: 0;">No connection</div>
</div>

</body>

</html>
